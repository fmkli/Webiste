!function(a,b){var c=netease.mail.base,d=c.createClass("netease.mail.Global");a.Global=d;var e={config:{packageName:$G.environment.packageName,cacheJsPath:$G.environment.cacheJsPath,appName:$G.environment.appName,isDebug:$G.environment.isDebug,time:new Date($G.environment.now),unnormalids:[2,4,5,6,7,15],nolistids:[4,5,7,15],nounreadids:[4,5]},onReady:function(){}},f=e.config;e.onReady;var g=a.Object;f=f||{},$G=b.$G||{},$G.common=f;var h={_conf:{},set:function(b,c,d){this._conf[b]=d?c:a.Object.isArray(c)?a.Array.union(this._conf[b]||[],c):a.Object.extend(this._conf[b],c)},get:function(a){return this._conf[a]}};g.extend($G,h,!0);var i={call:function(a,b){var c=b.replace(f.packageName+".","").replace(/\./gi,"/").toLowerCase()+".js";return a+c}},j={packageName:null,appName:"js5",isDebug:!1,loaderConf:i,cacheJsPath:null};g.extend(f,j,!0),a.createPackage(f.packageName),a.Component=netease.mail.component.Component,a.Object.extend($G,{config:f}),a.Debug.activate=f.isDebug,$D=a.Debug,$N=function(a){var b=f.packageName;return a?a.indexOf(b)>-1?a:b+"."+a:b},$RN=function(a){var b=f.packageName;return a?a.indexOf(b)>-1?a.substring(b.length+1):a:""},$I=function(b){var c=$N(b);return a.getClass(c)},a.Loader.baseUrl=f.cacheJsPath,a.Loader.loaderConf=f.loaderConf,a.Loader.isDebug=f.isDebug,$L=function(c,d,e,f){return c=$N(c),d||(d=b),e||(e=arguments.callee.caller),f||(f=e.arguments),a.Loader.load(c,d,e,f)},$LP=function(a,b,c,d){var e=$G.mailPattern.currentPattern;return $G.mailPattern[e][a]||($G.mailPattern[e][a]=!0),$L(a,b,c,d)},$E=function(c,d,e){g.isFunction(d)||(e=d,d=c,c=[]),g.isArray(c)||(c=[c]),e||(e=b);for(var f=0,h=c.length;h>f;f++)c[f]=$N(c[f]);a.Loader.exec(c,d,e)},$S=function(a,b){if(2==arguments.length)return Session.set(a,b);var c=Session.get(a);return c},$C=function(b){return a.Component.find("#"+b)},$I18N=function(c,d){this.resources={};var e=(b.__languageTemp||{})[c]||[];d&&d.length&&(e=e.concat(d));for(var f=0;f<e.length;f++)a.String.trim(e[f][0])&&(this.resources[e[f][0]]=e[f][1]);this.t=function(a){return"ch"!=$G.environment.lang?this._translate(a):a},this._translate=function(a){return"undefined"==typeof this.resources[a]?a:this.resources[a]}}}($,window),function(a){function b(){var a=this.global;if(a.hasFlash&&a.loaded){for(var b=a.poll,c=null,d=0,e=b.length;e>d;d++)if(c=b[d],!c.used)return c.flash.init(c.id),c;return c=new p,c.init(),b[c.id]=c,c}return null}function c(){for(var a=[],b=0;b<arguments.length;b++)a.push(arguments[b]);var c=a.shift(),d=a.shift(),e=p.global.poll[c];if(e[d].apply(e,a),"onreadystatechange"==d){var f=a[0];(f==p.COMPLETE||f==p.SECURITYERROR||f==p.IOERROR)&&(e.used=!1)}}function d(){var a=this.global;a.loaded=!0,a.loadedFunc&&setTimeout(a.loadedFunc,0)}function e(a){a||(a={});var b=a.packageName||$G&&$G.common.packageName,c=this.global,d=netease.mail.base.Browser.getInfo(),e=netease.mail.base.Browser.isIE(),f=!1;if(e)try{(new Blob).slice&&(f=!0)}catch(g){}c.hasFlash=d.hasFlash,c.flashVersion=d.flashVersion;var h=a.loadedFunc;if(h){var i=c.loadedFunc;c.loadedFunc=i?function(){i(),h()}:h}if(c.hasFlash&&!c.created){if(c.url=a.url||"/"+($G&&$G.common&&$G.common.appName||"app")+"/h/flashRequest.swf",c.id=a.id||"flashRequest",c.container=a.container||null,!c.container){var j=document.createElement("DIV"),k=j.style;k.height="0px",k.width="0px",k.position="absolute",k.top="0px",k.left="0px",document.body.appendChild(j),c.container=j}var j=c.container,l="",m="callback="+b+".core.FlashRequest.callback&setLoaded="+b+".core.FlashRequest.setLoaded";try{var n=document.getElementById(c.id);n&&n.parentNode.removeChild(n)}catch(o){}l=e?f?'<object id="'+c.id+'" name="'+c.id+'" width="1" height="1" type="application/x-shockwave-flash" data="'+c.url+'"><param name="flashVars" value="'+m+'" /><param name="quality" value="high" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /></object>':'<object id="'+c.id+'" name="'+c.id+'" width="1" height="1" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab"><param name="movie" value="'+c.url+'" /><param name="quality" value="high" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="FlashVars" value="'+m+'" /></object>':'<embed id="'+c.id+'"  name="'+c.id+'" src="'+c.url+'" flashvars="'+m+'" quality="high" wmode="transparent" allowscriptaccess="always" width="1" height="1" type="application/x-shockwave-flash" />',j.innerHTML=l,c.created=!0,c.flash=document.getElementById(c.id)}else c.loaded||c.flash.init&&this.setLoaded()}function f(){this.flash=this.global.flash,this.getFlashRequest()}function g(){this.id=this.flash.getFlashRequest()}function h(a){this.flash.loadPolicyFile(a)}function i(a){alert(a)}function j(a,b,c){this.used=!0,this.flash.open(this.id,a,b,c||this.global.charset)}function k(a,b){this.flash.setRequestHeader(this.id,a,b)}function l(a){this.flash.send(this.id,a)}function m(){}function n(a){this.used=a}function o(b){var c=this,d=b.url,e=b.body||"",f=b.head||[],g=b.method||Ajax.GET,h=b.charset||p.global.charset,i=b.stateChange,j=b.call;if(c.open(g,d,h),a.Array.each(f,function(a,b){c.setRequestHeader(b.name,b.value)}),c.onreadystatechange=function(a,b){i&&i(a,b),a==p.COMPLETE?j&&j(a,b):(a==p.SECURITYERROR||a==p.IOERROR)&&j(a)},"string"!=typeof e){var k=e,l=[];a.Object.each(k,function(a,b){l.push(a+"="+encodeURIComponent(b))}),e=l.join("&")}c.send(e)}var p=a.createClass($N("core.FlashRequest"));a.Object.extend(p,{OPEN:"open",PROGRESS:"progress",PROGRESSVALUE:"progressValue",HTTPSTATUS:"httpStatus",COMPLETE:"complete",SECURITYERROR:"securityError",IOERROR:"ioError",global:{hasFlash:!1,flashVersion:"",loaded:!1,charset:"utf-8",created:!1,poll:[]},getInstance:b,callback:c,setLoaded:d,create:e}),a.Object.extend(p.prototype,{global:p.global,id:0,used:!1,init:f,getFlashRequest:g,loadPolicyFile:h,showInfo:i,open:j,setRequestHeader:k,send:l,onreadystatechange:m,setUsed:n,request:o})}($,window),function(a){function b(b){var c=this,d=a.Event,e=b.logConf||[];c.logVoidConf=b.logVoidConf||{};for(var f=0,g=e.length;g>f;f++){var h=e[f],i=c.info[h.type];i||(i=c.info[h.type]=[]);var k=h.start,l=h.end;if(k||l){var m=b.time||new Date;if(k&&k>m)continue;if(l&&m>l)continue}i.push(h)}var n=c.info.click;n&&n.length>0&&d.listen(document,"click",function(){j.record("click",d.getTarget())})}function c(b,c){var d=a.Ajax;try{var e=this.info[b];if(e&&e.length>0)for(var f=0,g=e.length;g>f;f++){var h=e[f].call(c);h&&d.request({requestType:d.IFRAME,url:h}),this.log2stats(c)}}catch(i){}}function d(a,b){this.log2stats(a);var c=this;try{var d=c.logCache;d||(d=c.logCache=[]);for(var e in a){var f=a[e],g=!0;if(b)for(var h=0,j=d.length;j>h;h++){var k=d[h];if(k.name==e){if(i.isFunction(b))b(k,f);else{var l="|";b!==!0&&(l=b),k.value=k.value+l+f}g=!1;break}}if(!b||g){var m={name:e,value:f};d.push(m)}}}catch(n){}}function e(b){var c=this;try{if(!a.String.has(b.data.url,/\/[s|w]\?sid=/gi))return;var d=c.logVoidConf;if(d["*"])return;var e=c.logCache;if(e&&e.length>0){for(var f=[];e.length>0;){var g=e.shift(),h=g.name,i=g.value;if(!d[h]&&(h&&f.push(h+"="+i),f.join("&").length>2e3))break}if(f.length>0){var j=b.data;j.url=a.String.uriAddParam(j.url,f.join("&"))}}}catch(k){}}function f(b){a.Log.cache(b,function(a){a&&a.value++})}function g(b,c){if(a.Object.isObject(b)){var d=[];for(var e in b)if(b.hasOwnProperty(e)){var f=b[e];d.push([e,f])}if(0!==d.length){for(var g=["from","action","click","range"],i=[],j=[],k=0;k<d.length;k++){var l=d[k];a.Array.has(g,l[0])?i.push(l):j.push(l)}var m="webmail_js6_stats";1===j.length?m=j[0][0]:i.length&&(m=a.Array.map(i,function(a,b){return b[0]}).join("_"));var f=1;1===j.length&&(f=j[0][1]);var n="show";if(m.match(/click|close|set|cl_|insert|delete|merge|add|search|upload/i)&&(n="click"),m.match(/perf_|stay_/i)&&(n="performance"),"stay_module"===m){var o=f.split(",");m+="_"+o[0],f=parseInt(o[3])||0,n="time"}if("perf_ua"===m){var p=["system","systemVersion","browser","browserVersion","screenWidth","screenHeight","openFlash"],o=f.split("|");m="performance_useragent",f=h(p,o)}if("perf_base"===m){var p=["timeRedirect","timeDns","timeTcp","timeHttp","timeDomParse","timeDomReady","timeOnload","timeFirstPaint","timeFirstContentfulPaint"],o=f.split("|");m="performance_page_timeline",f=h(p,o)}if("perf_source"===m){var p=["timeSourceP0","timeSourceP1","timeSourceP11"],o=f.split("|");m="performance_resource",f=h(p,o)}if("perf_module"===m){var o=f.split("|");m="performance_module_"+o[0].replace(/\./g,"_"),f=parseInt(o[1])||0}"perf_type"===m&&(m="performance_page_opentype"),a.Object.isObject(c)&&(m=c.key||m,f=c.value||f,n=c.type||n);try{var q={};if(a.Object.isObject(f)?q=f:q.value=f,q.sid=$S("sid"),mailStats[n](m,q),this.log2statsCache.length)do{var r=this.log2statsCache.pop(),s={};a.Object.isObject(r[2])?s=r[2]:s.value=r[2],s.sid=$S("sid"),mailStats[r[0]](r[1],s)}while(this.log2statsCache.length)}catch(t){this.log2statsCache.push([n,m,f])}}}}function h(a,b){for(var c={},d=0;d<a.length;d++){var e=a[d],f=Number(b[d]);c[e]=f||b[d]||""}return c}new $I18N("core.Log");var i=a.Object,j=a.createClass($N("core.Log"));a.Log=j,i.extend(j,{info:{},logVoidConf:null,logCache:null,configure:b,record:c,cache:d,append:e,count:f,log2stats:g,log2statsCache:[]})}($,window),function(a,b){function c(a){var b="";if(A.wmsvrUrl&&A.apiUrl||(A.wmsvrUrl=location.protocol+"//"+$G.environment.host+"/"+A.appName+"/s?sid="+$G.user.sid,A.apiUrl=A.wmsvrUrl.replace("/s?","/w?")),a){var c=a.split(":")[0];b="ntes"==c?A.apiUrl:A.wmsvrUrl}return b}function d(){}function e(){}function f(){}function g(){}function h(){}function i(){}function j(b){var c=this,d=z.extend({},b.data);d.stateChange=a.Function.bind(c.stateChange,c,b),d.call=a.Function.bind(c.response,c,b),a.Ajax.request(d)}function k(a,b){var c=a.data.stateChange;c&&c(b)}function l(b,c){var d=c.status,e=b.data;if(e.requestType==a.Ajax.XMLHTTP&&200!=d&&202!=d)A.error(x.t("服务器响应错误。")+"["+x.t("错误码:")+b.data.url+"_"+d+"]");else{var f=e.call;f&&f(c)}}function m(b){function c(){var c=y.getInstance(),e=z.extend({},b.data);e.stateChange=a.Function.bind(d.stateChange,d,b),e.call=a.Function.bind(d.response,d,b),c.request(e)}var d=this,e=b.data.url;0!=e.indexOf("http")&&(e=location.protocol+e,b.data.url=e),y.global.loaded?c():y.create({loadedFunc:c})}function n(a,b,c){var d=a.data.stateChange;d&&d(b,c)}function o(a,b,c){var d=a.data;if(b==y.SECURITYERROR||b==y.IOERROR){var e=d.error;d.error?e(c):A.error(x.t("服务器响应错误。")+"["+x.t("错误码:")+d.url+"_"+b+"]")}else{var f=d.call;f&&f(c)}}function p(a){var b=this;"undefined"==typeof a.type&&"undefined"==typeof a.data&&(a={type:A.AJAX,data:a}),a.noTips||A.show();try{a.type==A.FLASH?b._flashRequest(a):b._ajaxRequest(a)}catch(c){}}function q(a){var b=this;try{a.type==A.FLASH?b._flashStateChange.apply(b,arguments):b._ajaxStateChange.apply(b,arguments)}catch(c){}}function r(a){var b=this;try{a.type==A.FLASH?b._flashResponse.apply(b,arguments):b._ajaxResponse.apply(b,arguments)}catch(c){}a.noTips||A.hide()}function s(c){function d(a){try{if(a&&a.status>399&&H){var b={};b["wmsvr_"+H+"_error"]=a.status,G.cache(b)}}catch(c){}if(u)try{u(a)}catch(d){}}function e(d){try{if(d&&d.status>399&&H){var e={};e["wmsvr_"+H+"_error"]=d.status,G.cache(e)}}catch(i){}try{var j=$S("network");"undefined"==typeof d.responseBody&&"undefined"==typeof d.responseStream&&""==d.responseText?0!==j&&b.setTimeout(function(){A.check(!1)},3e3):0===j&&b.setTimeout(function(){A.check(!0)},3e3)}catch(m){}var n,o;if(p==A.JSON)try{n=f(d),o=!0}catch(q){if(!y)return c.dataType=A.XML,k.wmsvr(c),void 0}else{try{var r=d.getResponseHeader("Content-Type")}catch(m){}if(a.String.has(r,A.XML))try{n=g(d),o=!0}catch(q){}}try{n.code!=A.S_OK&&(a.Context.error={func:l,code:n.code})}catch(m){}o&&h(n)}function f(b){"string"==typeof b&&(b={responseText:b});var c=b.responseText,d=a.Eval.get(c);return d}function g(b){var c=b.responseXML,d={code:null,messages:[]};if(c&&c.documentElement){var e,f,g,h,i=c.documentElement.childNodes;for(e=0,f=i.length;f>e;e++)if(g=i[e],1==g.nodeType)switch(h=g.nodeName){case"code":d.code=g.firstChild.nodeValue;break;case"messages":var j,k,l=g.childNodes;for(j=0;j<l.length;j++){k={};var m=l[j];1==m.nodeType&&(m.attributes&&(m.attributes.getNamedItem("key")&&(k.key=m.attributes.getNamedItem("key").value),m.attributes.getNamedItem("severity")&&(k.severity=m.attributes.getNamedItem("severity").value)),m.firstChild==m.lastChild?k.summary=m.firstChild.nodeValue:(k.summary=m.firstChild.firstChild.nodeValue,k.detail=m.lastChild.firstChild.nodeValue),d.messages.push(k))}break;default:h="var",g.attributes&&g.attributes.getNamedItem("name")&&(h=g.attributes.getNamedItem("name").value),d[h]=a.Util.dom2Obj(g)}}return d}function h(a){if(B||i(a)){F&&(L[K]=a);var b=c.call;b&&b(a)}}function i(a){var b=a["var"]||{},d=a.code,e={};if(d!=A.S_OK){if(H){var e={};e["wmsvr_"+H+"_error"]=d||"1",G.cache(e)}if(u){var f=u(a);if(f===!0)return!1;if(f)return A.error(f),!1}if(d){var g=d.split("_"),h=g[0],j=g[1];switch(h){case"S":if("PARTIAL"==j){if(b.join&&0==a.failIndex)for(var l=0;l<b.length&&i(b[l]);l++);}else A.error(x.t("未知错误!")+d);break;case"W":A.error(x.t("未知错误!")+d);break;case"FS":"N00"==j||"FS_N01"==j||"FS_N10"==j||"FS_N11"==j?A.error(x.t("操作超时，请重新刷新邮箱。")):"UD0104"==j?A.error(x.t("设置失败，请修改或稍后再试！")):A.error(x.t("未知错误!")+d);break;case"FR":A.error(x.t("未知错误!")+d);break;case"FA":var m=!1;switch(d){case"FA_INVALID_PARAMETER":break;case"FA_INVALID_SESSION":case"FA_SECURITY":A.error(x.t("您的请求失效，请重新登录邮箱。"),!0),m=!0;break;case"FA_MAIL_NOT_FOUND":Context.module&&Context.module.isRead&&A.error(x.t("邮件不存在。"));break;case"FA_OVERFLOW":break;case"FA_UNAUTHORIZED":if("user:authenticate2"==c.func)break;case"FA_NEED_AUTH2":A.lock.call(k,d,J);break;case"FA_NEED_AUTH3":A.mailUnlock.call(k,d,J);break;default:A.error(x.t("未知错误!")+d)}m&&A.reload();break;default:A.error(x.t("未知错误!")+d)}}else A.error(x.t("未知错误!无错误码"));return!1}if(H){var e={};e["wmsvr_"+H+"_response"]=1,G.cache(e)}return!0}var j,k=this,l=c.func,m=c.url||A.getWmsvrUrl(l),n=c.param,o=c.type||A.AJAX,p=c.dataType||A.JSON,q=c.sync||!1,r=[],s=c.body,t=c.call,u=c.error,v=c.hideWait,y=c.voidRetry,B=!!c.ignoreError,C=c.log,D=c.cacheFlag||0,E=(1&D)>0,F=(2&D)>0,G=w,H="",I=!0;$S("is163")&&Math.random()>.1&&(I=!1),I&&l&&"global:sequential"!==l&&m.indexOf("/js6/s")>-1&&(H=l,"mbox:compose"===l&&c.body&&c.body.action&&(H+=":"+c.body.action)),l&&(m=a.String.uriAddParam(m,"func="+l)),n&&(m=a.String.uriAddParam(m,n)),p==A.JSON&&r.push({name:"Accept",value:"text/javascript"}),r=c.head||r,s&&(j=c.postOriginalData?s:"var="+encodeURIComponent('<?xml version="1.0"?>'+a.Util.obj2Str(s)));var J={data:{url:m,sync:q,head:r,method:c.method||a.Ajax.POST,body:j,error:d,call:e},type:o,noTips:v};C&&z.each(C,function(a,b){var c={};c[a]=b,G.cache(c)});var K=m+j,L=$S("cacheData");if(L||(L={},$S("cacheData",L)),E&&L[K])t&&t(L[K]);else if(k.request(J),H){var M={};M["wmsvr_"+H+"_request"]=1,G.cache(M)}G.record("wmsvr",c)}function t(){}try{var u=$L("core.FlashRequest")}catch(v){return v}try{var w=$L("core.Log")}catch(v){return v}var x=new $I18N("core.DataAction"),y=u,z=a.Object,A=a.createClass($N("core.DataAction"));a.DataAction=A,z.extend(A,{FLASH:"flash",AJAX:"ajax",JSON:"json",XML:"xml",S_OK:"S_OK",wmsvrUrl:null,apiUrl:null,appName:$G.config.appName,getWmsvrUrl:c,show:d,hide:e,lock:f,reload:g,check:h,error:i}),z.extend(A.prototype,{_ajaxRequest:j,_ajaxStateChange:k,_ajaxResponse:l,_flashRequest:m,_flashStateChange:n,_flashResponse:o,request:p,stateChange:q,response:r,wmsvr:s,initialize:t})}($,window),function(a,b,c){function d(){var b=this,c=$S("orgUid")||$S("uid"),d=$S("sid");b._baseURL="../contacts/call.do?uid="+c+"&sid="+d+"&from=webmail&cmd=newapi.",b._recentContactURL="../rcmd/rcmd?format=json&uid="+c+"&sid="+d+"&product=webmail&cmd=",b._smartSplitURL=a.Uri.getUrl("smartSplitURL",!0)}function e(b){var d,e=this,f=b.data||{},g=b.ext,h="",i=f.order||e._support.orderParam,j=!!b.url;g&&a.Object.each(g,function(a,b){h+=["&",a,"=",b.toString()].join("")}),i&&!j&&(f.order=i);try{a.Ajax.request({requestType:b.requestType||a.Ajax.XMLHTTP,method:b.method||a.Ajax.POST,url:(b.url||e._baseURL)+n.COMMAND[b.command]+(b.requireNewData?"&returnContacts=true":"")+h,rnd:!1,body:e._formatPostParam(f,j),call:b.paddingFunc?c:a.Function.bind(e._responseHandler,e,b),paddingFunc:b.paddingFunc,paddingParam:b.paddingParam})}catch(l){d=k.t("请求发送失败"),e._support.showError({content:d,error:b.error})}}function f(c,d){var e,f,g,h,i,j=this;if(200===d.status){var k=d.responseText||"";if(k.length>0)try{try{f=a.JSON.parse(k.toString())}catch(l){f=a.Eval.get(k.toString())}g=f.returns,e=f.code,e>201&&(i=e),f=f.data||{}}catch(l){f=null,i="501"}else i="000"}else 502===d.status&&(j._support.serviceDown=!0),i="001";if(i){if(h=n.ERROR_INFO,"501"==i)return;try{var m=b.Log||a.Log;m.cache({cnt_data_parse:i})}catch(l){}return i=h[i]||h["000"],j._support.showError({content:i,error:c.error,noAlert:!0}),void 0}j._response(c,f,g)}function g(){}function h(a,b){function c(a){return a?a.replace(/%/g,"%25").replace(/&/g,"%26").replace(/\+/g,"%2B"):a}var d=[];if("string"==typeof a)return c(a);a=a||{};for(var e in a){var f=a[e];if("contacts"===e)for(var g=0,h=f.length;h>g;g++)this._support.fixedGroupingCid(f[g]);d.push(e+"="+c(b?f:JSON.stringify(f)))}return d.join("&")}try{var i=$L("core.DataAction")}catch(j){return j}var k=new $I18N("core.ContactDataAction"),l=a.Object,m=i,n=a.createClass($N("core.ContactDataAction"));l.mix(n,m,{COMMAND:{getVer:"getContactsVersion",getCon:"getContacts",addCon:"addContacts",removeCon:"removeContacts",updateCon:"updateContacts",updateGrp:"updateGroups",removeGrp:"removeGroups",getRecent:"frequentContact",splitName:"splitname",splitAddr:"splitaddress",batchDeal:"batchDeal"},ERROR_INFO:{"000":k.t("请求失败，未知错误"),"001":k.t("请求失败，网络错误"),400:k.t("请求失败，权限不足"),401:k.t("请求失败，参数有误"),"401_1":k.t("新建联系人失败，超过联系人个数限制"),"401_2":k.t("新建联系人失败，指定的分组不存在或已被删除"),402:k.t("请求失败，操作异常"),"401_3":k.t("指定的联系人不存在或已被删除"),500:k.t("请求失败，cache错误"),501:k.t("请求失败，验证错误"),502:k.t("联系人个数超过上限"),503:k.t("联系人分组个数超过上限"),504:k.t("联系人不存在"),505:k.t("分组不存在"),506:k.t("联系人信息过长"),507:k.t("分组名已存在"),509:k.t("上传文件为空"),510:k.t("上传文件格式错误，不能解析")}},{initialize:d,_request:e,_responseHandler:f,_response:g,_formatPostParam:h})}($,window),function(a){function b(){if(this.module&&this.module.container&&"none"!=this.module.container.style.display)return this.module;for(var b=a.fly("#dvContainer").dom.childNodes,c=0;c<b.length;c++){var d=b[c];try{if("none"!=d.style.display&&0==d.id.indexOf("_dvModuleContainer_")){var e=d.id.replace("_dvModuleContainer_","");if(e)return JS.find(e)}}catch(f){}}return this.logError||(this.logError=!0),null}var c=a.createClass($N("core.Context"));a.Context=c,a.Object.extend(c,{module:null,displayModule:null,defaultModule:"welcome.WelcomeModule",getModule:b})}($,window),function(a){function b(a){this._events=a}function c(a,b){this._eventObj.listen(a,b)}function d(a,b){this.listen(a,function(){b.apply(this,arguments),h.unlisten(a,arguments.callee)})}function e(a,b){this._eventObj.unlisten(a,b)}function f(b){var c;if(this._events[b]){if(a.Context&&(a.Context.event=b),c=this._eventObj.fire.apply(this._eventObj,arguments),b.indexOf(":")>-1){var d=b.split(":")[0],e=this._eventObj._customEvents[d];if(e){var f=[].slice.call(arguments,1);f.splice(0,0,d),c=this._eventObj.fire.apply(this._eventObj,f)||c}}}else for(var b in this._eventObj._customEvents)if(0==b.indexOf(b+":")){var f=[].slice.call(arguments,1);f.splice(0,0,b),c=c||this._eventObj.fire.apply(this._eventObj,f)}return c}var g=a.CustomEvent,h=a.createClass($N("core.Listener"));a.Listener=h,a.Object.extend(h,{init:b,listen:c,one:d,unlisten:e,fire:f,_eventObj:new g,_events:{}})}($,window),function(a){function b(){return!0}function c(a){return Session.superClass.get.call(this,this._session,a)}function d(a,b){return Session.superClass.set.call(this,this._session,a,b)}function e(a){return Session.superClass.remove.call(this,this._session,a)}Session=a.createClass($N("core.Session")),a.Object.mix(Session,a.Data,{_session:{},_check:b,get:c,set:d,remove:e})}($,window),function(){$G.set("udConf",{ntes_option:["forward","schedule_notify","readreplystatus","pop3show","flashupload","mailencode","sendershow","sizeshow","soundalert","requirereceipt","thread","useTab","deliver","ext1","ext2","ext3"],ntes_global:["defFolderOpen","compose_showContacts","userGuide","IMShowTips","sendSms","popFolderOpen","IMShowTipsLayer","MobilAccountTipsLayer","vipswitchto3.5","setMobileAccountTips","secondSearch","noBirthdayRemind","noLockSreenRemind","vipenablefax","ext1","ext2"],ntes_contact:["webim","logwebim","hasAutoShowInviteList","hasBigAttach","schedule","yeahwebim","ext1","ext2","reserved","reserved","ext3","ext4","ext5"],ntes_letter:["font_size","read_head","mini_security","mini_mobile","read_ad","thread_head","nf_share","line_height","ext1","secuepage","yixinpage"],helptips:["musicTip","senderName","mobileAccount","setlabnew1","setlabnew2","shangdao","musicbar","assist","welcome_guide","thread","tabs","subscibe","decrypt","ext1","ext2","ext3"],huodong_option:["notNativeMailMobile","task","vipswitchtips","nf_status","footer","updatejs3","newContact","ext1","reserved","dockType","jy4UserGuide","https","ad_thousands","ext2","ext3",""],ntes_skin:["","","","","jsSkin_tens","jsSkin_units","jySkin_tens","jySkin_units"],ntes_inbox:["search_type","weather_type","welcome_tab","newstips1","newstips2","layout","",""],ntes_buzz:["defaultStatus","def_fontname","def_fontsize","def_forecolor","typo_prompt","secuInfo","helpips0","wel_0","wel_1","wel_2","tabdef","quickdef","netfolder_show","youdao_note","importedAppData","wel_3"],ntes_compose:["card","letter","free_sms","undo_send","upload_mode","instead_chinese","separate_default","ext8","ext9","linkedin","t11","t12","t13","t14","t15","t16"],ntes_read:["mail_service","promoteMultiTabClose"],ntes_rd_config:["","","full_moon","imap_dir_mail"]}),$G.set("extUdConf",{ntes_global:{ext1:["file_centerOpen","shangdao","serviceOpen","mageAttach"],ext2:["shortcut_tip","clubpopup","secuInfo","megaFieldUsed"]},helptips:{ext1:["tmall","showAddress","resume","subscribe"],ext2:["accountRelate","navFolder1","navFolder2","myresume"],ext3:["mybuzz","option","musicbar2","ComposeAttachBrowse"]},ntes_contact:{ext1:["wel_story","newMusicBoxTips","ftAd","showMarkedContact"],ext2:["pomoteContact","yixinFirstTips","js6Welcome","navContactMail"],ext3:["AccountRelateTips","cnt_mobbak_tips","TopNavMasterMailTips","MasterMailMsgbox"],ext4:["StudentFirstLogin","StudentMailCenterTips","StudentUpgradeMsgbox","StudentUpgradeConfirmed"],ext5:["ReaderFirstLogin","LofterFirstLogin","Tip3","Tip4"]},ntes_option:{soundalert:["newmailSound","sendSound","composeSound"],ext1:["replySign","forwardSign","signPosition","notification"],ext2:["readRange","IE9PinTips","tagOpen","summary"],ext3:["globalAd","showOptGuide","shortcut_enable","threadSort"]},huodong_option:{ext1:["clubtab","closechangepass","dockEnable","compose_scene"],ext2:["mobileyixin","yixinWeb","humanTrans","customerServiceTips"],ad_thousands:["yixin","news","music","read"],ext3:["wel_constellation","","",""]},ntes_letter:{ext1:["tag","autoSendTips","remindShow","editorToolbar"]},ntes_buzz:{helpips0:["mobiletips0","mobiletips1","tab10","tab11"],wel_0:["tab0","tab1","tab2","tab3"],wel_1:["quick0","quick1","quick2","quick3"],wel_2:["quick4","quick5","tab4","tab5"],importedAppData:["importedApp","importedTab","importedDock","tab12"],wel_3:["tab6","tab7","tab8","tab9"]},ntes_compose:{ext8:["senderName","compose_nav","tab13","tab14"],ext9:["editor_notary_tips","ext92","ext93","ext94"]}}),$G.set("megaConf",{flags:["senderName",""]}),$G.set("udProxyConf",{"webmail.js.helptips":{type:"bitString",bits:{smart_mailMaster_ad_closed:0}}})}($,window),function(a,b,c){try{var d=$L("core.DataAction")}catch(e){return e}var f=d,g=a.createClass($N("module.BaseAction"));a.Object.mix(g,f,c,{})}($,window),function(a){function b(b){if(this.module=b,this._handlers={},this._listeners)for(var c in this._listeners){var d=this._handlers[c]=a.Function.bind(this._listeners[c].handler,this);this.listen(c,d)}}function c(a,b){h.listen(a,b),this._listeners[a]||(this._listeners[a]={}),this._listeners[a]._handler=b}function d(a){h.unlisten(a),this._listeners[a]&&delete this._listeners[a]}function e(){if(this._listeners)for(var a in this._listeners)this.unlisten(a,this._handlers[a])}try{var f=$L("core.Listener")}catch(g){return g}var h=f,i=a.createClass($N("module.BaseListener"));a.Object.extend(i.prototype,{_listeners:{},listen:c,unlisten:d,unlistenAll:e,initialize:b})}($,window),function(a){function b(b,c){function d(b){if(!f)try{var d=a.Event.getTarget(),e=d.previousSibling,g="frame-main-cont-head-shadow";d.scrollTop>0?e.className.indexOf(g)<0&&a.fly(e).addClass(g):a.fly(e).removeClass(g)}catch(h){}c&&c(b)}var e=this,f=a.Browser.ie()-0<9;if(c||!f){b||(b="ScrollDiv");var g=e.scroller=e.getDom(b);e.onscroll=d,a.Event.listen(g,"scroll",d)}}function c(){}function d(){var b=this,c=b.scroller;c&&a.Event.unlisten(c,"scroll",b.onscroll)}function e(){}function f(){return this.text||""}function g(b){return this.container?a(this.container).find(b):void 0}function h(){this.isRendered=!1}function i(){return null}function j(){}function k(){}function l(){}function m(){return null}function n(){}function o(a){var b=this;return a=a.replace(/[^\w-]/gi,""),b._expando||(b._expando=u.baseExpando++),b._expando+"_"+a}function p(b){var c=this,d=c.getDom(b);return d?a(d):null}function q(a){var b=this;return a=a.replace(/[^\w-]/gi,""),a&&b._expando&&b.container?document.getElementById(b._expando+"_"+a):null}function r(b,c,d){var e;e=b instanceof a.Element?b.dom.id:b.tagName&&1==b.nodeType?b.id:b,!e&&b?a.Event.listen(b.dom||b,c,d):a.Event.live({context:this.container,selector:e,event:c,handler:d})}function s(b,c,d){a.Event.die({context:this.container,selector:b,event:c,handler:function(){d.apply(this,[a.Event.getEvent()])}})}function t(b,c,d){var e,f=this;"string"==typeof b?(e={},e.value=d,c?(e.item=b,e.action=c):e.name=b):e=b;var g=e.name,h=("undefined"==typeof e.value?1:e.value).toString();if(!g){var i=[];i.push((f.logPrefix||f.mtype.replace(".","_")).toLowerCase()),i.push(e.item),i.push(e.action),g=i.join("_")}var j={};j[g]=h,a.Log.cache(j,!0)}var u=a.createClass($N("module.BaseModule"));a.Object.mix(u,netease.mail.framease.ModuleClass,{baseExpando:(new Date).valueOf()},{}),a.Object.extend(u.prototype,{action:null,view:null,listener:null,scroll:b,onscroll:c,onBeforeRemove:d,onFocus:e,getText:f,getGroup:i,find:g,cleanCache:h,resize:j,switchIn:k,switchOut:l,getParam:m,syncCache:n,createId:o,getDom:q,getEl:p,live:r,die:s,log:t})}($,window),function(a){function b(a){var b=this,d=b.config;if(b.module=a,d)for(var e in d.widgets){var f=d.widgets[e];f.render=b.renderWidget.bind(f),f.update=b.updateWidget.bind(f),f.view=b,b.widgets[e]=f,b.widgets[e].name=e;var g=f.listeners;if(g)for(var h in g){var i=g[h];m.listen(h,c.bind(b,e,i))}}}function c(a,b,c){this.widgets[a].update({action:b,data:c})}function d(a,b,c){var d=this,e=d.module;c||(c="");var f=[];return f[f.length]='<h2 tabindex="-1" style="position: absolute;left: -10000px;top: -10000px;width: 1px;height: 1px;overflow: hidden;">'+l.t("主体")+"</h2>",a&&(f[f.length]='<header tabindex="0" class="frame-main-cont-head" id="'+e.createId("Header")+'">'+a+"</header>"),f[f.length]='<div class="frame-main-cont-body nui-scroll '+c+'" id="'+e.createId("ScrollDiv")+'">'+b+"</div>",f.join("")}function e(){return""}function f(b){var c=this,d=arguments,e=b.func,f=b.body,g=b.call,h=b.error,i=b.data;if(f){var j={func:e,body:f,error:h,call:function(e){b.data=e,delete b.body;var f=d.callee.call(c,b);c.container&&a(c.container()).append(f),c.fill&&c.fill(e)}};n.request(j)}else if(i){if(g)try{g(i)}catch(k){}return c.onRender(i)}}function g(a){var b=this,c=arguments,d=a.func,e=a.body,f=a.call,g=a.error,h=a.data,i=a.action;if(b.onUpdateRequest&&b.onUpdateRequest.call(b,i,a))a.call=function(c){b.onUpdate(i,a.data||c),f&&f()};else if(e){var j={func:d,body:e,error:g,call:function(d){a.data=a.data||d,delete a.body,c.callee.call(b,a)}};n.request(j)}else if(h){if(f)try{f(h)}catch(k){}return b.onUpdate(i,h)}}function h(a){var b=new k,c=a.call;a.call=function(a){c(a)},b.wmsvr(a)}try{var i=$L("core.Listener")}catch(j){return j}try{var k=$L("core.DataAction")}catch(j){return j}var l=new $I18N("module.BaseView"),m=i,n=a.createClass($N("module.BaseView"));a.Object.extend(n.prototype,{addHeader:d,getHtml:e,updateWidget:g,renderWidget:f,initialize:b,widgets:{}}),a.Object.extend(n,{request:h})}($,window),function(a){function b(b,c,d){var e,f=d?"about:blank":"",g=$S("domainType"),h=$S("domain"),i=$S("fullDomain"),j=$S("product"),k=$S("host"),l=$S("sid"),m=$S("orgUid"),n=$S("orgUid").split("@")[0],o=$S("styleCss"),p=$S("skin"),r=$S("font"),s=$S("attrs").user.style,t=$G.environment.appName,u=$G.environment.language;sHtmlLang=$G.environment.hl;var v=$G.get("uriConf");if(e=(v.all[b]||v[g]&&v[g][b]||v[h]&&v[h][b]||[])[0]||f,e||0!=b.indexOf("http")||(e=b),""==e||"about:blank"==e)return e;var w={domain:h,fullDomain:i,appName:t,product:j,sid:l,uid:m,host:k,css:o,user:n,hl:sHtmlLang};e=e.replace(/(\$.+?\$)/gi,function(a){return/\$(.+?)\$/.test(a),"#{"+RegExp.$1+"}"}),e=a.Template.exec(e,{data:w});var x={sid:l,uid:m,host:k,ver:$G.common.appName,fontface:q._fontface,style:s,lang:u,hl:sHtmlLang};return p&&(x.skin=p.name,x.color=p.color),r&&(x.fontface=r),c||(e=a.Location.addParam(x,e,!0)),0!=e.indexOf("http")&&(e=location.protocol+e),e}function c(a){return q.urls[a]}function d(a){return(new q(a)||{}).address}function e(a){return(new q(a)||{}).name}function f(a){return(new q(a)||{}).defaultName}function g(a){return(this.getAddress(a)||"").split("@")[1]}function h(){}function i(a,b){if(b){var c;switch(b){case q.type.URL:var d=a,e="",f="";"object"==typeof a&&(d=a.url,e=a.key,f=a.title),c={url:d,key:e,title:f};break;case q.type.EMAIL:c=q.matchEmail.apply(q,arguments);break;case q.type.MODULE:c=q.matchModule.apply(q,arguments);break;default:return null}if(!c)return null;p.extend(this,c),this.type=b}else{var g=q.matchEmail(a);if(g)p.extend(this,g),this.type=q.type.EMAIL;else{var h=q.matchUrl(a);if(h)this.url=a,this.type=q.type.URL;else{var i=q.matchModule(a);if(!i)return null;p.extend(this,i),this.type=q.type.MODULE}}}this.uri=a}function j(){var a;switch(this.type){case q.type.EMAIL:a=this.name?'"'+this.name+'"<'+this.address+">":this.address;break;case q.type.URL:a=q.urls[this.key];break;case q.type.MODULE:}return a}function k(){var a=this.defaultName;return a&&a.length>1&&(0==a.indexOf("+")||0==a.indexOf("-"))?a.substr(1):this.defaultName}function l(a){var b=this.getEmails(a),c={};if(1==b.match.length){c=b.match[0];var d=c.address.split("@");return c.domain=d[1],c.defaultName=c.name?c.name:d[0],c}}function m(b){b=a.String.trim(b);var c=new RegExp("([0-9a-zA-Z]+://[-_.a-zA-Z0-9]+(:[0-9]+)?[^ 	<>]*)","gim");return c.test(b)}function n(b){return b=a.String.trim(b),/^module\:/.test(b)?{module:b.substr(7)}:void 0}function o(b,c,d){var e={match:[],wrong:[]},f="(\\S+@([\\w\\-\\_]+\\.)+[\\w\\-]{2,15})";return b.replace(/[\r\n]/g,"").replace(/[,;]+ ?(?![^"]+"\s*<)/g,"§").replace(/[^§]+(?=§|$)/g,function(b){var g,h,i;reg=/[<>]/.test(b)?/\"/.test(b)?new RegExp('^"(.*)"\\s*<'+f+">$"):new RegExp("^(.*)<"+f+">$"):new RegExp("^(^)"+f+"$"),reg.test(b)?(g=RegExp.$1,h=RegExp.$2):d&&(reg=new RegExp("<?"+f+">?"),reg.test(b)&&(h=RegExp.$1)),h?(g=g||"",i="Email"==c?new a.Email(h,g):{name:g,address:h},("-"===i.name||"+"===i.name)&&(i.name=""),e.match.push(i)):e.wrong.push(b)}),e}new $I18N("util.Uri");var p=a.Object,q=a.createClass($N("util.Uri"));a.Uri=q,p.extend(q,{getUrl:b,getUrlObj:c,getAddress:d,getName:e,getDefaultName:f,getDomain:g,matchEmail:l,matchUrl:m,matchModule:n,getEmails:o,init:h,urls:{},type:{URL:"url",EMAIL:"email",MODULE:"module"}}),p.extend(q.prototype,{initialize:i,toString:j,getNameWithoutPrefix:k,type:q.type.URL,key:"",title:"",defaultName:"",name:"",address:"",uri:"",domain:"",module:""})
}($,window),function(a,b,c){function d(a){var b=this,c=b.el=a.el,d={keypress:l.bind(b._keyPress,b),keydown:l.bind(b._keyDown,b),blur:l.bind(b._blur,b)};b.capsLockInfo=d,b.change=a.change,k.listen(c,"keypress",d.keypress),k.listen(c,"keydown",d.keydown),k.listen(c,"blur",d.blur)}function e(){var a=this;return a.status}function f(){var a=this;a.change&&a.change(a.status)}function g(a){var b=this,d=a.which||a.keyCode;20===d&&b.status!==c&&(b.preStatus=b.status=!b.status,b.trigger(b.status))}function h(a){var b=this,c=a.which||a.keyCode,d=!1;a.shiftKey?d=!0:a.modifiers&&(d=!!(4&a.modifiers));var e=b.preStatus;b.preStatus=b.status,b.status=c>=65&&90>=c&&!d||c>=97&&122>c&&d?!0:c>=65&&90>=c&&d||c>=97&&122>c&&!d?!1:e,b.status!==b.preStatus&&b.trigger(b.status)}function i(){var a=this;a.preStatus=a.status=c,a.trigger(a.status)}var j=a.Object,k=a.Event,l=a.Function,m=a.createClass("util.CapsLock");j.extend(m.prototype,{preStatus:c,status:c,initialize:d,isOn:e,trigger:f,_keyDown:g,_keyPress:h,_blur:i})}($,window),function(a){function b(a){var b=a.operator,c=a.condition,d=a.conf;if(c){var e={};g.extend(e,c),this.item=e}else b?this.conditions={conditions:[],operator:b}:(this.conditions={conditions:[]},d&&g.extend(this.conditions,d))}function c(a){if(a.operator&&h.has(["or","and"],a.operator)){var b=new i({operator:a.operator});if(a.conditions)for(var c=0;c<a.conditions.length;c++)var d=a.conditions[c],e=b.add(d);return this.conditions.conditions.push(b.get()),b}var e=new i({condition:a});return this.conditions.conditions.push(e.get()),e}function d(a){this.item&&g.extend(this.item,a)}function e(){return this.item||this.conditions}function f(b){var c=b.dom,d=b.match;b.type||"mail";var e=b.conf||{},f=b.fid||0;f-=0,0==f?e.recursive=!0:e.fid=f;var g=!!b.ignoreCase,i=new this({conf:e});for(var j in d){var k=d[j],l=k.id;if(l){var m=k.operator,n=a(c).find("#"+l);if(n){"value"in n.dom||(n=n.find("INPUT"));var o=n.dom.value;switch(j){case"key":if(""==a.String.trim(o))break;var p,q;if(p="boolean"==typeof d.inSubject?d.inSubject:d.inSubject&&a("#"+d.inSubject.id).dom.checked,q="boolean"==typeof d.inFromAndTo?d.inFromAndTo:d.inFromAndTo&&a("#"+d.inFromAndTo.id).dom.checked,!p&&!q)break;m=m||"contains";var r=i.add({operator:"or"});p&&r.add({field:"subject",operator:m,operand:o,ignoreCase:g}),q&&(r.add({field:"from",operator:m,operand:o,ignoreCase:g}),r.add({field:"to",operator:m,operand:o,ignoreCase:g}));break;case"sentDate":m=m||">=",i.add({field:j,operator:m,operand:o});break;case"sentDateLimit":if(!d.sentDateLimitType||""==a.String.trim(o))break;var s="",t=d.sentDateLimitType,u=a(c).find("#"+t.id);u&&(s=u.dom.value||s),o-0>0&&i.add({field:"sentDate",operator:"in_range",operand:o+s});break;case"attached":if(0==o)break;var v="1"==o,r=i.add({operator:v?"or":"and"});r.add({field:"flags",operand:{attached:v}}),r.add({field:"flags",operand:{linkAttached:v}});break;case"label0":if("0"==o)break;m=m||"=","-1"==o&&(o="0",m=">"),i.add({field:j,operator:m,operand:o-0});break;case"size":if(!d.sizeType)break;m=m||">";var w=d.sizeType,x="M",y=a(c).find("#"+w.id);y&&(x=y.dom.value||x);var z={B:1,K:1024,M:1048576};i.add({field:j,operator:m,operand:(o-0)*z[x]});break;default:h.has(["account","from","to","subject","memo"],j)&&""!=a.String.trim(o)&&(m=m||"contains",i.add({field:j,operator:m,operand:o,ignoreCase:g}))}}}}var A=i.get();return 0==A.conditions.length?null:A}var g=a.Object,h=a.Array,i=a.createClass($N("util.Condition"));g.extend(i,{operator:["contains","excludes","startsWith","endsWith","regexp","=","!=",">",">=","<","<="],getSearchBody:f}),g.extend(i.prototype,{add:c,get:e,updateItem:d,initialize:b})}($,window),function(a,b){function c(a){var b=this,c={mail:[],tel:[],fax:[],adr:[],url:[],icq:[],date:[],other:[]};return r.each(a,function(d,e){var f,g=/(adr|email|tel|url)/gi,h=/x-(popo|qq|msn|googletalk|aim|skype|icq|yahoo|facebook|uc|jabber|other)/gi,i=/(URL|ORG|ORGNAME|TITLE|ROLE|MEMBER|FN|NICKNAME|ZS|BDAY|GROUPING|ANNIVERSARY|PC)/gi,j=/(impp|X-ICQ;type=HOME;type=pref)/gi,k=/(X-ABDATE|ANNIVERSARY|BDAY)/gi,l=d.toLowerCase();if(g.test(l))l.indexOf("adr")>-1&&l.indexOf("x-abadr")<0?(f=b.formatADR(d,e,a),c.adr=b.mergeData(c.adr,f)):l.indexOf("email")>-1?(f=b.formatEMAIL(d,e,a),c.mail=b.mergeData(c.mail,f)):l.indexOf("tel")>-1?(f=b.formatTEL(d,e,a),f&&f.type&&(c[f.type]=b.mergeData(c[f.type],f))):l.indexOf("url")>-1&&(f=b.formatURL(d,e,a),c.url=b.mergeData(c.url,f));else if(j.test(l))f=b.formatIcq(d,e,a),c.icq=c.icq.concat(f.data);else if(k.test(l))f=b.formatIDate(d,e,a),c.date=b.mergeData(c.date,f);else if(!i.test(l)&&!h.test(l)&&l.indexOf("x-ablabel")<=0&&"n"!==l){var m=l.match(b.rItem),n={value:e,key:d.replace(b.rItemPoint,"")},o=m&&m[0]?m[0]+".X-ABLabel":"",p=a[o]||"";p&&(n.label=p),b.setItem(l,n),c.other.push(n)}}),c.maxItem=b.maxItem,b.maxItem=null,c}function d(b,c,d){if(";;;;;;CI"===b||";;;;;;"===b)return"";var e=b.split(";");if(b.indexOf(";")<0&&(e=["","",b,"","","","",""]),e.length<6)return"";6===e.length&&e.splice(4,0,"");var f=a.ADDR_COUNTRY,g=e[6]||c||"",h=e[5]||d||"";t.each(f,function(b,c){return c.value===g.toUpperCase()?(g=c.name,a.BREAK):void 0});var i=[g,e[4],e[3],e[2]||e[0],"",e[1],h],j=i.join(";");return s.trim(j)}function e(a,b){var c=this,d="",e=a.match(c.rItem),f=e?e[0]:"";return f&&(f+=".X-ABLabel",d=b[f]||""),d}function f(a,b,c){if(b&&";;;;;;CI"!==b){var d=this,e=a.toLowerCase(),f=e.indexOf("pref")>=0,g="ADR"+(e.indexOf("home")>=0?"HOME":e.indexOf("work")>=0?"WORK":""),h=e.indexOf("pref")>=0?e.indexOf("work")>=0?"PC;WORK,pref":e.indexOf("home")>=0?"PC;HOME,pref":"":"",i=h?c[h]||"":"",j=[],k=a.split(";"),l=c[k[0].replace("ADR","X-ABADR")]||"",m=r.isString(b)?[b]:b;return t.each(m,function(b,e){var f={fKey:g,key:a.replace(/item\d*\./gi,""),fullKey:a,value:d.addressResolve(e,l,i),text:d.keyMap[g]||"",label:d.getLabel(a,c)};d.setItem(a,f),j.push(f)}),{main:f,data:j}}}function g(a,b,c){if(b){var d=this,e=a.toLowerCase(),f=e.indexOf("type=pref")>=0,g=[],h=r.isString(b)?[b]:b;return t.each(h,function(b,e){var f={key:a.replace(/item\d*\./gi,""),fullKey:a,value:e,label:d.getLabel(a,c)};d.setItem(a,f),g.push(f)}),{main:f,data:g}}}function h(a,b,c){if(b){var d=this,e=a.toLowerCase(),f=e.indexOf("type=pref")>=0,g=f?"MAIL":e.indexOf("home")>=0?"MAILHOME":e.indexOf("work")>=0?"MAILWORK":"MAIL",h=[],i=r.isString(b)?[b]:b;return t.each(i,function(b,e){if(e){var f={fKey:g,key:a.replace(/item\d*\./gi,""),fullKey:a,text:d.keyMap[g]||"",value:e,label:d.getLabel(a,c)};d.setItem(a,f),h.push(f)}}),{main:f,data:h}}}function i(a,b,c){if(b){var d=this,e=a.toLowerCase(),f="TEL",g="tel",h=[],i=r.isString(b)?[b]:b,g=e.indexOf("fax")>=0?"fax":"tel",f=e.indexOf("cell")>=0?"CELL":e.indexOf("fax")>=0?"FAX":"TEL";f+=e.indexOf("home")>=0?"HOME":e.indexOf("work")>=0?"WORK":"";var j=e.indexOf("type=pref")>=0&&f.indexOf("CELL")>=0;return f=j?"CELL":f,t.each(i,function(b,e){var g={fKey:f,key:a.replace(/item\d*\./gi,""),fullKey:a,text:d.keyMap[f]||"",value:e,label:d.getLabel(a,c)};d.setItem(a,g),h.push(g)}),{main:j,type:g,data:h}}}function j(b,c,d){if(c){var e=this,f=a.ADDR_IM_TITLE||{},g=b.match(/(popo|qq|msn|googletalk|aim|skype|icq|facebook|yahoo|uc|jabber|other)/gi),h=g?g[0].toLowerCase():"other",i=[],j=r.isString(c)?[c]:c;return t.each(j,function(a,c){if("X-ICQ;type=HOME;type=pref"===b&&c.indexOf(":")>0){var g=c.split(";");t.each(g,function(a,c){if(c){var d=c.split(":"),g=2===d.length?d[0]:"other",j=d[d.length-1],k={fKey:g||h,key:b,fullKey:b,text:f[g]||"",value:j};e.setItem(b,k),i.push(k)}})}else{var j=c.split(":"),k={fKey:h,key:b.replace(/item\d*\./gi,""),fullKey:b,text:(f[h]||q.t("其他")).replace(/googletalk/i,"GTalk"),value:j.pop(),label:e.getLabel(b,d)};e.setItem(b,k),i.push(k)}}),{data:i}}}function k(b,c,d){if(c){var e=this,f=[],g=a.ADDR_MEMORIAL_DAY;c=r.isString(c)?[c]:c;var h,i,j,k,l,m;return t.each(c,function(a,c){if("ANNIVERSARY"===b&&c.indexOf(":")>0){h=c.split(";");for(var n,o=0,p=h.length;p>o;o+=1)if(n=h[o]){i=n.split(":"),j=2===i.length?i[0]:"other",k=i[i.length-1],k=k.replace(/(\d{1,4})-(\d{1,2})-(\d{1,2})/g,"$1年$2月$3日");var r={fKey:j||"other",key:b,text:g[j]||q.t("其他"),value:k};f.push(r)}}else m=e.getLabel(b,d),l={label:m,key:b,text:g[m.replace(/(^_\$!<|>!\$_$)/g,"").toLowerCase()]||q.t("其他"),value:c.replace(/(\d{1,4})-(\d{1,2})-(\d{1,2})/g,"$1年$2月$3日")||c},f.push(l)}),{data:f}}}function l(b,c,d){function e(a,b){var c=b;if(/X-ABDATE/gi.test(a)){var d=/X-APPLE-OMIT-YEAR=(\d{4})/gi,e=d.exec(a);e&&(c=c.replace(e[1],""))}return c}if(c){var f,g,h,i,j,k,l=this,m=[],n=a.ADDR_MEMORIAL_DAY;return c=r.isString(c)?[c]:c,t.each(c,function(a,o){if("ANNIVERSARY"===b&&o.indexOf(":")>0){f=o.split(";");for(var p,r=0,s=f.length;s>r;r+=1)p=f[r],p&&(g=p.split(":"),h=2===g.length?g[0]:"other",c=g[g.length-1],i={fKey:h||"other",key:"",text:n[h]||q.t("其他"),value:e(b,c)},l.setItem(b,i),m.push(i))}else k=l.getLabel(b,d),j={key:b.replace(l.rItemPoint,""),text:q.t("其他"),value:e(b,o),label:k,fKey:b.indexOf("BDAY")>=0?"BDAY;value=date":k.replace(/(^_\$!<|>!\$_$)/g,"").toLowerCase()||"other"},l.setItem(b,j),m.push(j)}),{data:m,main:b.indexOf("BDAY")>=0}}}function m(b){b=a.String.trim(b||"");var c=b.split("-"),d=c.length;if(2===d){var e=c[0],f=c[1];c=e.length>f.length?f?["",e,f]:[e,f,""]:e?[e,f,""]:["",e,f]}else(1===d||0===d||d>3)&&(c=["",b,""]);return c}function n(b){var c,d="",e="";return b=r.isString(b)?b.split(";"):b,7===b.length?(d=b.join(";"),c=/.*[\u4e00-\u9fa5]+.*$/.test(d),e=c?a.String.trim([b[0],b[1],b[2],b[3],b[6]].join(" ")):a.String.trim([b[3],b[2],b[1],b[0],b[6]].join(" ")),a.String.trim(e)):b.join(" ")}function o(a,b){if(!b)return a;var c=b.data,d=b.main;if(d){var e=c;c=a,a=e}return[].push.apply(a,c),c.length=0,a}function p(a,c){var d,e=this;c.fullKey=a,0===a.indexOf("item")&&(d=b.parseInt(a.split(".")[0].replace("item",""),10)),r.isNumber(d)&&(c.itemNumber=d,e.maxItem=r.isNumber(e.maxItem)?Math.max(d,e.maxItem):d)}var q=new $I18N("util.Contact"),r=a.Object,s=a.String,t=a.Array,u=a.createClass($N("util.Contact"));r.extend(u,{rItem:/item\d*/gi,rItemPoint:/item\d*\./gi,keyMap:{FN:"",GENDER:q.t("性别"),ADR:q.t("居住地址"),EMAIL:q.t("电子邮箱"),INTERNET:"",BDAY:q.t("生日"),TEL:q.t("电话号码"),ZS:q.t("备注"),"URL;type=pref":q.t("个人主页"),"URL;TYPE=PREF":q.t("个人主页"),URL:q.t("个人主页"),TITLE:q.t("职位"),ROLE:q.t("角色"),ORG:q.t("部门"),ORGNAME:q.t("组织"),MEMBER:q.t("成员"),LOGO:"LOGO",RELATED:q.t("关系"),LANG:q.t("语言"),TZ:q.t("时区"),GEO:q.t("地理位置"),MAIL:q.t("电子邮箱"),MAILHOME:q.t("家庭邮箱"),MAILWORK:q.t("工作邮箱"),ADRHOME:q.t("家庭地址"),ADRWORK:q.t("办公地址"),CELL:q.t("手机号码"),TELHOME:q.t("家庭电话"),TELWORK:q.t("办公电话"),FAX:q.t("传真号码"),FAXHOME:q.t("家庭传真"),FAXWORK:q.t("办公传真"),"EMAIL;type=INTERNET":q.t("电子邮箱"),"EMAIL;TYPE=INTERNET":q.t("电子邮箱"),"EMAIL;type=INTERNET;type=pref":q.t("电子邮箱"),"EMAIL;TYPE=INTERNET;TYPE=PREF":q.t("电子邮箱"),"BDAY;value=date":q.t("生日"),"X-ICQ;type=HOME;type=pref":"","X-ICQ;TYPE=HOME;TYPE=PREF":"","ADR;type=HOME":q.t("家庭地址"),"ADR;TYPE=HOME":q.t("家庭地址"),"TEL;type=CELL":q.t("手机号码"),"TEL;TYPE=CELL":q.t("手机号码"),"TEL;type=VOICE":q.t("手机号码"),"TEL;TYPE=VOICE":q.t("手机号码"),"TEL;type=CELL;type=VOICE;type=pref":q.t("手机号码"),"TEL;TYPE=CELL;TYPE=VOICE;TYPE=PREF":q.t("手机号码"),"TEL;type=CELL;type=VOICE":q.t("电话"),"TEL;TYPE=CELL;TYPE=VOICE":q.t("电话"),"TEL;type=HOME;type=VOICE":q.t("家庭电话"),"TEL;TYPE=HOME;TYPE=VOICE":q.t("家庭电话"),"TEL;type=WORK;type=VOICE":q.t("工作电话"),"TEL;TYPE=WORK;TYPE=VOICE":q.t("工作电话"),"TEL;type=WORK;type=FAX":q.t("办公传真"),"TEL;TYPE=WORK;TYPE=FAX":q.t("办公传真"),"ADR;type=WORK;type=pref":q.t("地址"),"ADR;TYPE=WORK;TYPE=PREF":q.t("地址"),"ADR;type=WORK":q.t("地址"),"ADR;TYPE=WORK":q.t("地址"),"PC;WORK,pref":q.t("邮编"),"PC;WORK,PREF":q.t("邮编"),"PC;HOME,pref":q.t("邮编"),"PC;HOME,PREF":q.t("邮编"),"EMAIL;type=INTERNET;type=HOME":q.t("家庭邮箱"),"EMAIL;TYPE=INTERNET;TYPE=HOME":q.t("家庭邮箱"),"EMAIL;type=INTERNET;type=WORK":q.t("工作邮箱"),"EMAIL;TYPE=INTERNET;TYPE=WORK":q.t("工作邮箱"),ANNIVERSARY:q.t("纪念日")},iaddrMap:{MAIL:"EMAIL;type=INTERNET",MAILHOME:"EMAIL;type=INTERNET;type=HOME",MAILWORK:"EMAIL;type=INTERNET;type=WORK",ADR:"ADR",ADRHOME:"ADR;type=HOME",ADRWORK:"ADR;type=WORK;type=pref",CELL:"TEL;type=CELL;type=VOICE",TEL:"TEL;type=VOICE",TELHOME:"TEL;type=HOME;type=VOICE",TELWORK:"TEL;type=WORK;type=VOICE",FAX:"TEL;type=FAX",FAXHOME:"TEL;type=HOME;type=FAX",FAXWORK:"TEL;type=WORK;type=FAX",marry:"marry",know:"know",anniversary:"anniversary",other:"other","BDAY;value=date":"BDAY;value=date"},xportMap:{FN:q.t("姓名"),"EMAIL;PREF":q.t("电子邮箱"),"EMAIL;BAK1":q.t("家庭邮箱"),"EMAIL;BAK2":q.t("工作邮箱"),"EMAIL;type=INTERNET":q.t("其他邮箱"),"TEL;CELL":q.t("手机号码"),"TEL;HOME;VOICE":q.t("家庭电话"),"TEL;WORK;VOICE":q.t("办公电话"),ZS:q.t("备注"),GROUPING:q.t("分组"),"TEL;FAX":q.t("传真号码"),"TEL;WORK;FAX":q.t("办公传真"),"TEL;HOME;FAX":q.t("家庭传真"),"PC;WORK":q.t("公司邮编"),"PC;HOME":q.t("邮政编码"),ADR:q.t("居住地址"),"ADR;WORK":q.t("工作地址"),"ADR;HOME":q.t("家庭地址"),"IMPP;X-SERVICE-TYPE=popo":"POPO","IMPP;X-SERVICE-TYPE=qq":"QQ","IMPP;X-SERVICE-TYPE=icq":"ICQ","IMPP;X-SERVICE-TYPE=msn":"MSN","IMPP;X-SERVICE-TYPE=gtalk":"GTalk","IMPP;X-SERVICE-TYPE=AIM":"AIM","IMPP;X-SERVICE-TYPE=Skype":"Skype","IMPP;X-SERVICE-TYPE=yahoo":q.t("雅虎通"),"IMPP;X-SERVICE-TYPE=sinauc":q.t("新浪UC"),"IMPP;X-SERVICE-TYPE=jabber":"Jabber","IMPP;X-SERVICE-TYPE=facebook":"Facebook",BDAY:q.t("生日"),URL:q.t("个人主页"),JINIAN:q.t("纪念日"),NICKNAME:"NICKNAME",ORGNAME:q.t("组织"),TITLE:q.t("职位"),ORG:q.t("部门"),ROLE:q.t("角色"),MEMBER:q.t("成员")},formatContact:c,addressResolve:d,getLabel:e,formatADR:f,formatURL:g,formatEMAIL:h,formatTEL:i,formatIcq:j,formatDate:k,formatIDate:l,formatFAX:m,parseADR:n,mergeData:o,setItem:p,maxItem:null})}($,window),function(a){function b(a,b,c){var d=this;if(c&&c.verify){var e=b?b+"<"+a+">":a;k.superClass.initialize.call(d,e,l.type.EMAIL)}else d.address=a,d.domain=a.split("@")[1],b?d.name=d.defaultName=b:d.defaultName=a.split("@")[0]}function c(a){return/^1[3456789]\d{9}(@((163|126|188|vip\.163|vip\.126|vip\.188)\.com|yeah\.net))?$/i.test(a)}function d(a){try{return/@(vip\.163|vip\.126|188|vip\.188)\.com$/i.test(j.trim(a))}catch(b){return!1}}function e(a){try{return/@((163|126)\.com|yeah\.net)$/i.test(j.trim(a))}catch(b){return!1}}function f(a){try{return/@groups\.163\.com$/i.test(j.trim(a))}catch(b){return!1}}try{var g=$L("util.Uri")}catch(h){return h}var i=a.Object,j=a.String,k=a.createClass($N("util.Email"));a.Email=k;var l=g;i.inherit(k,l,{type:l.type.EMAIL,initialize:b}),i.extend(k,{checkMobile:c,checkVip:d,checkFree:e,checkMailGroup:f})}($,window),function(a,b){function c(b,c){var d=l;if(d.checkMobile(b)){var e="http://e.mail."+$G.user.uid.split("@")[1]+"/mobilemail/getAlias.jsp";a.Ajax.jsonp(e,function(){}),fGetUrsAliasCall=function(a){a&&($S("reserveMobile",$G.user.uid),$S("mobile_sender",$G.user.uid),$S("showMobileAccountOnly",!0),c&&c(!0))}}}function d(a){var b=$S("timeS"),c=$S("timeC"),d=new Date,e=$S("attrs").user.time_zone,f=new Date(b.valueOf()+(d-c));return a&&(e=(e||8)-0,f=new Date(f.valueOf()+1e3*3600*(e-8))),f}function e(){if($S("isCorp"))return top.location.href="bj"==$G.environment.svr?"http://mail.qiye.163.com/logout.jsp?from="+location.host+"&uid="+$S("uid")+"&domain="+$S("domain"):"http://mailhz.qiye.163.com/logout.jsp?from="+location.host+"&uid="+$S("uid")+"&domain="+$S("domain"),void 0;if($S("isMailMasterLogined"))try{a.Ajax.request({url:"http://sweeplogin.mail.163.com/sweeplogin/web/logout.do?uid="+$S("orgUid"),requestType:a.Ajax.SCRIPT})}catch(b){}var c=a.Uri.getUrl("logout",!0);c+="&username="+encodeURIComponent(encodeURIComponent($S("attrs").user.nick_name||$S("user"))),c+="&date="+n.getTime(0).valueOf();var d=a.SenderList.getMobile();d&&(c+="&mobile=1"),c+=$S("ad")&&"ud"===$S("ad").userType?"&previlege_usertype=ud&showAd=0":"&showAd=1",top.location.href=c}function f(a){var c=document.createElement("bgsound");document.body.appendChild(c),c.src=a||$G.environment.mimgUrl+"p/js35/lib/sound/message.wav",c.loop=1,b.setTimeout(function(){document.body.removeChild(c)},3e3)}function g(a){b.onbeforeunload=null,$S("ad").show=!1,top.location.href=a}function h(){return a.Cookie.get("MAIL_SESS")||$G.user.ursCookie}function i(){try{var b=top.location.hash.replace("#","&"),c="";return a.Context.error&&(c=JSON.stringify(a.Context.error)),b+"&error="+encodeURIComponent(c)+"&sid="+$G.user.sid}catch(d){return""}}function j(a){try{return JSON.parse(a)}catch(b){return JSON.parse(a.replace(/(\{ ?|, ?)\b([\w_\-]+) ?:/g,'$1"$2":'))}}function k(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))}try{var l=$L("util.Email")}catch(m){return m}var n=a.createClass($N("util.Misc"));a.Misc=n,a.Object.extend(n,{getTime:d,logout:e,createSound:f,redirect:g,getFeedbakParam:i,checkReserveAccount:c,parseJson:j,random:k,getMailSess:h})}($,window),function(a,b,c){function d(b){for(var c=this,e=q,f=new e,g=a.Object.isArray(b.field)?b.field:[b.field],h=g.join("|"),i={},j=g.length-1;j>-1;j--){var k=g[j];k in this.udProxy&&(i[k]=this.udProxy[k],g.splice(j,1))}if(a.Object.isEmpty(g))return b.call&&b.call(i);if(a.Array.indexOf(this.udProxyQueue,h)>-1)return setTimeout(function(){d.call(c,b)},100);var l={func:"ntes:udproxy:getAttrs",body:{attrIds:g},call:function(d){d=d["var"];for(var e in d)c.udProxy[e]=d[e],a.Array.remove(c.udProxyQueue,e);a.Object.extend(i,d),b.call&&b.call(i)},error:function(a){return b.error&&"function"==typeof b.error?b.error(a):b.call&&b.call({}),!0}};f.wmsvr(l),-1===a.Array.indexOf(this.udProxyQueue,h)&&this.udProxyQueue.push(h)}function e(a){var b=this,c=q,d=new c,e={attrs:{}};e.attrs[a.field]=a.value;var f={func:"ntes:udproxy:setAttrs",body:e,call:function(c){b.udProxy[a.field]=a.value,a.call&&a.call(c["var"])}};d.wmsvr(f)}function f(a){var b=a.field;this.getProxy({field:b,call:function(d){var e=d[b],f=$G.get("udProxyConf")[b],g=a.flag;"bitString"===f.type&&g!==c&&(e=e.charAt(f.bits[g]),e="*"===e?"":e),a.call!==c&&a.call(e)}})}function g(a){var b=this,d=a.field,e=$G.get("udProxyConf")[d];"bitString"===e.type?b.getProxy({field:d,call:function(f){var g=a.value.toString(),h=f[d],i=a.flag,j=e.bits[i];return h.charAt(j)===g?(a.call!==c&&a.call(),void 0):((""===g||g===c)&&(g="*"),h=j>=h.length?h+new Array(j-h.length).join("*")+g:h.substring(0,j)+g+h.substring(j+1),b.setProxy({field:d,value:h,call:a.call}),void 0)}}):b.setProxy(a)}function h(a){function b(){if(k)for(var a in k)for(var b=k[a],c=0;c<b.length;c++)if(b[c]==f){for(var d,e=0;e<j.length;e++)j[e]==a&&(d=e);if("undefined"==typeof d)return;var l=i.substr(d,1),m="0000"+parseInt(l,h.length).toString(2);m=m.substr(m.length-4,4);var n=m.substring(0,c)+(g+"0").substr(0,1)+m.substring(c+1);return{subValue:parseInt(n,2).toString(16),pos:d}}}var c,d=q,e=a.field,f=a.flag,g=a.value,h=this.comboDefault,i=$G.attrs.user[e],j=$G.get("udConf")[e],k=$G.get("extUdConf")[e],l=a.call,m=new d;if("helptips"!=e)if(j&&f){i+=h,i=i.substr(0,h.length);for(var n=0;n<j.length;n++)if(j[n]==f){c=n;break}if("undefined"==typeof c){var o=b();if("undefined"==typeof o)return;c=o.pos,g=o.subValue}var p=i.substring(0,c)+(g+"0").substr(0,1)+i.substring(c+1);if(a.notPost)return $G.attrs.user[e]=p,p;var r={attrs:{}};if(i!=p||a.forcePost){r.attrs[e]=p,$G.attrs.user[e]=p;var s={func:"user:setAttrs",body:r,call:l};m.wmsvr(s)}}else{var r={attrs:{}};if(g!=i||a.forcePost){r.attrs[e]=g,$G.attrs.user[e]=g;var s={func:"user:setAttrs",body:r,call:l};m.wmsvr(s)}else l&&l()}}function i(a){var b=a.field,c=a.flag,d=this.comboDefault,e=$G.attrs.user||{},f=e[b],g=($G.get("udConf")||{})[b],h=($G.get("extUdConf")||{})[b];if(!b||!g)return f;f+=d,f=f.substr(0,d.length);for(var i=0;i<g.length;i++)if(g[i]==c)return f.substr(i,1);if(h)for(var j in h)for(var k=h[j],l=0;l<k.length;l++)if(k[l]==c){for(var m,n=0;n<g.length;n++)if(g[n]==j){m=n;break}if("undefined"==typeof m)return;var o=f.substr(m,1),p="0000"+parseInt(o,d.length).toString(2);return p=p.substr(p.length-4,4),p.substr(l,1)}}function j(a){var b=this.initMega(a);b.bin,b.index;var c=b.value;return"undefined"!=typeof c?1==c-0:void 0}function k(a,b,c){if(1==arguments.length)return this.getEnable(a);var d=b?1:0,e=this.initMega(a),f=e.bin,g=e.index,h=e.value,i="",j="",k=this.megaField;if("undefined"!=typeof g){for(i=f.substring(0,g)+(d+"")+f.substring(g+1),this.megaBin=i;i.length>0;){var l=i.substring(0,18),m=parseInt(l,2).toString(10),n=this.compress(m-0);n="000"+n,n=n.substr(n.length-3),j+=n,i=i.substr(18)}j+="m",$G.attrs.user[k]=j;var o={attrs:{}};if(h!=d||this.firstUsed){o.attrs[k]=j;var p={func:"user:setAttrs",body:o,call:c},r=q;(new r).wmsvr(p)}else c&&c()}}function l(){var a,b=$G.attrs.user[this.megaField]||this.comboDefault,c="m"==b.substring(15,16);return c?a=this.getEnable("senderName")?"1":"0":(a=this.get({field:"helptips",flag:"senderName"}),this.setSenderName("senderName",a)),a}function m(a,b){this.enable("senderName","1"==a?!0:!1,b)}function n(a){var b="";if(""!=this.megaBin)b=this.megaBin;else{var c=$G.attrs.user[this.megaField]||this.comboDefault,d="m"==c.substring(15,16);for(d||(c="000000000000000m",this.firstUsed=!0);c.length>1;){var e=c.substring(0,3),f=this.unCompress(e).toString(2);f=this.megaComboDefault+f,f=f.substr(f.length-this.megaComboDefault.length),b+=f,c=c.substr(3)}var g,h}for(var i=$G.get("megaConf").flags,j=0;j<i.length;j++)if(a==i[j]){g=j;break}return"undefined"!=typeof g&&(h=b.substring(g,g+1)),{bin:b,index:g,value:h}}function o(a){var b=[],c=64,d=6,e=1<<d,f=e-1;do b[--c]=this.digits[(a&f)-0],a>>>=d;while(0!=a);return b.join("")}function p(a){function b(a){var b=a-0;return b>=48&&57>=b?b-48:b>=97&&122>=b?b-87:b>=65&&90>=b?b-29:43==b?62:47==b?63:0}for(var c=0,d=a.length-1;d>=0;d--)if(d!=a.length-1)for(var e=0;e<this.digits.length;e++)a.charAt(d)==this.digits[e]&&(c+=e<<6*(a.length-1-d));else c+=b(a.charCodeAt(d));return c}try{var q=$L("core.DataAction")}catch(r){return r}var s=a.createClass($N("util.Ud"));a.Ud=s,a.Object.extend(s,{set:h,get:i,getEnable:j,enable:k,initMega:n,getProxy:d,setProxy:e,getProxyBit:f,setProxyBit:g,comboDefault:"0000000000000000",megaComboDefault:"000000000000000000",megaBin:"",udProxy:{},udProxyQueue:[],digits:["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","+","/"],compress:o,unCompress:p,megaField:"helptips",getSenderName:l,setSenderName:m})}($,window),function(a,b){function c(a){var b=a.baseUrl,c=a.pushType,d=a.onData,e=a.service;this._baseUrl=b,this.listenData(d),this._type=c,this._service=e,"ajax-flash"==c&&q.create()}function d(a){this.request(a,"subscribe")}function e(a){this.request(a,"publish")}function f(a){this.request(a,"listen")}function g(a,c){b.fShowRequest&&fShowRequest(a);var d=this,e=d._baseUrl,f=k(a);switch(d._type){case"jsonp-pull":e=e+(e.indexOf("?")>-1?"&":"?")+f,t.jsonp(e,function(b){d.onData.call(d,b,a,c)},"jsonp");break;case"ajax-flash":this.flashAjax({url:e+(e.indexOf("?")>-1?"&":"?")+(new Date).valueOf(),method:"post",call:function(b){d.onData.call(d,b,a,c)},body:f});break;case"ajax":break;case"iframe":}}function h(){}function j(a,b,c){for(var d=0;d<this._onData.length;d++)this._onData[d](a,b,c)}function k(a){var b=[];for(var c in a){var d=a[c];"object"==typeof d?b.push(c+"="+encodeURIComponent(JSON.stringify(d))):b.push(c+"="+encodeURIComponent(d))}return b.join("&")}function m(b){function c(a,c){if("complete"==a&&b.call){var d=null;try{d=p(c)}catch(e){}b.call(d)}}b.method=b.method||"get";var d=q.getInstance();if(!d)return setTimeout(a.Function.bind(m,this,b),2e3),void 0;d.open(b.method,b.url,b.charset||"utf-8"),b.sync||(d.onreadystatechange=c);var e=b.head||[];for(i=0,l=e.length;l>i;i+=2)d.setRequestHeader(e[i],e[i+1]);d.send("post"==b.method?b.body:null),b.sync&&c()}function n(){}function o(a){a&&this._onData.push(a)}function p(b){var c=a.Eval.get(b);return c}try{var q=$L("core.FlashRequest")}catch(r){return r}var s=a.createClass("netease.mail.comet.Comet"),t=netease.mail.base.Ajax;a.Object.extend(s.prototype,{_type:"",_onData:[],_baseUrl:"",_service:"service",subscribe:d,publish:e,listen:f,request:g,leave:h,onData:j,stream:n,flashAjax:m,listenData:o,initialize:c})}($,window),function(a,b){function c(){k.superClass.initialize.apply(this,arguments)}function d(){var a=[{channel:"/meta/connect"}],b=this.getReqParam(a);return k.superClass.subscribe.call(this,b)}function e(a){a.uid=$G.user.uid;var b=[{data:a,channel:"/service/"+this._service}],c=this.getReqParam(b);return k.superClass.publish.call(this,c)}function f(){var a=[{timestamp:(new Date).toGMTString(),channel:"/meta/reconnect"}],b=this.getReqParam(a);return this._onListen&&!this._onListenRun&&(this._onListen(),this._onListenRun=!0),k.superClass.listen.call(this,b)}function g(a,c,d){var e=this;if(a&&a[0]&&!a[0].successful)return k.superClass.onData.apply(this,arguments),b.setTimeout(function(){delete e._clientId,e._onListenRun=!1,e.subscribe()},9e4),!1;if(a&&a[0]&&a[0].clientId&&!this._clientId&&(this._clientId=a[0].clientId,this._onReady&&this._onReady()),"listen"==d){if(a&&a[0]&&a[0].clientId&&this._clientId!=a[0].clientId)return!1;setTimeout(function(){e.listen()},500)}return k.superClass.onData.apply(this,arguments)}function h(a){var b=this._typeMatch[this._type],c={};if(a.length>0)for(var d=0;d<a.length;d++)a[d].connectionType=b,this._clientId&&(a[d].clientId=this._clientId),a[d].timestamp=(new Date).valueOf();else a.connectionType=b,this._clientId&&(a.clientId=this._clientId),a.timestamp=(new Date).valueOf();return c.message=a,c}function i(a){this._onReady=a}function j(a){this._onListen=a}var k=a.createClass("netease.mail.comet.PushMsg"),l=netease.mail.comet.Comet;a.Object.inherit(k,l,{_onReady:null,_onListen:null,_clientId:"",_onListenRun:!1,_type:"",_typeMatch:{stream:"stream-pulling","ajax-pull":"long-polling","ajax-flash":"long-polling","jsonp-pull":"callback-polling"},subscribe:d,publish:e,listen:f,onData:g,onReady:i,onListen:j,getReqParam:h,initialize:c})}($,window),function(a,b){function c(a){var c=a.call,d=function(a,b,d){c&&c(a,b,d)};b.MailMsg?MailMsg.listenData(d):(MailMsg=new g({baseUrl:a.baseUrl,pushType:a.pushType,service:a.service,onData:d}),MailMsg.onReady(function(){MailMsg.listen()}))}function d(){MailMsg.subscribe()}function e(){var a=netease.mail.base.Cookie.get("P_INFO");return a?a.split("|")[0].replace('"',""):void 0}var f=a.createClass("netease.mail.comet.App"),g=netease.mail.comet.PushMsg;a.Object.extend(f,{create:c,init:d,getUid:e})}($,window),function(a,b){function c(b){if(t.layers){var c;try{c=a.Event.getTarget(b)}catch(d){}a.Array.each(t.layers,function(b,d){try{if(!d.rawConfig.doNotHide){var e=d.relatedObj;if(e&&c){var f=e&&a.Element.inside(c,e);if(f){var g=d.getDom();d.hidden=g&&"none"!==g.style.display}}for(var h=c,i=!1;h&&1===h.nodeType;)(h.getAttribute("data-layer-stophide")||h===d.rawConfig.pointTo)&&(i=!0),h=h.parentNode;i||d.hide()}}catch(j){}})}}function d(a){if("userLayer"==a.subclass&&!n){try{var b=$L("support.AddressSupport",this)}catch(c){return c}n=b}var d=this;t.superClass.initialize.call(d,a),t.layers.push(d)}function e(){var a=this,b=a.getEl();if(b&&"none"!==b.dom.style.display){var c=a.getParamClass("hiding");b.hasClass(c)||(s.bind({el:b,type:"animationend",filter:function(a,b){return b.hasClass(c)},unsupport:function(){b.hide(),a.fire("hide")},support:function(){b.hide(),b.removeClass(c),a.fire("hide")}}),s.support&&b.addClass(c))}}function f(b){var c=this,d={params:[]};if(d.text=b.content||b.text||"",d.contentType=b.contentType||"normal",b.hasClose&&d.params.push("hasClose"),b.icon){d.params.push("hasIcon");var e={};"object"==typeof b.icon&&(e=p.extend(b.icon,{xtype:"icon"})),d.icon=r.fly(e)}return b.params&&a.Array.has(b.params,new RegExp("arr(?:Up|Down|Left|Right)"))&&d.params.push("hasArr"),"userLayer"===b.subclass&&(d.text="group"===b.userType?c._getGroupLayer():c._getUserLayer()),b.uniqueLayer&&(t.uniqueLayer?d.specialStyle="display:none;":t.uniqueLayer=c),d}function g(b){var c=this,d=b.clickFrom.dom||b.clickFrom,e=c.rawConfig,f=(b.floatTo||{}).dom||b.floatTo||d,g=b.reverse||e.reverse||!1;a.Event.listen(d,"click",function(){setTimeout(function(){c.hidden?c.hide():(c.rendered?c.show():c.render(document.body),g?c.getEl().floatTo(f,f.clientHeight,-(c.getEl().dom.offsetWidth-f.offsetWidth)):c.getEl().floatTo(f,!0)),c.hidden=!c.hidden},0)}),c.relatedObj=d}function h(a,b){try{var c=this.rawConfig,d=0,e=0,f=a.dom||a,g=f,h=this.getEl().dom,i=this._arrEl?this._arrEl.dom:null,j=this.cssClassNames.params,k=i?i.offsetLeft+i.offsetWidth/2:0,l=0;b=b&&b.dom||b||r.getScrollParent(g)||c.renderTo&&c.renderTo.dom||c.renderTo||document.body;do d+=f.offsetTop||0,e+=f.offsetLeft||0,f=f.offsetParent;while(f&&f!==b&&f!==b.offsetParent);if(j.arrDown)l=g.offsetWidth/2<k?g.offsetWidth/2-k:0,h.style.left=e+l+(c.fixX||0)+"px",h.style.top=d-i.offsetHeight+(c.fixY||0)+"px",h.offsetLeft<0&&(h.style.left=0,i&&(i.style.left=i.offsetLeft+e+l+(c.arrFixX||0)+"px"));else if(j.arrLeft){h.style.left=e+h.clientWidth-i.clientWidth+(c.fixX||0)+"px";var m=d-(g.offsetHeight+i.offsetHeight)/2+(c.fixY||0);m=0>m?0:m,h.style.top=m+"px"}else if(j.arrRight){h.style.left=e-h.clientWidth-i.clientWidth+(c.fixX||0)+"px";var m=d-(g.offsetHeight+i.offsetHeight)/2+(c.fixY||0);m=0>m?0:m,h.style.top=m+"px"}else l=g.offsetWidth/2<k?g.offsetWidth/2-k:0,h.style.left=e+l+(c.fixX||0)+"px",h.style.top=d+g.offsetHeight+i.offsetHeight+(c.fixY||0)+"px",h.offsetLeft<0&&(h.style.left=0,i&&(i.style.left=i.offsetLeft+e+l+"px"))}catch(n){}}function i(){if(a.Ext&&a.Ext.avatar_show){var b=this,c=b.rawConfig;if("userLayer"===c.subclass&&"group"!==c.userType)try{var d=b.getEl();try{var e=$L("init.Avatar",this)}catch(f){return f}e.get(c.value.address,80,$S("orgUid")!==c.value.address,function(a,b){if(!b){d.find("div.nui-userLayer-oprt").hide();var c=d.find("div.nui-userLayer-avatar");c.html('<img src="'+a+'" width="80" height="80">'),c.show(),d.find("div.nui-toolbar-item").show(),d.addClass("nui-userLayer-hasAvatar ")}})}catch(f){}}}function j(){function c(a){try{q.cache({layer_compose_click:1},function(a,b){a.value=(+a.value||0)+ +b})}catch(b){}try{var c=$L("interface.ComposeInterface",this)}catch(b){return b}c.compose({type:"compose",param:{info:{to:[a.address]}}})}function d(a){try{q.cache({layer_related_click:1},function(a,b){a.value=(+a.value||0)+ +b})}catch(b){}try{var c=$L("interface.MboxInterface",this)}catch(b){return b}c.contacts(a.address)}function e(b,c,d){var e=a.String.decodeHTML(c.name);if(b){try{var f=$L("support.AddressSupport",this)}catch(g){return g}f.contactDialog({type:"modify",addr:{id:b,name:e},callback:function(){a.Tips.show({succ:!0,text:o.t("成功编辑联系人")}),d&&d()}})}else{try{var f=$L("support.AddressSupport",this)}catch(g){return g}f.contactDialog({type:"add",addr:{name:e,email:c.address,marked:c.marked},callback:function(){a.Tips.show({succ:!0,text:o.t("成功添加联系人")}),d&&d()}})}}function f(a){i.fire("clickLayer","moreAction");try{var b=$L("interface.OptionInterface",this)}catch(c){return c}b.goFilter({inputText:[a.address]})}function g(a){i.fire("clickLayer","moreAction");try{var b=$L("product.FileCenter",this)}catch(c){return c}b.entry("fj_center",{contact:{fromEmail:a}})}function h(b,c){i.fire("clickLayer","moreAction");var d="refuselist"===c?o.t("黑名单"):o.t("白名单"),e=b.address;a.Msgbox.show({type:"confirm",icon:"ask-l",title:o.t("是否将 ")+e+o.t(" 加入")+d+o.t("？"),header:o.t("添加")+d+o.t("确认"),ok:function(){try{var b=$L("support.OptionSupport",this)}catch(f){return f}b.addList({name:c,value:e,noErr:!0},function(b,c){b?a.Tips.show({succ:!0,text:o.t("成功添加 ")+e+o.t(" 到")+d}):a.Tips.show({err:!0,text:c||o.t("添加 ")+e+o.t(" 到")+d+o.t("失败，请重新尝试添加")})})}})}var i=this,j=i.rawConfig,k=j.value,l="",m=a.Link,p=a.Button,s=n.getAddrObj(k.address,!0),t=m.html({text:o.t("写信"),extcls:"nui-txt-cLink",click:function(){i.fire("clickLayer","compose"),c(k)}});if(t='<span class="nui-userLayer-item-ext"><b class="nui-ico nui-ico-compose2 nui-ico-inSkin"></b> '+t+"</span>",s){var u=s.MARKED;l=a.Icon.html({type:"star",subtype:u?"selected":null,listeners:{click:{handler:function(){var b=this;u=n.getAddrObj(k.address,!0).MARKED,u?a.Msgbox.show({type:"confirm",contentType:"iconText",title:o.t("确定要取消星标联系人吗？"),content:o.t("取消星标联系人后，该联系人将从左侧栏移除。"),ok:function(){n.markData({data:{cid:s.CID},mark:!1,call:function(){u=!1,a(b).removeClass("nui-ico-star-selected")
}})}}):n.markData({data:{cid:s.CID},call:function(){a(b).addClass("nui-ico-star-selected"),u=!0}})}}}})}else l=a.Icon.html({type:"star",listeners:{click:{handler:function(){i.fire("clickLayer","addContact"),k.marked=!0,e(null,k,j.userLayerCallback)}}}});var v=m.html({text:o.t("邮件往来"),extcls:"nui-userLayer-oprt-item nui-txt-cLink",click:function(){i.fire("clickLayer","emailRelate"),d(k)}}),w=p.html({text:o.t("邮件往来"),click:function(){i.fire("clickLayer","emailRelate"),d(k)}}),x={},y={};s?(x={text:o.t("编辑联系人"),extcls:"nui-userLayer-oprt-item nui-txt-cLink",click:function(){i.fire("clickLayer","editContact"),e(s.CID,k,j.userLayerCallback)}},y={text:o.t("编辑联系人"),click:function(){i.fire("clickLayer","editContact"),e(s.CID,k,j.userLayerCallback)}}):(x={text:o.t("添加联系人"),extcls:"nui-userLayer-oprt-item nui-txt-cLink",click:function(){i.fire("clickLayer","addContact"),e(null,k,j.userLayerCallback)}},y={text:o.t("添加联系人"),click:function(){i.fire("clickLayer","addContact"),e(null,k,j.userLayerCallback)}});var z=m.html(x),A=p.html(y),B=[];B.push({items:[{text:o.t("设置来信分类"),click:function(){f(k)}}]}),$S("isCorp")||B.push({items:[{text:o.t("查看附件往来"),click:function(){g(k)}}]}),B.push({items:[{text:o.t("拒收该地址"),click:function(){h(k,"refuselist")}},{text:o.t("添加到白名单"),click:function(){h(k,"safelist")}}]});var C=m.html({text:o.t("更多")+'&nbsp;&nbsp;<b class="nui-ico nui-ico-rArr"></b>',extcls:"nui-userLayer-oprt-item nui-txt-cLink",listeners:{mouseover:{handler:function(){var b=this,c=r.getItem(b);a.Event.isMouseover(b)&&(c.menu?c.menu.show():(c.menu=new a.Menu({renderTo:i.getEl().dom,groups:B,listeners:{render:function(){var a=i.getEl().dom,c=this,d=c.getEl().dom;d.style.left="100%",d.style.top="100%",d.style.marginTop=-b.offsetHeight+"px",a.offsetTop+a.offsetHeight>a.parentNode.offsetHeight&&(d.style.top="auto",d.style.bottom="0")}}}),i.listen("hide",function(){c.menu.hide()})))}}}}),D=p.html({text:o.t("更多"),subclass:"dropdownBtn",menu:{groups:B}}),E=m.html({text:o.t("复制"),cls:"nui-txt-link",attrs:'style="white-space:nowrap;"',click:function(){i.copyAddress()}}),F="";j.vip&&$S("isFree")&&(F='<div data-layer-stophide="true" class="nui-userLayer-item"><span>'+m.html({text:o.t("升级VIP服务>"),cls:"nui-txt-mark",click:function(){b.open("http://reg.vip.163.com/register.m?from=mingpian#tab=upgrade","updateVip")}})+"</span>");var G='<div class="nui-userLayer-avatar nui-userLayer-item" style="display:none;"></div><div data-layer-stophide="true" class="nui-userLayer-name nui-userLayer-item">'+t+l+k.name+"</div>"+'<div data-layer-stophide="true" class="nui-userLayer-address nui-userLayer-item"><span>'+k.address+"</span>&nbsp;&nbsp;"+E+"</div>"+F+'<div class="nui-userLayer-oprt">'+v+z+C+"</div>"+'<div class="nui-toolbar-item" style="display:none;">'+w+A+D+"</div>";return G}function k(){function b(a){try{var b=$L("interface.ComposeInterface",this)}catch(c){return c}b.compose({info:{to:a.arr}})}function c(b){var c=this;a.Event.stop(b);var d=n.data.extDataMap.group[(f.data||{}).cid||""],e=d.MARKED;e?a.Msgbox.show({type:"confirm",contentType:"iconText",title:o.t("确定要取消星标联系组吗？"),content:o.t("取消星标联系组后，该联系组将从左侧栏移除。"),ok:function(){n.markData({data:{cid:d.CID,ctype:"group"},mark:!1,call:function(){e=!1,a(c).removeClass("nui-ico-stars-selected")}})}}):n.markData({data:{cid:d.CID,ctype:"group"},call:function(){a(c).addClass("nui-ico-stars-selected"),e=!0}})}var d=this,e=d.rawConfig,f=e.value,g=a.Link,h=g.html({text:o.t("给联系组写信"),extcls:"nui-userLayer-oprt-item nui-txt-cLink",click:function(){b(f)}}),i=g.html({text:o.t("编辑联系组"),extcls:"nui-userLayer-oprt-item nui-txt-cLink",click:function(){try{var a=$L("interface.AddressInterface",this)}catch(b){return b}a.entry({action:"ModifyGroup",id:f.data.cid})}}),j=[];j.push({items:[{text:o.t("取消加星联系组"),click:function(){a.Msgbox.show({type:"confirm",contentType:"iconText",title:o.t("确定要取消星标联系组吗？"),content:o.t("取消星标联系组后，该联系组将从左侧栏移除。"),ok:function(){n.markData({data:{cid:f.data.cid,ctype:"group"},mark:!1,call:function(){}})}})}}]});var k=g.html({text:o.t("更多")+'&nbsp;&nbsp;<b class="nui-ico nui-ico-rArr"></b>',extcls:"nui-userLayer-oprt-item nui-txt-cLink",listeners:{mouseover:{handler:function(){var b=this,c=r.getItem(b);a.Event.isMouseover(b)&&(c.menu?c.menu.show():(c.menu=new a.Menu({renderTo:d.getEl().dom,groups:j,listeners:{render:function(){var a=d.getEl().dom,c=this,e=c.getEl().dom;e.style.left="100%",e.style.top="100%",e.style.marginTop=-b.offsetHeight+"px",a.offsetTop+a.offsetHeight>a.parentNode.offsetHeight&&(e.style.top="auto",e.style.bottom="0")}}}),d.listen("hide",function(){c.menu.hide()})))}}}}),l=n.data.extDataMap.group[(f.data||{}).cid||""],m="";if(l){var p=l.MARKED;m=a.Icon.html({type:"stars",subtype:p?"selected":null,listeners:{click:{handler:c}}})}var q='<div data-layer-stophide="true" class="nui-userLayer-name nui-userLayer-item">'+m+a.String.escapeHTML(f.data.name)+"</div>"+'<div class="nui-userLayer-oprt">'+h+i+k+"</div>";return q}function l(){var a=this,b=a.getEl();try{b.dom.focus()}catch(c){}}function m(){function a(a){if("INPUT"===a.nodeName||"TEXTAREA"===a.nodeName)a.focus(),a.setSelectionRange(0,a.value.length);else if(a.hasAttribute("contenteditable")&&a.focus(),"function"==typeof b.getSelection){var c=b.getSelection(),d=document.createRange();d.selectNodeContents(a),c.removeAllRanges(),c.addRange(d)}else{var d=document.selection.createRange();d.moveToElementText(a),d.select()}}var c=this,d=c.getEl(),e=d.find(".nui-userLayer-address span").doms[0];a(e);try{succeeded=document.execCommand("copy")}catch(f){succeeded=!1}}var n,o=new $I18N("component.Layer"),p=a.Object,q=a.Log||b.Log,r=a.getClass("netease.mail.component.Component"),s=a.getClass("netease.mail.util.AnimationEvent"),t=a.createClass($N("component.Layer"));a.fly(document).listen("click",function(a){t.hideAllLayer(a)}),p.mix(t,r,{_cssClass:{baseclass:{cls:"nui-layer",tpl:'<div tabindex="0" class="#{compclass}" style="#{specialStyle}">#{hasClose}#{hasArr}<div class="nui-layer-#{contentType}">#{hasIcon}#{text}</div></div>',hasClose:{tpl:'<span class="nui-layer-close nui-close"><b class="nui-ico nui-ico-close">x</b></span>'},hasArr:{tpl:'<b class="nui-layer-arr"></b>'},hasIcon:{tpl:'<span class="nui-layer-icon">#{icon}</span>'}},subclass:{userLayer:{cls:"nui-userLayer"},productLayer:{cls:"nui-productLayer"},tipsLayer:{cls:"nui-tipsLayer"},dateLayer:{cls:"nui-dateLayer"}}},_events:["closeclick"],_listeners:[{name:"render",handler:function(){var a=this,b=a.getEl();if(b){var c=b.dom,d=a.rawConfig;a.checkAvatar(),d.width&&(c.style.width=d.width),d.height&&(c.style.height=d.height),d.left&&(c.style.left=d.left),d.top&&(c.style.top=d.top),d.right&&(c.style.right=d.right),d.bottom&&(c.style.bottom=d.bottom),d.zIndex&&(c.style.zIndex=d.zIndex),a._arrEl=a.getEl().find("b.nui-layer-arr");var e=(a._arrEl||{}).dom;e&&(d.arrLeft&&(e.style.left=d.arrLeft),d.arrTop&&(e.style.Top=d.arrTop));var f=b.findFly("span.nui-layer-close");f&&f.listen("click",function(){a.hide(),a.fire("closeclick")}),d.pointTo&&a.pointTo(d.pointTo,d.popupRenderTo),"userLayer"===d.subclass&&r.setEvents(),a.focus()}},type:"custom"},{name:"destroy",handler:function(){var b=this;b._arrEl.destroy(),delete b._arrEl,a.Array.each(t.layers,function(c,d){return d===b?(d.layers.splice(c,1),a.BREAK):void 0})},type:"custom"},{name:"show",handler:function(){var a=this,b=a.rawConfig,c=a.getEl();if(a.checkAvatar(),b.pointTo&&a.pointTo(b.pointTo,b.popupRenderTo),c.dom.style.visibility="",a.focus(),"userLayer"===b.subclass&&"group"!==b.userType){try{var d=a.rawConfig.value.address,e=n.getAddrObj(d,!0);if(e){var f=c.find(".nui-ico-star");f&&f[e.MARKED?"addClass":"removeClass"]("nui-ico-star-selected")}}catch(g){}a.focus()}},type:"custom"},{name:"click",handler:function(b){a.Event.stop(b)}},{name:"hide",handler:function(){this.getEl().dom.style.visibility="hidden"},type:"custom"},{name:"keyup",handler:function(a){var b=r.getItem(this);27===a.keyCode&&b.hide()}}],layers:[],hideAllLayer:c,xtype:"layer"},{attachTo:g,pointTo:h,checkAvatar:i,_getData:f,_getUserLayer:j,_getGroupLayer:k,initialize:d,hide:e,focus:l,copyAddress:m})}($,window),function(a){var b=a.Object,c=a.getClass("netease.mail.component.Component"),d=a.createClass($N("component.Label"));b.mix(d,c,{_cssClass:{baseclass:{cls:"nui-txt",tpl:'<span role="tooltip" class="#{compclass}">#{text}</span>'}},xtype:"label"},{})}($,window),function(a,b,c){function d(a){var b=this;u.superClass.initialize.call(b,a),a.iconBtn&&a.iconbtnclick&&b.listen("iconbtnclick",a.iconbtnclick),a.focus&&b.listen("focus",a.focus),a.blur&&b.listen("blur",a.blur),a.enter&&b.listen("enter",a.enter),a.keyup&&b.listen("keyup",a.keyup),a.keydown&&b.listen("keydown",a.keydown)}function e(){return this._inputEl}function f(a){var b=this;a=a===c?!0:a,u.superClass.setDisabled.call(b,a),a?b._inputEl.dom.setAttribute("disabled",!0):b._inputEl.dom.removeAttribute("disabled")}function g(a){var b=this;a=a||b.rawConfig.placeholder;var c=a!==b.rawConfig.placeholder;b._placeholderEl?c?(b._placeholderEl.dom.innerHTML=a,b._placeholderEl.show()):b._placeholderEl.show():b.update({placeholder:a})}function h(){var a=this;a._placeholderEl&&a._placeholderEl.hide()}function i(){var a=this;a._inputEl.dom.focus()}function j(){var a=this;a._inputEl.dom.select()}function k(a,b){var c=this,d=c.rawConfig;b=b||"err",c._tipsType=b;var e={text:a,type:b,renderTo:d.tipsRenderTo||c.getEl().dom.parentNode,renderBy:d.tipsRenderBy||null,extcls:"nui-ipt-tips"+(d.tipsExtcls?" "+d.tipsExtcls:"")},f=new p(e);c.find("label")&&c.hideTips(),c.add(f),c.getEl().addClass("nui-ipt-"+b),c.listen("keyup",c.hideTips)}function l(){var a=this,b=a.find("label")&&a.find("label")[0];b&&(a.remove(b.getEl().dom.id),a.getEl().removeClass("nui-ipt-"+a._tipsType),b.destroy()),a.unlisten("keyup",a.hideTips)}function m(a){var b=this,c=b._inputEl;if(!c){var d=b.getEl();d&&(c=d.find("input")||d.find("textarea"))}c&&(c.dom.value=a)}function n(){return this._inputEl?this._inputEl.dom.value:this.rawConfig.value||""}function o(a){var b=this,c={};if(c.params=[],c.value=a.value||"",a.placeholder&&(c.placeholder=a.placeholder,c.ariaLabel=' aria-label="'+a.placeholder+'"',c.params.push("hasPlaceholder"),a.inputId=a.inputId||b.id+"_inputId",c.labelForId='for="'+a.inputId+'" '),a.inputId&&(c.inputId='id="'+a.inputId+'" '),c.inputType=a.inputType||"text","password"===c.inputType&&c.params.push("hasCapsLockTips"),a.name&&(c.name=' name="'+a.name+'"'),a.icon){var d={xtype:"icon"};"object"==typeof a.icon?s.extend(d,a.icon):d.type=a.icon,c.icon=b._getChildHtml(d),c.params.push("hasIcon")}var e=sHeight="";if(a.width&&(e="width:"+a.width+";"),a.height&&(sHeight="height:"+a.height+";"),(e||sHeight)&&(c.style=' style="'+e+sHeight+'"'),a.iconBtn){var f={xtype:"icon",role:"button",interactiveStyle:!0};"object"==typeof a.iconBtn?s.extend(f,a.iconBtn):f.type=a.iconBtn,c.iconBtn=b._getChildHtml(f),c.params.push("hasIconBtn")}return a.voiceInput&&(c.voiceInput=" x-webkit-speech"),a.maxLength&&(c.maxLength=' maxlength="'+a.maxLength+'"'),a.tabIndex&&(c.tabIndex=' tabindex="'+a.tabIndex+'"'),"multiLineIpt"===a.subclass&&(a.rows&&(c.rows=' rows="'+a.rows+'"'),a.cols&&(c.cols=' cols="'+a.cols+'"')),a.inputClass&&(c.inputClass=" "+a.inputClass),c}try{var p=$L("component.Label")}catch(q){return q}var r=new $I18N("component.Input"),s=a.Object,t=a.getClass("netease.mail.component.Component"),u=a.createClass($N("component.Input"));s.mix(u,t,{_cssClass:{baseclass:{cls:"nui-ipt",tpl:'<div class="#{compclass}">#{hasIcon}#{hasPlaceholder}<input #{inputId}class="nui-ipt-input#{inputClass}" type="#{inputType}" #{style}#{voiceInput}#{name}#{ariaLabel}#{tabIndex}#{maxLength}>#{hasIconBtn}#{hasCapsLockTips}</div>',hasPlaceholder:{cls:"",tpl:'<label class="nui-ipt-placeholder" #{labelForId}>#{placeholder}</label>'},hasIcon:{tpl:'<span class="nui-ipt-icon">#{icon}</span>'},hasIconBtn:{tpl:'<span class="nui-ipt-iconBtn" tabindex="0" hidefocus="hidefocus">#{iconBtn}</span>'},hasCapsLockTips:{tpl:'<div role="tooltip" class="nui-simpleTips nui-tips" style="display:none;">'+r.t("大写锁定已开")+"</div>"}},subclass:{smallIpt:{cls:"nui-smallIpt"},multiLineIpt:{cls:"nui-multiLineIpt",tpl:'<div class="#{compclass}">#{hasPlaceholder}<textarea #{inputId}aria-multiline="true" class="nui-ipt-input#{inputClass}"#{style}#{name}#{tabIndex}#{maxLength}#{rows}#{cols}></textarea></div>'}}},_events:["focus","blur","iconbtnclick","enter","keyup","keydown"],_listeners:[{name:"click",handler:function(b){var c=t.getItem(this),d=a.Event.getTarget(b);c.rawConfig.iconBtn&&a.Element.inside(d,c._iconBtnEl.dom)?c.fire("iconbtnclick"):c._inputEl.dom.focus()}},{name:"focus",handler:function(){var a=this,b=a.getEl();a._placeholderEl&&a._placeholderEl.hide(),b.addClass("nui-ipt-focus")},type:"custom"},{name:"blur",handler:function(){var a=this,b=a.getEl();b.removeClass("nui-ipt-focus"),a._placeholderEl&&(""===a.getValue()?a._placeholderEl.show():a._placeholderEl.hide())},type:"custom"},{name:"destroy",handler:function(){var a=this;delete a._placeholderEl,delete a._inputEl,delete a._iconBtnEl,delete a.iconBtn,delete a.icon},type:"custom"},{name:"render",handler:function(){var b=this,c=b.getEl(),d=b.rawConfig;if(b._inputEl=c.find("input")||c.find("textarea"),b._placeholderEl=c.find(".nui-ipt-placeholder"),"password"===d.inputType){b._capsLockTips=c.find("div.nui-simpleTips"),b._inputEl.attr({autocomplete:"off"});var e=a.getClass("util.CapsLock");e&&(b._capsLock=new e({el:b._inputEl,change:function(a){b._capsLockTips.dom.style.display=a?"":"none"}}))}b._inputEl.listen("focus",function(){b.fire("focus")}),b._inputEl.listen("blur",function(){b.fire("blur")}),b._inputEl.listen("keyup",function(a){b.fire("keyup",a),13===a.keyCode&&b.fire("enter")}),b._inputEl.listen("keydown",function(a){b.fire("keydown",a)}),d.icon&&(b.icon=b.find("icon")[0]),d.iconBtn&&(b.iconBtn=d.icon?b.find("icon")[1]:b.find("icon")[0],b._iconBtnEl=c.find(".nui-ipt-iconBtn")),d.value&&(b._inputEl.dom.value=d.value),d.disabled&&b.setDisabled(),d.title&&(c.dom.title=d.title),b._placeholderEl&&(""===b.getValue()?b._placeholderEl.show():b._placeholderEl.hide())},type:"custom"},{name:"destroy",handler:function(){var a=this;delete a._tipsType,a._inputEl&&a._inputEl.destroy(),a._placeholderEl&&a._placeholderEl.destroy(),a._iconBtnEl&&a._iconBtnEl.destroy()},type:"custom"}],disabledFlyMode:!0,_interactiveStyle:!0,xtype:"input"},{initialize:d,_getData:o,setValue:m,getValue:n,showTips:k,hideTips:l,getInputEl:e,showPlaceholder:g,hidePlaceholder:h,select:j,focus:i,setDisabled:f})}($,window),function(a,b){function c(a){z.superClass.initialize.apply(this,arguments),a.click&&this.listen("click",a.click)}function d(){var b=this._getChildContainer(),c=this.getEl(),d=c.find("b.nui-ico-rArr");if(d){var e=c.findFly("div.nui-tree-item-label").dom;if(d.removeClass("nui-tree-item-symbol-unfold"),d.addClass("nui-tree-item-symbol-fold"),c.addClass("nui-tree-item-isFold"),e.removeAttribute("aria-checked"),e.setAttribute("aria-haspopup","true"),e.setAttribute("aria-expanded","false"),c.removeClass("nui-tree-item-isUnfold"),this.rawConfig.items&&this.getEl().findFly("#"+this.id+"count").show(),d.destroy(),this.rawConfig.isFold)return;if(y)b.style.display="none",b.style.visibility="hidden";else{b.style.height="",b=a(b);var f=b.height();f?(b.dom.style.height=f+"px",setTimeout(function(){b.addClass("nui-tree-animation"),b.dom.style.height="0px",setTimeout(function(){b.removeClass("nui-tree-animation"),b.dom.style.visibility="hidden"},200)},15)):(b.dom.style.height="0px",b.dom.style.visibility="hidden")}}}function e(){var b=this._getChildContainer(),c=this.getEl(),d=c.find("b.nui-ico-dArr");if(d){var e=c.findFly("div.nui-tree-item-label").dom;if(d.addClass("nui-tree-item-symbol-unfold"),d.removeClass("nui-tree-item-symbol-fold"),c.removeClass("nui-tree-item-isFold"),e.removeAttribute("aria-checked"),e.setAttribute("aria-haspopup","true"),e.setAttribute("aria-expanded","true"),c.addClass("nui-tree-item-isUnfold"),this.rawConfig.items&&this.getEl().findFly("#"+this.id+"count").hide(),d.destroy(),y)b.style.display="",b.style.visibility="";else{b.style.height="",b=a(b);var f=b.height();f?(b.dom.style.height="0px",setTimeout(function(){b.addClass("nui-tree-animation"),b.height(f+"px"),setTimeout(function(){b.removeClass("nui-tree-animation"),b.dom.style.height="",b.dom.style.visibility=""},200)},15)):b.dom.style.visibility=""}}}function f(a){this.getEl().find("span.nui-tree-item-text").html(a)}function g(){return this.getEl().find("span.nui-tree-item-text").html()}function h(b){var c,d=this,e={extlinks:"",items:"",left_wrap:'<li role="treeitem" class="nui-tree-item">',right_wrap:"</li>"};if(b.split)return e.left_wrap='<li class="qW0" role="separator"></li>',e;if(b.items&&(x.each(b.items,function(a,c){if(!b.createChild&&(c.autoCreateChild=!b.createChild&&!c.isFold,!c.autoCreateChild)){c.listeners=c.listeners||{};var d=c.listeners.unfold;c.listeners.unfold=function(){var a=this;if(!a.itemsIsCreated){var b=this.rawConfig.items;x.each(b,function(b,c){a.add(c)}),a.itemsIsCreated=!0,a.updateAllCount()}d&&d.call(this)}}c.extcls&&(e.left_wrap='<li role="treeitem" class="nui-tree-item '+c.extcls+'">')}),e.items='<ul role="tree" class="nui-tree" role="tree" aria-label="'+w.t("左侧导航")+'"></ul>'),b.isRoot&&(e.left_wrap="",e.right_wrap=""),b.isRoot||"scrollGroup"in b)e.content="";else{var f="";(b.hasChild||b.items&&0!==b.items.length)&&(f+='<span class="nui-tree-item-symbol"><b class="nui-tree-item-symbol-fold nui-ico nui-ico-rArr'+(d.ownerCt.rawConfig.isNav?" fn-bg":"")+'"></b><b class="nui-tree-item-symbol-unfold nui-ico nui-ico-dArr'+(d.ownerCt.rawConfig.isNav?" fn-bg":"")+'"></b></span>');var g="";b.icons=b.icons||[];var h="";b.lockIcon&&(h='<span class="ks0">'+this._getChildHtml({xtype:"icon",type:"lock"})+"</span>"),b.icons&&b.icons.length>0&&(g='<span class="nui-tree-item-icon">'+this._batch(b.icons).join("")+"</span>");var i="";"checkValue"in b&&(i=this._getChildHtml({xtype:"checkbox",value:b.checkValue}));var j=b.count,k=b.boldCount===!1?"span":"strong";if(f+='<span class="nui-tree-item-inlineIcon">'+(b.extIcon?this._getChildHtml(b.extIcon):"")+"</span>",f+=i+h+g+'<span class="nui-tree-item-text">'+(b.noEncode?b.text:a.String.escapeHTML(b.text))+"</span>",f+="<"+k+' class="nui-tree-item-count '+(b.countExtcls?b.countExtcls:"")+'" id="'+this.id+'count" '+(b.items||!j||0==j?'style="display:none;"':"")+">"+(j&&j>0?"("+j+")":"")+"</"+k+">",f+='<span class="nui-tree-item-inlineIcon">'+(b.extIcon2?this._getChildHtml(b.extIcon2):"")+"</span>",b.extItems){for(c=0;c<b.extItems.length;c++)b.extItems[c].click&&(b.extItems[c].listeners={click:{handler:function(b){var c=A.getItem(this);c.rawConfig.click.apply(this,arguments),a.Event.cancelBubble(b)}}});f+='<span class="nui-tree-item-ext">'+this._batch(b.extItems).join("")+"</span>"}var l=b.hideArr?" uE0":"";f=this._getChildHtml({html:'<div class="nui-tree-item-label'+l+'" tabindex="0" hidefocus="hidefocus" role="treeitem" aria-checked="false">'+f+"</div>",xtype:"component",treeType:"treeitem",onRender:function(){d._treeHeader=this},listeners:{click:{handler:function(a){d.onClick(a)}},keyup:{handler:function(a){13===a.keyCode&&d.onClick()}},keydown:{handler:function(b){13===b.keyCode&&a.Event.fire(this,"mousedown"),d.onKeyUp(b)}},mouseover:{handler:function(b){var c=a(this);a.Event.isMouseover(c.dom,b)&&c.addClass("nui-tree-item-label-hover")}},mouseout:{handler:function(b){var c=a(this);a.Event.isMouseout(c.dom,b)&&(c.removeClass("nui-tree-item-label-active"),c.removeClass("nui-tree-item-label-hover"),c.removeClass("nui-tree-item-label-focus"))}},mousedown:{handler:function(){var b=a(this);b.removeClass("nui-tree-item-label-hover"),b.addClass("nui-tree-item-label-active")}},mouseup:{handler:function(){var b=a(this);b.removeClass("nui-tree-item-label-active"),b.addClass("nui-tree-item-label-hover")}},focus:{handler:function(){var b=a(this);b.focus=!0,b.addClass("nui-tree-item-label-focus")}},blur:{handler:function(){var b=a(this);b.focus=!1,b.removeClass("nui-tree-item-label-focus")}}}}),e.content=f}return e}function i(b){var c=this,d=this.rawConfig;if(d.checkValue){var e=c.find("checkbox")[0];e&&(e.setChecked(),a.Event.cancelBubble(b))}if(d.titleStyle||d.items){if(d.items){var f=c.rawConfig.isFold,g=f?"unfold":"fold";c.fire(g),c[g](),c.rawConfig.isFold=!c.rawConfig.isFold}}else c.fire("click")||this.focus()}function j(){try{var a=this.getRoot(),b=a.focusItem;b&&b.getEl()&&b.blur();var c=this.getEl().findFly("div.nui-tree-item-label")||this.getEl();c.addClass("nui-tree-item-label-selected"),c.dom.setAttribute("aria-checked","true"),a.focusItem=this}catch(d){}}function k(){try{var a=this.getEl().findFly("div.nui-tree-item-label")||this.getEl();a.removeClass("nui-tree-item-label-selected"),a.dom.setAttribute("aria-checked","false");var b=this.getRoot(),c=b.focusItem;c===this&&delete b.focusItem}catch(d){}}function l(a){if(!this.rawConfig.isRoot){this.rawConfig.count=a;var b=this.getEl().findFly("#"+this.id+"count");b&&(a&&a>0?(this.rawConfig.text===w.t("网易微博")?b.html('(<span class="nui-txt-impt">'+a+"</span>)"):b.html("("+a+")"),!this.rawConfig.isFold&&this.rawConfig.items?b.hide():b.show()):b.empty(),this.ownerCt&&this.ownerCt!==this.getRoot()&&this.ownerCt.updateAllCount())}}function m(){var a=this;a===a.getRoot()?z.superClass.onRender.call(a):setTimeout(function(){try{z.superClass.onRender.call(a)}catch(b){}},50)}function n(){var a=this;z.superClass.hide.call(a),a.ownerCt&&a.ownerCt.updateAllCount()}function o(){var a=this.find("tree",!0);if(a){for(var c=0,d=0;d<a.length;d++){var e=a[d];if(b.$I&&e.rawConfig.data&&"none"!==e.getDom().style.display){var f=e.rawConfig.data;f.group&&("folder"===f.group||"cusfolder"===f.group)&&$G.common.nolistids&&x.has($G.common.nolistids,f.id)||2==f.id||(c+=((f||{}).count||0)-0)}}this.updateCount(c)}}function p(){var a=this;z.superClass.show.call(a),a.ownerCt&&a.ownerCt.updateAllCount()}function q(a){return a.xtype=a.xtype||"tree",z.superClass.add.apply(this,arguments)}function r(b){var c=this;return b.listeners||(b.listeners={}),b.listeners.mouseover||(b.listeners.mouseover={handler:function(b){var c=a(this);a.Event.isMouseover(c.dom,b)&&c.addClass("nui-tree-item-hover")}}),b.listeners.mouseout||(b.listeners.mouseout={handler:function(b){var c=a(this);a.Event.isMouseout(c.dom,b)&&c.removeClass("nui-tree-item-hover")}}),c.addArrow(),z.superClass._addChild.apply(this,arguments)}function s(){var a=this.find("checkbox"),b=[];if(a)for(var c=0;c<a.length;c++)a[c].getChecked()&&b.push(a[c].value);return b}function t(){var a=this,b=a._treeHeader;if(b&&!b._hasArrow){var c=b.getEl();if(!c)return;var d=c.find("span.nui-tree-item-symbol");if(!d){var e='<span class="nui-tree-item-symbol"><b class="nui-tree-item-symbol-fold nui-ico nui-ico-rArr'+(a.ownerCt.rawConfig.isNav?" fn-bg":"")+'"></b><b class="nui-tree-item-symbol-unfold nui-ico nui-ico-dArr'+(a.ownerCt.rawConfig.isNav?" fn-bg":"")+'"></b></span>';c.prepend(e),b._hasArrow=!0}}}function u(){var b=this,c=b.getRoot(),d=c.find("tree");if(d.length<=0)return null;var e={curItem:d[0],prevItem:d[0],nextItem:d[0]},f=[];a.Array.each(d,function(b,c){if(!c.hidden&&c.ownerCt&&c.ownerCt._getChildContainer){var d=c.ownerCt._getChildContainer();if(d){var e=a(d);"none"!=e.css("display")&&"hidden"!=e.css("visibility")&&f.push(c)}}});for(var g=0,h=f.length;h>g;g++)if(f[g]==b){e.curItem=f[g],e.prevItem=0!==g?f[g-1]:f[h-1],e.nextItem=g!==h-1?f[g+1]:f[0];break}return e}function v(b){var c=this;c.rawConfig;var d=b.keyCode;if(38===d||40===d){a.Event.stop();var e=c.getFocusItem();if(c.getRoot().curFocusItem=e.curItem,e)switch(b.keyCode){case 38:try{e.prevItem.find("$treeType$treeitem")[0].getDom().focus(),c.getRoot().curFocusItem=e.prevItem}catch(f){}break;case 40:try{e.nextItem.find("$treeType$treeitem")[0].getDom().focus(),c.getRoot().curFocusItem=e.nextItem}catch(f){}}}}var w=new $I18N("component.Tree"),x=a.Array,y=a.Browser.isIE("<9"),z=a.createClass($N("component.Tree")),A=a.getClass("netease.mail.component.Component");a.Object.mix(z,A,{_template:"#{left_wrap}#{content}#{items}#{right_wrap}",xtype:"tree",_listeners:[{name:"render",handler:function(){var a=this,b=a.rawConfig;if(b.items&&(b.isFold?a.fold():a.unfold()),b.context)try{a.getEl().listen("contextmenu",function(){try{var a=$L("util.Contextmenu",this)}catch(c){return c}a.show({groups:[{items:b.context}],width:120})})}catch(c){}if(b.handleContextMenu)try{a.getEl().listen("contextmenu",function(){try{var a=$L("util.Contextmenu",this)}catch(c){return c}var d=b.handleContextMenu(b);d&&a.show({groups:[{items:d}],width:120})})}catch(c){}b.hidden&&a.hide(),b.title&&("label"===b.titleScale?a.getEl().find("div.nui-tree-item-label").dom.title=b.title:a.getEl().find("span.nui-tree-item-text").dom.title=b.title)},type:"custom"},{name:"afterRender",handler:function(){},type:"custom"}],_events:["fold","unfold","click"]},{_getChildContainer:function(){var b=this.getEl().dom.lastChild||this.getDom();return a.fly(b).dom},onClick:i,focus:j,blur:k,getFocusItem:u,curFocusItem:null,onKeyUp:v,initialize:c,updateCount:l,onRender:m,show:p,hide:n,updateAllCount:o,add:q,_addChild:r,getCheckedValue:s,_getData:h,fold:d,unfold:e,addArrow:t,setText:f,getText:g})}($,window),function(a){function b(a){var b=this;g.superClass.initialize.call(b,a),a.click&&b.listen("click",a.click)}function c(){var a=this,b=a.rawConfig,c=a.getComponentClass(a._getData(b)),d=[],d=['<b id="',a.domId,'" class="js-component-icon ',b.extcls?b.extcls+" ":"",c.compclass,'"',c.title,b.hidden?'style="display:none"':"",">",c.text];b.sub&&(d=d.contact(['<b class="nui-ico-sub nui-ico-sub-',b.sub,'"></b>'])),d.push("</b>");var e=d.join("");return d.length=0,e}function d(a){var b={params:[]},c=a.subtype?a.subtype:"",d=a.size,e="",f=a.title,g=a.sub,h=a.url;d&&-1!=="XS|S|M|L|XL".indexOf(d.toUpperCase())&&(b.params.push("size"+d.toUpperCase()),b.subtype=c,b.extype=d.toLowerCase()),b.title=f?' title="'+f+'"':null,b.text=h?'<img src="'+a.url+'" alt="'+(a.title||"")+'"/>':e,b.role=a.role?' rolw="'+a.role+'"':null,g&&(b.params.push("hasSub"),b.sub=g);var i="";return a.width&&(i+="width:"+a.width+";"),a.height&&(i+="height:"+a.height+";"),b.style='style="'+i+'"',b}var e=a.Object,f=a.getClass("netease.mail.component.Component"),g=a.createClass($N("component.Icon"));e.mix(g,f,{_cssClass:{baseclass:{cls:"nui-ico",tpl:'<b class="#{compclass}"#{title} #{style} #{role}>#{text}#{hasSub}</b>',hasSub:{tpl:'<b class="nui-ico-sub nui-ico-sub-#{sub}" #{style}></b>'}}},_events:["click"],_listeners:[{name:"render",handler:function(){var a=this,b=a.rawConfig,c=a.getEl();(b.listeners||b.click)&&c.listen("click",function(){a.fire("click")})},type:"custom"}],xtype:"icon"},{initialize:b,html:c,_getData:d})}($,window),function(a){function b(a){var b=this;m.superClass.initialize.call(b,a),a.checkedchange&&b.listen("checkedchange",a.checkedchange)}function c(a){var b=this;b.getEl().dom.title=a}function d(b){a.Array.each(b,function(c,d){k.isArray(d)?a.Array(d,function(a,b){b.ownerGroup={items:d}}):d.ownerGroup={items:b}})}function e(a){var b=this,c={params:[],name:a.name,value:a.value};return c.radio=b._getChildHtml({xtype:"icon",type:"radio",subtype:a.checked?"checked":""}),a.text&&c.params.push("hasText"),a.name&&(c.name=' data-name="'+a.name+'"'),a.tips&&(c.tips="&nbsp;"+b._getChildHtml({xtype:"label",type:a.tipsType||"aside",text:a.tips})),b.name=a.name,b.value=a.value,c}function f(){var a,b=this,c=b.rawConfig;return"btn"===c.subclass?(b.name=c.name,b.value=c.value,a='<div role="radio" id="'+b.domId+'" class="js-component-radio nui-smallBtn nui-btn '+(c.checked?"nui-btn-active":"")+'"><span class="nui-btn-text">'+c.text+"</span></div>"):a=m.superClass.html.call(b),a}function g(a){var b=this,c=b.rawConfig,d=b.getEl();try{if("btn"===c.subclass)d[a?"addClass":"removeClass"]("nui-btn-active");else{var e=d.findFly("B");e[a?"addClass":"removeClass"]("nui-ico-radio-checked")}d.dom.setAttribute("aria-checked",a?"true":"false")}catch(f){}}function h(){return this.checked}function i(b,c){var d=this,e=d.ownerGroup,f=(e||{}).items||[],g=e.curCheckedItem||d,h=!0;b&&a.Array.each(f,function(a,b){b.setChecked(!1,!0),b.ownerGroup.value=d.value,b.ownerGroup.curCheckedItem=d}),d.checked=b,c||(h=d.fire("checkedchange",d.value)),d.name&&(m.names[d.name]=d.value),d.setSymbol(d.checked),h===!1&&g.setChecked(!0,!0)}function j(){return this.rawConfig.value}var k=a.Object,l=a.getClass("netease.mail.component.Component"),m=a.createClass($N("component.Radio"));k.mix(m,l,{_cssClass:{baseclass:{cls:"nui-chk",tpl:'<span role="radio" tabindex="0" class="#{compclass}"#{name}><span class="nui-chk-symbol">#{radio}</span>#{hasText}#{tips}</span>',hasText:{tpl:'<span class="nui-chk-text">#{text}</span>'}}},_listeners:[{name:"render",handler:function(){var a=this,b=a.rawConfig;b.checked&&a.setChecked(!0,!0),b.title&&a.setTitle(b.title),a.getDom().setAttribute("aria-checked",b.checked?"true":"false")},type:"custom"},{name:"click",handler:function(){var a=this,b=a.ownerGroup;b.curCheckedItem===a?a.setChecked(!0,!0):a.setChecked(!0)},type:"custom"},{name:"click",handler:function(){l.getItem(this).fire("click")}},{name:"keyup",handler:function(a){var b=l.getItem(this);(13===a.keyCode||32===a.keyCode)&&b.fire("click")}},{name:"destroy",handler:function(){var a=this;a.ownerGroup=null,delete a.ownerGroup},type:"custom"}],_events:["checkedchange"],xtype:"radio",group:d,disabledFlyMode:!0,names:{}},{initialize:b,_getData:e,html:f,getChecked:h,setChecked:i,setSymbol:g,getValue:j,setTitle:c,name:"",value:"",ownerGroup:{items:[]}})}($,window),function(a,b,c){function d(b){var c=this,d=r.msgbox;r.superClass.initialize.call(c,b),b.close&&c.listen("close",b.close),b.ok&&c.listen("ok",b.ok),b.cancel&&c.listen("cancel",b.cancel),c.escKeyClose=function(a){("27"===a.keyCode.toString()||"Escape"===a.code)&&c.close()},d&&(d.isParentBox?(c._parentMsgbox=d,c._parentMsgbox.getEl().css({zIndex:997})):d.destroy()),c.isParentBox=b.isParentBox,r.msgbox=c,c.hidden||c.render(document.body),a.Event.listen(document,"keyup",c.escKeyClose)}function e(){var b=this,c=b.rawConfig;b.autoFocus&&setTimeout(function(){try{"prompt"===c.type?b.input.focus():b.buttons&&b.buttons.ok&&b.buttons.ok.focus()}catch(a){}},0),"6.0"===a.Browser.ie()&&a.fly("body").addClass("nui-fHideSelect"),r.superClass.show.call(b)}function f(){var b=this,c=a.getClass("netease.mail.util.AnimationEvent"),d=b.getParamClass("hiding"),e=b.getEl(),f=b._mask&&b._mask.getEl();c.support&&(e.addClass(d),f&&f.addClass(d)),c.bind({el:e,type:"animationend",filter:function(a,b){return b.hasClass(d)},unsupport:function(){f&&f.hide(),b.destroy()},support:function(){"6.0"===a.Browser.ie()&&a.fly("body").removeClass("nui-fHideSelect"),e.removeClass(d),e.hide(),setTimeout(function(){b.destroy()},15)}})}function g(){var a=this;a._parentMsgbox?(a._parentMsgbox.getEl().css({zIndex:999}),r.msgbox=a._parentMsgbox,a.isParentBox=!1,delete a._parentMsgbox):r.msgbox=null}function h(b){var d,e=this,f={params:[],footer:"",buttons:"",style:""},g=[],h="";switch(b.noHeader||f.params.push("_hasHeader"),e.autoFocus=b.autoFocus===!1?!1:!0,b.width&&(f.style+="width:"+b.width+";"),b.height&&(f.style+="height:"+b.height+";"),f.close=e._getChildHtml({xtype:"link",extcls:"nui-msgbox-close nui-close",text:m.html({type:"close",subtype:"dark"})}),b.footer&&(f.footer=p.isString(b.footer)?b.footer:e._getChildHtml(b.footer)),h+='<div class="nui-msgbox-bd">',f.title=b.title?'<div class="nui-msgbox-title" tabindex="0">'+b.title+"</div>":"",f.text=b.content||"",f.header=b.header||"","prompt"!==b.type||b.contentType||(b.contentType="normal"),b.contentType){case"simpleText":h+='<div class="nui-msgbox-simpleText #{extcls}">#{title}#{text}</div>';break;case"wide":h+='<div class="nui-msgbox-wide #{extcls}">#{title}#{text}</div>';break;case"normal":h+='<div class="nui-msgbox-normal #{extcls}">#{title}#{text}</div>';break;case"custom":h+="#{text}";break;default:b.content||(f.onlyTitle=" nui-msgbox-iconText-text-onlyTitle"),h+='<div class="nui-msgbox-iconText #{extcls}"><span class="nui-msgbox-iconText-icon">#{icon}</span><div class="nui-msgbox-iconText-text#{onlyTitle}">#{title}#{text}</div></div>';
var i={xtype:"icon"},j="info";p.isObject(b.icon)?p.extend(i,b.icon):(i.type=b.icon||j,i.size="l"),f.icon=e._getChildHtml(i)}if("prompt"===b.type&&(f.text+='<div class="nui-simpleForm nui-form"><table><tbody><tr>#{inputLabel}<td class="nui-form-cont">#{input}</td></tr></tbody></table></div>',f.input=e._getChildHtml({xtype:"input",placeholder:b.inputPlaceholder,value:b.inputValue,width:b.inputWidth,inputType:b.inputType}),b.inputLabel&&(f.inputLabel='<th class="nui-form-title">'+b.inputLabel+"</th>")),h+="</div>",!b.noFooter){f.params.push("_hasFooter"),"prompt"===b.type?(d={name:"ok",subclass:"mainBtn",text:b.okText||o.t("确 定"),click:function(){var a,d="",f=e.input;if("prompt"===b.type?(d=f.getValue(),a=e.fire("ok",d,function(a){f.showTips(a)})):a=e.fire("ok"),e===r.msgbox)if(a===c||a===!1)e.hide();else if("prompt"===b.type&&p.isString(a)){f.showTips(a);try{f.focus()}catch(g){}}}},g.push(d)):(d={name:"ok",subclass:"mainBtn",text:b.okText||o.t("确 定"),click:function(){var a=e.fire("ok");e===r.msgbox&&(a===c||a===!1)&&e.hide()}},g.push(d)),(b.cancel||b.cancelText||"confirm"===b.type||"prompt"===b.type)&&(d={name:"cancel",text:b.cancelText||o.t("取 消"),click:function(){var a=e.fire("cancel");(a===c||a===!1)&&e.hide()}},g.push(d)),b.otherButtons&&(g=g.concat(b.otherButtons)),b.buttons&&(g=b.buttons,e.autoFocus=!1);for(var k=0,l=g.length;l>k;k++)g[k].xtype="button";f.buttons=e._batch(g||[],"html").join(""),f.buttons='<div class="nui-msgbox-ft-btns">'+f.buttons+"</div>"}return f.content=a.Template.exec(h,{data:f}),f}function i(){var a=this.rawConfig,b={};switch(a.type){case"confirm":b=this.getEl().findFly(".nui-msgbox-iconText-text");break;case"prompt":b=this.getEl().findFly(".nui-msgbox-normal");break;default:b=this.getEl().findFly(".nui-msgbox-bd")}return b&&b.dom}function j(a){return new this(a)}function k(){var b=this,c=b.fire("close");c||(a.Event.unlisten(document,"keyup",b.escKeyClose),b.hide())}function l(){var a=this,b=a.rawConfig,c=a.getEl(),d=c.dom.offsetWidth,e=c.dom.offsetHeight,f=document,g=f.documentElement,h=g.scrollWidth,i=g.scrollTop,j=g.offsetHeight,k=(j-e)/2+i,l=(h-d)/2;k=Math.max(k,0),l=Math.max(l,0),c.dom.style.top=b.top?b.top:k+"px",c.dom.style.left=b.left?b.left:l+"px"}try{var m=$L("component.Icon")}catch(n){return n}var o=new $I18N("component.Msgbox"),p=a.Object,q=a.getClass("netease.mail.component.Component"),r=a.createClass($N("component.Msgbox"));p.mix(r,q,{_cssClass:{baseclass:{cls:"nui-msgbox",tpl:'<div tabindex="0" role="alert" class="#{compclass}" style="display:none;#{style}">#{_hasHeader}#{close}#{content}#{_hasFooter}</div>',_hasHeader:{cls:"",tpl:'<div class="nui-msgbox-hd">#{header}</div>'},_hasFooter:{cls:"",tpl:'<div class="nui-msgbox-ft"><div class="nui-msgbox-ft-text">#{footer}</div>#{buttons}</div>'}}},_events:["close","ok","cancel"],_listeners:[{name:"render",handler:function(){var b=this,c=b.getEl(),d=b.rawConfig;if(!d.noHeader){var e=a.getClass("netease.mail.util.DragDrop");new e({drag:c.dom,trigger:c.findFly(".nui-msgbox-hd").dom})}if(c.findFly(".nui-msgbox-close").listen("click",function(c){a.Event.stop(c),b.close(),d.closeClick&&d.closeClick()}),d.mask!==!1){var f='<div class="nui-mask"></div>';b._mask=b.add({html:f,renderTo:c.dom.parentNode})}"prompt"===d.type&&(b.input=b.find("input")[0],b.input.listen("enter",function(){b.buttons.ok.fire("click")})),d.noFooter||(b.buttons={},b.buttons.ok=(b.find("$name$ok")||[])[0],b.buttons.cancel=(b.find("$name$cancel")||[])[0],b.footer=c.find(".nui-msgbox-ft-text")),b.title=c.find(".nui-msgbox-title"),b.content=b._getChildContainer(),b.show()},type:"custom"},{name:"afterRender",handler:function(){var a=this;a.setPosition(),a.getEl().dom.style.zoom=1},type:"custom"},{name:"destroy",handler:function(){var a=this;delete a.buttons.ok,delete a.buttons.cancel,delete a.buttons,delete a.input,delete a._mask,a.footer&&a.footer.destroy(),a.title&&a.title.destroy(),a.showPre()},type:"custom"},{name:"keyup",handler:function(a){var b=q.getItem(this);27===a.keyCode&&b.close()}}],show:j,xtype:"msgbox"},{initialize:d,_getData:h,_getChildContainer:i,setPosition:l,close:k,show:e,hide:f,showPre:g,buttons:null,msgbox:null,autoFocus:!0})}($,window),function(a,b){function c(a){var b=this;b.currentSubMenu=null,b.checkItems=[],"undefined"!=typeof a.autoFocus&&(b.autoFocus=a.autoFocus),b.hidden=!0,b.showing=!1,v.menus.push(b),v.superClass.initialize.call(b,a)}function d(b){if(v.menus&&v.menus.length>0){try{var c=a.Event.getTarget(b)}catch(d){}a.Array.each(v.menus,function(b,d){if(d.rawConfig&&!d.rawConfig.doNotHide&&d.showing){var e=d.relatedObj;if(e&&c){var f=e&&a.Element.inside(c,e);if(f){var g=d.getDom();d.hidden=g&&"none"!==g.style.display}}d.hide()}})}}function e(){var a=this,b=a.rawConfig;b.simpleItem||"scroll"===b.type&&setTimeout(function(){if(a._selectedItem)try{var b=a.getEl().dom;b.scrollTop=a._selectedItem.getEl().dom.offsetTop}catch(c){}},0)}function f(a){var b=this,c=b.rawConfig,d=b.getEl();if(!c.simpleItem&&(w&&!c.width&&!b._resizeForIE||a)){var e,f,g,h=d.find(".nui-menu-item-text"),i=d.find(".nui-menu-item-ext"),j=0,k=0;if(h&&h.doms){e=h.doms;for(var l=0,m=e.length;m>l;l++)f=e[l],g=Math.max(f.offsetWidth,f.clientWidth)||120,j=Math.max(g,j)}if(i&&i.doms){e=h.doms;for(var l=0,m=e.length;m>l;l++)f=e[l],g=Math.max(f.offsetWidth,f.clientWidth),k=Math.max(g,j)}d.dom.style.width=j+k+120+"px",b._resizeForIE=!0}}function g(a){var b=this;b.showing=!1,b.hidden=!1,b._resizeForIE=!1,b.currentSubMenu=null,v.superClass.update.call(b,a)}function h(b){var c=this;c.hidden=!1,c.showing||(c.getEl().show(),c.autoFocus&&c.focus(),c.items&&a.Array.each(c.items,function(a,b){b.getEl().removeClass("nui-menu-item-hover"),b.focus=!1}),c.getEl().dom.style.visibility="visible",b&&b.left&&(c.getEl().dom.style.left=b.left),b&&b.top&&(c.getEl().dom.style.top=b.top),c.resizeForIE(),c.scrollToSelectedItem(),c.fire("show"),c.showing=!0)}function i(b){function c(){var b=a(d.rawConfig.clickFrom);b&&b.dom&&b.dom.setAttribute("aria-expanded","false"),d.showing=!1,d.hidden=!0,v.superClass.hide.call(d),b=d.getEl(),b&&(b.dom.style.visibility="hidden"),d.fire("hide")}var d=this;if(d.hidden=!0,!(!d.showing||d.rawConfig&&d.rawConfig.doNotHide)){if(b)return c(),void 0;var e=d.getEl();if(e){var f=d.getParamClass("hiding");u.support&&e.addClass(f),u.bind({el:e,type:"animationend",filter:function(a,b){return b.hasClass(f)},unsupport:function(){c()},support:function(){e.removeClass(f),c()}})}}}function j(b){a.Event.cancelBubble();var c=this.getFocusItem();if(c)switch(b.keyCode){case 38:c.curItem.setFocus(!1),c.prevItem.setFocus();break;case 40:c.curItem.setFocus(!1),c.nextItem.setFocus();break;case 37:this.ownerCt&&(this.hide(),this.ownerCt.getEl().dom.focus())}}function k(){var a=this;setTimeout(function(){try{a.getEl().dom.focus()}catch(b){}},0)}function l(){var a=this;try{a.getEl().dom.blur()}catch(b){}}function m(){var a=this.items;if(a.length<=0)return null;for(var b={curItem:a[0],prevItem:a[0],nextItem:a[0]},c=0,d=a.length;d>c&&(!a[c].focus||(b.curItem=a[c],b.prevItem=0!==c?a[c-1]:a[d-1],b.nextItem=c!==d-1?a[c+1]:a[0],!a[c].focus));c++);return b}function n(a){var b=this;a.xtype||(a.xtype="menuitem");var c=v.superClass.add.call(b,a);return b.items.push(c),b.checkType&&a.checked&&c.setChecked(!0),c}function o(a){var b=this,c=0,d='<div role="separator" class="nui-menu-split nui-split"></div>',e=[],f={params:[]};if(a.getGroups&&(a.groups=b.rawConfig.groups=a.getGroups()),a.reverse&&f.params.push("hasRevSubMenu"),a.groups)for(var g=0,h=a.groups.length;h>g;g++){var i,j=a.groups[g],k=[],l="";if(j.items){for(var m=0,n=j.items.length;n>m;m++){var o=j.items[m];i=o.splitExtCls,"split"===o.type?k.push(i?'<div role="separator" class="nui-menu-split nui-split '+i+'"></div>':d):a.simpleItem||o.simpleItem?k.push(['<a role="menuitem" href="javascript:void(0);" class="nui-menu-item-link" data-index="',m,'" data-value="',o.value||"",'"><span class="nui-menu-item-icon" style="display:none;"><b class="nui-ico nui-ico-radio nui-ico-radio-checked"></b></span>',o.text,"</a>"].join("")):(o.xtype=o.xtype||"menuitem",j.checkType&&(o.checkType=j.checkType,o.ownerGrp=j),"before"===o.split&&k.push(i?'<div role="separator" class="nui-menu-split nui-split '+i+'"></div>':d),"before"===o.gap&&k.push('<div role="separator" class="nui-menu-gap"></div>'),k.push(b._getChildHtml(o)),o.split&&"before"!==o.split&&k.push(i?'<div role="separator" class="nui-menu-split nui-split '+i+'"></div>':d),o.gap&&"before"!==o.gap&&k.push('<div role="separator" class="nui-menu-gap"></div>'))}c+=j.items.length}else j.content&&(j.type="ext",k.push(j.content));if("scroll"===j.type&&j.items.length>10&&(j.height="270px"),j.height&&(l="height:"+j.height+";"),j.style&&(l+=j.style),j.type){var p="scroll"===j.type?"nui-scroll":"";p=" "+p,e.push(['<div class="nui-menu-',j.type,p,'" ','style="'+l+'"'," >",k.join(""),"</div>"].join(""))}else e.push(k.join(""))}return"scroll"===a.type&&c>10&&(a.height=a.height||"270px",a.extcls=(a.extcls?a.extcls:"")+" nui-scroll"),f.text=e.join(d),f}function p(c){function d(){v.showingItem&&v.showingItem!==g&&v.showingItem.hide();var a=h.className||"";a&&/nui-[^\s]*?disabled/.test(a)||(v.showingItem=g,e(),g.showMenuTimer&&clearTimeout(g.showMenuTimer))}function e(){g._renderInfo_={renderTo:m,floatTo:j,reverse:k,verReverse:l},setTimeout(function(){g.hidden?(g.rendered?(g.show(),g.setPosition()):(m=f(),g.rawConfig.renderTo=m,g._renderInfo_.renderTo=m,g.render(m),g.setPosition()),h.setAttribute("aria-expanded","true")):(g.hide(),h.setAttribute("aria-expanded","false"))},0)}function f(){var a=c.renderTo;return a=a&&a.dom||a||t.getScrollParent(h)||document.body}var g=this,h=c.clickFrom,i=g.rawConfig,j=c.floatTo||c.clickFrom,k=c.reverse||i.reverse||!1,l=c.verticalReverse||i.verticalReverse||!1,m=document.body;if(i.clickFrom=h,h instanceof a.Element&&(h=h.dom),j instanceof a.Element&&(j=j.dom),c.delegateTo&&"self"!==c.delegateTo){var n=c.delegateTo||document;a.Event.listen(n,"click",function(b){var c=a.Event.getTarget(b);a.Element.inside(c,h)&&d()})}else a.Event.listen(h,"click",function(){d()});c.mouseover&&(a.Event.listen(h,"mouseover",function(){g.showMenuTimer=b.setTimeout(function(){v.showingItem&&v.showingItem!==g&&v.showingItem.hide(),v.showingItem=g,e()},150)}),a.Event.listen(h,"mouseout",function(){g.showMenuTimer&&clearTimeout(g.showMenuTimer)})),a.Event.listen(h,"keyup",function(a){13===a.keyCode?e():27===a.keyCode&&h.focus()}),g.listen("attachToShow",d),g.relatedObj=h}function q(){var a=this,b=a.getEl(),c=a._renderInfo_.renderTo,d=a._renderInfo_.floatTo,e=a._renderInfo_.verReverse,f=a._renderInfo_.reverse,g=b.dom,h=c===document.body?c.offsetWidth:c.scrollWidth,i=c===document.body?c.offsetHeight:c.scrollHeight,j=g.offsetHeight,k=g.offsetWidth,l=d,m=l,n=0,o=l.offsetHeight;do o+=m.offsetTop||0,n+=m.offsetLeft||0,m=m.offsetParent;while(m&&m!==c&&m!==c.offsetParent);(f||n+k>h)&&(n-=k-l.offsetWidth),(e||o+j>i&&o>j)&&(o-=j+l.offsetHeight),0>n&&(n=0);var p=a.rawConfig.extOffset||{};n+=p.left||0,o+=p.top||0,g.style.left=n+"px",g.style.top=o+"px"}function r(){var b=this,c=b.ownerCt,d=b.rawConfig;this.getEl().listen("mouseout",function(){b.hiddenTimer&&(clearTimeout(b.hiddenTimer),delete b.hiddenTimer);var c=a.Event.getTarget();c&&(b.hiddenTimer=setTimeout(function(){b.hide()},d.hiddenTime||v.setHiddenTime))}),this.getEl().listen("mouseover",function(){b.hiddenTimer&&(clearTimeout(b.hiddenTimer),delete b.hiddenTimer)}),c&&(c.getEl().listen("mouseout",function(){b.hiddenTimer&&(clearTimeout(b.hiddenTimer),delete b.hiddenTimer),b.hiddenTimer=setTimeout(function(){b.hide()},d.hiddenTime||v.setHiddenTime),b.isMouseover=!1}),c.getEl().listen("mouseover",function(){b.hiddenTimer&&(clearTimeout(b.hiddenTimer),delete b.hiddenTimer),b.isMouseover=!0}))}var s=a.Object,t=a.getClass("netease.mail.component.Component");a.getClass("netease.mail.util.AnimationElement");var u=a.getClass("netease.mail.util.AnimationEvent"),v=a.createClass($N("component.Menu")),w=a.Browser.ie()-0<8;a.fly(document).listen("click",function(a){v.hideAllMenu(a)}),s.mix(v,t,{_cssClass:{baseclass:{cls:"nui-menu",tpl:'<div role="menu" tabindex="0" class="#{compclass}" style="display:none" hidefocus="hidefocus">#{text}</div>'}},_events:["show","hide","checkedchange"],_listeners:[{name:"render",handler:function(){var a=this,b=a.rawConfig,c=a.getEl(),d=c.dom;b.width&&(d.style.width=b.width),b.left&&(d.style.left=b.left),b.top&&(d.style.top=b.top),b.height&&(d.style.height=b.height),b.right&&(d.style.right=b.right),a.items=a.find("menuitem",!0)||[],!b.hidden&&a.hidden&&a.show(),b.hiddenOnMouseOut&&a.setHiddenOnMouseOut(),a.resizeForIE()},type:"custom"},{name:"keyup",handler:function(b){var c=t.getItem(this);if(27===b.keyCode){if(c.hide(),c.relatedObj){var d=a.Component.getItem(c.relatedObj);d&&d._inputEl?d._inputEl.focus():c.relatedObj.focus&&c.relatedObj.focus()}return a.Event.cancelBubble(),void 0}c.onKeyUp(b)}},{name:"click",handler:function(b){v.hideAllMenu(b),a.Event.cancelBubble()}},{name:"destroy",handler:function(){var b=this;a.Array.each(v.menus,function(c,d){return d===b?(v.menus.splice(c,1),a.BREAK):void 0}),b.currentSubMenu=null},type:"custom"}],hideAllMenu:d,menus:[],autoCreateChild:!1,xtype:"menu"},{hidden:!0,showing:!1,currentSubMenu:null,items:null,autoFocus:!0,checkItems:[],add:n,attachTo:p,getFocusItem:m,focus:k,blur:l,_getData:o,initialize:c,onKeyUp:j,show:h,hide:i,resizeForIE:f,setHiddenOnMouseOut:r,update:g,scrollToSelectedItem:e,setPosition:q,_listened:!1})}($,window),function(a,b){function c(a){try{}catch(b){return b}var c=this;if(!m){try{var d=$L("support.AddressSupport",this)}catch(e){return e}m=d}o.superClass.initialize.call(c,a),a.click&&c.listen("click",a.click)}function d(){return this.value}function e(b){var c=this;if(!l.compare(c.value,b)){var d=c.getEl(),e=d.find(".nui-addr-name"),f=d.find(".nui-addr-email");e.html(a.String.encodeHTML(b.name)),b.name?f.html("&lt;"+b.address+"&gt;"):f.html(b.address),c.value=b}}function f(b){var c=this,d=c.rawConfig,e=c.getEl().dom,f=b?0:c.timeout;clearTimeout(c.timer),c.timer=setTimeout(function(){try{var b=c.layer&&c.layer.getEl();(!c.layer||b&&"none"===b.dom.style.display)&&c.fire("subAction","show")}catch(f){}c.layer?c.layer.show():c.layer=new j({subclass:"userLayer",params:"arrUp",arrLeft:"130px",vip:d.vip,yixin:d.yixin,mobile:d.mobile,value:c.value,renderTo:n.getScrollParent(e)||document.body,pointTo:e,listeners:{clickLayer:function(a){c.fire("subAction",a)},mouseover:{handler:function(b){a.Event.isMouseover(this,b)&&c.showLayer(!0)}},mouseout:{handler:function(b){a.Event.isMouseout(this,b)&&c.hideLayer()}}}})},f)}function g(a){var b=this,c=a?0:b.timeout;clearTimeout(b.timer),b.layer&&(b.timer=setTimeout(function(){b.layer.hide()},c))}function h(b){var c=this,d={params:[],name:b.name,address:a.String.escapeHTML(b.address)},e=b.email;e={address:e.address,defaultName:e.defaultName,domain:e.domain,name:e.name};var f="2"==a.Ud.get({field:"ntes_option",flag:"sendershow"});if(f||!e.name){var g=m.getName(e);g&&(e.defaultName=e.name=g)}if(b.icon&&(d.icon=c._getChildHtml({xtype:"icon",type:b.icon.type||b.icon,subtype:b.icon.subtype||""}),d.params.push("hasIcon")),e){c.value=e,c.value.name=a.String.encodeHTML(e.name||e.defaultName||""),c.value.address=a.String.encodeHTML(e.address||e.address||""),d.name=c.value.name;var h=e.address;d.address=h,m.getAddrObj(h)||q||(d.params.push("hasAdd"),d.add=a.Link.html({extcls:"nui-addr-add",text:"+",click:function(){try{c.fire("subAction","addContactFromIcon")}catch(a){}p.cache({rkey:"emailitem_add_address"}),m.contactDialog({type:"add",addr:{name:e.name,email:e.address},callback:function(a){e.name=a.name,e.address=a.address,c.update(b),c.value=e}})}})),h&&($S("isCorp")||(b.vip=k.checkVip(h),b.mobile=k.checkMobile(h)))}return d.name&&(d.name=a.String.trim(d.name),d.address="&lt;"+d.address+"&gt;"),b.tabIndex&&(d.tabIndex=' tabindex="'+b.tabIndex+'"'),d}try{$L("component.Menu")}catch(i){return i}try{var j=$L("component.Layer")}catch(i){return i}try{var k=$L("util.Email")}catch(i){return i}var l=a.Object;a.Listener;var m,n=a.getClass("netease.mail.component.Component"),o=a.createClass($N("component.Addr")),p=a.Log||b.Log,q=a.Browser.ie()<9;l.mix(o,n,{_cssClass:{baseclass:{cls:"nui-addr",tpl:'<div class="#{compclass}"#{tabIndex}>#{hasIcon}<span class="nui-addr-name">#{name}</span><span class="nui-addr-email">#{address} </span>#{add}</div>',hasIcon:{tpl:'<span class="nui-addr-icon">#{icon}</span>'},_hasDropdown:{cls:"",tpl:'<b class="nui-ico nui-ico-dArr"></b>'}}},_events:["click"],_listeners:[{name:"render",handler:function(){var b=this,c=b.getEl();if(a.Ext.avatar_show)try{try{var d=$L("init.Avatar",this)}catch(e){return e}d.get(b.value.address,32,$S("orgUid")!==b.value.address,function(a,b){if(!b){var d;o._avatarSpanNode?d=o._avatarSpanNode.cloneNode(!1):(d=document.createElement("SPAN"),d.className="nui-addr-avatar",o._avatarSpanNode=d),d.innerHTML='<img src="'+a+'" width="20" height="20">',c.prepend(d),c.addClass("nui-addr-hasAvatar")}})}catch(e){}},type:"custom"},{name:"click",handler:function(){var a=this,b=n.getItem(a);try{b.fire("click")}catch(c){}b.showLayer(!0)}},{name:"destroy",handler:function(){var a=this;a.layer&&(a.layer.destroy(),a.layer=null,delete a.layer)},type:"custom"},{name:"update",handler:function(){var a=this;a.layer&&(a.layer.destroy(),a.layer=null,delete a.layer)},type:"custom"},{name:"mouseover",handler:function(){var a=this,b=n.getItem(a);b.showLayer()}},{name:"mouseout",handler:function(){var a=this,b=n.getItem(a);b.hideLayer()}}],_interactiveStyle:!0,xtype:"addr"},{timeout:500,value:null,initialize:c,_getData:h,getValue:d,setValue:e,showLayer:f,hideLayer:g})}($,window),function(a){function b(a){var b=this;f.superClass.initialize.call(b,a)}function c(b){var c=this,e={params:[]};if(b.title&&(e.title=b.title,e.params.push("_hasTitle")),b.icon){var f={xtype:"icon"};d.isObject(b.icon)?a.Object.extend(f,b.icon):f.type=b.icon,e.icon=c._getChildHtml(f),e.params.push("hasIcon")}return b.content&&(e.content=b.content),(b.closeclick||b.hasClose)&&e.params.push("hasClose"),e}var d=a.Object,e=a.getClass("netease.mail.component.Component"),f=a.createClass($N("component.Block"));d.mix(f,e,{_cssClass:{baseclass:{cls:"nui-block",tpl:'<div class="#{compclass}" role="listitem" tabindex="0">#{hasClose}#{hasIcon}#{_hasTitle}#{content}</div>',hasClose:{tpl:'<span class="nui-block-close nui-close"><b class="nui-ico nui-ico-close">x</b></span>'},hasIcon:{tpl:'<span class="nui-block-icon">#{icon}</span>'},_hasTitle:{cls:"",tpl:'<div class="nui-block-title">#{title}</div>'}},subclass:{assistBlock:{cls:"nui-assistBlock"},infoBlock:{cls:"nui-infoBlock"},tipsBlock:{cls:"nui-tipsBlock nui-assistBlock"}}},_events:["closeclick"],_listeners:[{name:"afterRender",handler:function(){var a=this,b=a.getEl(),c=a.rawConfig;c.closeclick&&a.listen("closeclick",c.closeclick),b.findFly(".nui-close")&&b.findFly(".nui-close").listen("click",function(){a.fire("closeclick"),c.closeclick||a.destroy()})},type:"custom"}],xtype:"block"},{initialize:b,_getData:c})}($,window),function(a){function b(a){var b=this;k.superClass.initialize.call(b,a),a.click&&b.listen("click",a.click),a.arrclick&&b.listen("arrclick",a.arrclick)}function c(){var b,c=this,d=c.rawConfig;if(d.simple&&"miniBtn"===d.subclass){var e=d.icon;if(e){h.isObject(e)||(e={type:e});var f=a.Icon.fly(e)}c.cssClassNames={baseclass:"nui-btn"},b=['<div id="',c.domId,'" class="js-component-button nui-miniBtn nui-btn nui-btn-hasIcon nui-miniBtn-hasIcon ',d.extcls,'" title="',d.title,'" role="button" tabIndex="0"><span class="nui-btn-icon">',f,'</span><span class="nui-btn-text"></span></div>'].join("")}else b=k.superClass.html.call(c);return b}function d(){var a=this;a.menu&&a.menu.hide()}function e(a){var b=this;if(!b._arrEl){var c=b.rawConfig;"splitBtn"===c.subclass&&(b._arrEl=a.find("span.nui-splitBtn-arr"),b._textEl=a.find("span.nui-splitBtn-text"))}}function f(){this.getEl().dom.focus()}function g(b){var c=this,d={};if(d.params=[],b.icon){var e={xtype:"icon"};h.isObject(b.icon)?a.Object.extend(e,b.icon):e.type=b.icon,d.icon=c._getChildHtml(e),d.params.push("hasIcon")}return b.checkbox&&(d.text="",b.checkbox.xtype="checkbox",b.checkbox.delegateTo="self",d.checkbox=c._getChildHtml(b.checkbox),d.params.push("hasOnlyIcon")),b.title&&(d.title=' title="'+b.title+'"'),d}var h=a.Object,i=a.Event,j=a.getClass("netease.mail.component.Component"),k=a.createClass($N("component.Button"));h.mix(k,j,{_cssClass:{baseclass:{cls:"nui-btn",tpl:'<div role="button" tabindex="0" class="#{compclass}"#{title}>#{hasOnlyIcon}#{hasIcon}<span class="nui-btn-text">#{text}</span></div>',hasIcon:{tpl:'<span class="nui-btn-icon">#{icon}</span>'},hasOnlyIcon:{tpl:'<span class="nui-btn-icon">#{checkbox}</span>'}},subclass:{mainBtn:{cls:"nui-mainBtn"},dropdownBtn:{cls:"nui-dropdownBtn",tpl:'<div role="button" tabindex="0" class="#{compclass} #{extcls}"#{title}>#{hasOnlyIcon}#{hasIcon}<span class="nui-btn-text">#{text}</span><span class="nui-dropdownBtn-arr" tabindex="0"><b class="nui-ico nui-ico-dArr"></b></span></div>'},roundBtn:{cls:"nui-roundBtn"},splitBtn:{cls:"nui-splitBtn",tpl:'<div role="button" class="#{compclass}"#{title}>#{hasOnlyIcon}#{hasIcon}<span tabindex="0" class="nui-splitBtn-text">#{text}</span><span class="nui-splitBtn-split"></span><span tabindex="0" class="nui-splitBtn-arr"><b class="nui-ico nui-ico-dArr"></b></span></div>'},inputBtn:{cls:"nui-inputBtn"},inputMainBtn:{cls:"nui-inputMainBtn nui-inputBtn nui-mainBtn"},smallBtn:{cls:"nui-smallBtn"},smallMainBtn:{cls:"nui-smallMainBtn nui-smallBtn nui-mainBtn"},microBtn:{cls:"nui-microBtn"},miniBtn:{cls:"nui-miniBtn"},iconBtn:{cls:"nui-iconBtn"},greenBtn:{cls:"nui-greenBtn"},blueBtn:{cls:"nui-blueBtn"}}},_events:["arrclick","click","enter"],_listeners:[{name:"keyup",handler:function(a){var b=j.getItem(this);(13===a.keyCode||32===a.keyCode)&&(b.fire("enter"),b.fire("click"))}},{name:"render",handler:function(){var a=this,b=a.rawConfig,c=a.getEl();if(b.menu){try{var d=$L("component.Menu",this)}catch(e){return e}a.menu=new d(b.menu);var f="splitBtn"===b.subclass?c.findFly("span.nui-splitBtn-arr").dom:c.dom;a.menu.attachTo({clickFrom:f,floatTo:c,delegateTo:b.delegateTo,renderTo:b.popupRenderTo})}},type:"custom"},{name:"destroy",handler:function(){var a=this;a.menu&&(a.menu.destroy(),delete a.menu),a._arrEl&&a._arrEl.destroy(),a._textEl&&a._textEl.destroy()},type:"custom"},{name:"click",handler:function(b){var c=j.getItem(this),d=j.getConfig(this),e=i.getTarget(b);switch(d.subclass){case"splitBtn":c.getSplitPart(a(this)),e===c._arrEl.dom||e.parentNode===c._arrEl.dom?c.fire("arrclick"):c.fire("click");break;default:c.fire("click")}}}],xtype:"button"},{menu:null,_listened:!1,initialize:b,_getData:g,focus:f,hideMenu:d,getSplitPart:e,html:c})}($,window),function(a){function b(a){var b,c=this,d=a.focus,e=a.startDate;a.filterFn||(a.filterFn=function(a,b){return a.getTime()-b.getTime()>=0}),m.superClass.initialize.call(c,a),d?(d.length?(c._focusStart=d[0],c._focusEnd=d[1]):c._focusStart=d,b=c._focusStart):b=e||new Date,c._year=b.getFullYear(),c._month=b.getMonth()+1,c._cur=new Date(c._year,c._month-1),a.onselect&&c.listen("select",a.onselect)}function c(a){return this.id+"_"+a}function d(){function b(a,b){var c=a.getEl().dom,e=b.getEl().dom;b.getEl().floatTo(a.getEl().dom,c.clientHeight+(d.fixY||0),-(e.offsetWidth-c.offsetWidth)+(d.fixX||0))}var c=this,d=c.rawConfig;if(c.layer)return c.layer;var e=c._cur,f=e.getFullYear(),g=e.getMonth()+1,i=['<div role="heading" aria-atomic="true" class="nui-dateLayer-title"><span class="nui-dateLayer-prev"><b class="nui-ico nui-ico-lArr"></b></span> &nbsp; <strong id="'+c._getId("year")+'">'+f+j.t("年")+"</strong> <span",d.forbidMonth?"":' class="nui-txt-link"',' id="'+c._getId("month")+'">'+g+j.t("月")+'</span> &nbsp; <span class="nui-dateLayer-next"><b class="nui-ico nui-ico-rArr"></b></span></div>','<div class="nui-dateLayer-calendar" id="'+c._getId("table")+'"> '+c._getTable()+" </div>"].join(""),k=c.layer=new h({subclass:"dateLayer",text:i,renderTo:d.popupRenderTo||document.body,listeners:{render:function(){b(c,this)},show:function(){b(c,this)},click:{handler:function(b){var e,f=a.Event,g=a.Element,h=a(this),i=f.getTarget(b);if(g.inside(i,h.findFly(".nui-dateLayer-prev").dom))f.stop(),c.prevMonth();else if(g.inside(i,h.findFly(".nui-dateLayer-next").dom))f.stop(),c.nextMonth();else if(g.inside(i,h.findFly("#"+c._getId("month")).dom)){e=new Date(c._year,c._month-1,1);var j=!d.forbidMonth&&new Date-e>=0;j&&(c.fire("select",e,new Date(c._year,c._month-1,c._lastDay)),k.hide())}else if("b"===i.tagName.toLowerCase()){var l=i.getAttribute("data-date");if(l){var m=h.find("b.hover");e=new Date(l),c.selectedDate=e,c.fire("select",e),k.hide(),m&&m.removeClass(),a(i).addClass("hover")}}}}}});return k}function e(b){b=b||1;var c=this,d=c._cur;d=c._cur=new Date(d.getFullYear(),d.getMonth()-b);var e=c._year=d.getFullYear(),f=c._month=d.getMonth()+1;a.fly("#"+c._getId("year")).html(e+j.t("年")),a.fly("#"+c._getId("month")).html(f+j.t("月")),a.fly("#"+c._getId("table")).html(c._getTable()),new Date-c._cur>=0&&!c.rawConfig.forbidMonth?a.fly("#"+c._getId("month")).addClass("nui-txt-link"):a.fly("#"+c._getId("month")).removeClass("nui-txt-link")}function f(a){a=a||1,this.prevMonth(-a)}function g(){var a=this,b=a._cur,c=a._focusStart,d=a._focusEnd||a._focusStart,e=new Date;e=new Date(e.getFullYear(),e.getMonth(),e.getDate());var f,g,h,i,k,l=1,m=[],n='<td class="nui-dateLayer-calendar-emptyCell"><b></b></td>',o=[j.t("日"),j.t("一"),j.t("二"),j.t("三"),j.t("四"),j.t("五"),j.t("六")],p=!1,q=a.rawConfig.filterFn;for(m.push("<table>"),m.push("<tr>"),g=0,h=7;h>g;g++)m.push("<th>"+o[g]+"</th>");for(m.push("</tr>"),f=1,i=7;i>f&&!p;f++){for(m.push("<tr>"),g=0,h=7;h>g;g++){var r=new Date(b.getFullYear(),b.getMonth(),l);if(b.getMonth()!==r.getMonth()&&(p=!0,a._lastDay=l-1,0===g))break;if(0===a.selectedDate-r)m.push('<td><b class="hover" data-date="'+[r.getFullYear(),r.getMonth()+1,r.getDate()].join("/")+'">'+l+"</b></td>"),l++;else if(b.getMonth()===r.getMonth()&&r.getDay()===g){if(k=q(e,r)){var s="";c&&d&&0>=c-r&&d-r>=0?s="nui-dateLayer-calendar-focusCell":0===e-r&&(s="nui-dateLayer-calendar-todayCell"),m.push("<td "+(s?' class="'+s+'"':"")+'><b data-date="'+[r.getFullYear(),r.getMonth()+1,r.getDate()].join("/")+'">'+l+"</b></td>")}else m.push('<td class="nui-dateLayer-calendar-disabledCell"><b>'+l+"</b></td>");l++}else m.push(n)}m.push("</tr>")}return m.push("</table>"),m.join("")}try{var h=$L("component.Layer")}catch(i){return i}var j=new $I18N("component.Calendar"),k=a.Object,l=a.getClass("netease.mail.component.Component"),m=a.createClass($N("component.Calendar"));k.mix(m,l,{_template:'<div class="nui-calendar" role="application"><b class="nui-ico nui-ico-calendar"></b></div>',_events:["select"],_listeners:[{name:"click",handler:function(){var a=l.getItem(this);setTimeout(function(){a.getLayer().show()},0)}},{name:"show",handler:function(){var a=this;setTimeout(function(){a.getLayer().show()},0)},custom:!0}],xtype:"calendar"},{initialize:b,getLayer:d,prevMonth:e,nextMonth:f,_getTable:g,_getId:c,_cur:null,_year:null,_month:null,_firstDay:1,_lastDay:null,_focusStart:null,_focusEnd:null,selectedDate:null})}($,window),function(a){function b(a){var b=this;j.superClass.initialize.call(b,a),a.checkedchange&&b.listen("checkedchange",a.checkedchange)}function c(){var a,b=this,c=b.rawConfig;return a=c.simple?['<span id="',b.domId,'" role="checkbox" tabindex="0" class="nui-chk ',c.extcls,'" aria-label="',c.title,'" aria-checked="false"><span class="nui-chk-symbol"><b class="nui-ico nui-ico-checkbox"></b></span></span>'].join(""):j.superClass.html.call(b)}function d(a){var b=this;b.getEl().dom.title=a}function e(a){var b=this,c={params:[]};return"switch"===a.subclass&&(a.extcls=(a.extcls||"")+(a.checked?" nui-switch-on":" nui-switch-off"),!a.checked&&a.unCheckText&&(c.text=a.unCheckText)),a.text&&c.params.push("hasText"),c.icon=i.fly({xtype:"icon",type:"checkbox",subtype:a.checked?"checked":"",noSaveConf:!0}),a.tips&&(c.tips="&nbsp;"+b._getChildHtml({xtype:"label",type:a.tipsType||"aside",text:a.tips})),b.name=a.name,b.value=a.value,b.checked=a.checked,c}function f(){return this.checked}function g(a,b){var c=this,d=c.rawConfig,e=c.getEl(),f=c.getDom(),g=null===a||"undefined"==typeof a?!c.checked:a;if(c.checked=g,f.setAttribute("aria-checked",c.checked),"switch"===c.rawConfig.subclass)g?(e.addClass("nui-switch-on").removeClass("nui-switch-off"),d.text&&d.unCheckText&&e.findFly("span.nui-switch-text").html(d.text)):(e.addClass("nui-switch-off").removeClass("nui-switch-on"),d.unCheckText&&e.findFly("span.nui-switch-text").html(d.unCheckText));else{var h=e.findFly("B"),i=g?"addClass":"removeClass";try{h[i]("nui-ico-checkbox-checked")}catch(j){}}f.setAttribute("aria-checked",g?"true":"false"),b||c.fire("checkedchange",g)}var h=a.Object,i=a.getClass("netease.mail.component.Component"),j=a.createClass($N("component.Checkbox"));h.mix(j,i,{_cssClass:{baseclass:{cls:"nui-chk",tpl:'<span role="checkbox" tabindex="0" class="#{compclass}"><span class="nui-chk-symbol">#{icon}</span>#{hasText}#{tips}</span>',hasText:{tpl:'<span class="nui-chk-text">#{text}</span>'}},subclass:{"switch":{cls:"nui-switch",tpl:'<span role="checkbox" tabindex="0" class="#{compclass}"><span class="nui-switch-text">#{text}</span></span>'}}},_listeners:[{name:"render",handler:function(){var a=this,b=a.rawConfig;b.checked&&a.setChecked(!0,!0),b.title&&a.setTitle(b.title),a.getDom().setAttribute("aria-checked",a.getChecked()?"true":"false")},type:"custom"},{name:"click",handler:function(b){var c=i.getItem(this);c.setChecked(),a.Event.cancelBubble(b)}},{name:"keyup",handler:function(b){var c=i.getItem(this);(13===b.keyCode||32===b.keyCode)&&(c.setChecked(),a.Event.cancelBubble(b))}}],_events:["checkedchange"],disabledFlyMode:!0,xtype:"checkbox"},{initialize:b,_getData:e,checked:!1,name:null,value:null,html:c,getChecked:f,setChecked:g,setTitle:d})}($,window),function(a,b,c){function d(a){var b=this;p.superClass.initialize.call(b,a),a.checkedchange&&b.listen("checkedchange",a.checkedchange)}function e(a){var b=this,c=b.rawConfig;a.xtype=a.xtype||c.checkType,a.name=a.name||c.name,a.checkedchange=function(){return b.fire("checkedchange",b.getValue())};var d=p.superClass.add.call(b,a);return"radio"===c.checkType&&k.group(b.find("radio")),d}function f(a){var b=this,c={};if(a.items){for(var d=0,e=a.items.length;e>d;d++)a.items[d].xtype=a.checkType,a.name&&(a.items[d].name=a.name),a.items[d].checkedchange=function(){return b.fire("checkedchange",b.getValue())};c.text=b._batch(a.items||[],"html").join("")}var f=a.items.length;return f>0&&"btn"===a.items[0].subclass&&(a.extcls=(a.extcls||"")+"nui-btnGroup nui-btnGroup-"+f),c.role="radio"===a.checkType?"radiogroup":"group",c}function g(b,d){var e,f=this,g=f.getItems();m.isArray(b)?n.each(b,function(b,f){return e=g[b],null===f||f===c?a.BREAK:(e.setChecked(f,d),void 0)}):g[b].setChecked(!0,d)}function h(){var b=this,c=b.rawConfig,d=b.getItems(),e={};return d&&0!==d.length?("radio"===c.checkType?n.each(d,function(b,c){return c.checked?(e=b,a.BREAK):void 0}):"checkbox"===c.checkType&&(e=[],n.each(d,function(a,b){e.push(b.checked)})),e):null}function i(){var a=this,b=a.getItems();if(b&&0!==b.length){var c,d=a.rawConfig,e={};return"checkbox"===d.checkType?n.each(b,function(a,b){b.checked&&(c=b.name||a,e[c]=(0===b.value?0:b.value||b.checked)+"")}):n.each(b,function(a,b){b.checked&&(e=0===b.value?0:b.value||a)}),e}}function j(){var a=this.rawConfig,b=a.checkType;return"radio"===b?this.find("radio"):"checkbox"===b?this.find("checkbox"):[]}try{var k=$L("component.Radio")}catch(l){return l}var m=a.Object,n=a.Array,o=a.getClass("netease.mail.component.Component"),p=a.createClass($N("component.CheckGroup"));m.mix(p,o,{_cssClass:{baseclass:{cls:"nui-chkGroup",tpl:'<div class="#{compclass}" role="#{role}">#{text}</div>'}},_events:["checkedchange"],_listeners:[{name:"afterRender",handler:function(){var a=this,b=a.rawConfig;
"radio"===b.checkType&&k.group(a.find("radio"))},type:"custom"}],disabledFlyMode:!0,xtype:"checkgroup"},{initialize:d,_getData:f,setChecked:g,getValue:i,getChecked:h,getItems:j,add:e,curCheckedItem:null,autoCreateChild:!1})}($,window),function(a,b,c){function d(a){var b=this;if(b.menu=null,k.superClass.initialize.apply(b,arguments),a.module)b.listen("click",function(){$E(["module."+a.module.name],function(b){b.entry(a.module.param)})});else if(a.link){var c="",d="",e=a.title,f=0===a.link.indexOf("http");f?d=a.link:c=a.link,a.target||b.listen("click",function(){try{var a=$L("interface.OutlinkInterface",this)}catch(b){return b}a.goOutlink({url:d,key:c,title:e})})}else a.click&&b.listen("click",a.click)}function e(a){a=0===arguments.length?!0:!!a;var b=this,c=b.getEl(),c=c.find("A")||c;a?(b.suspendEvents(),c.dom.setAttribute("disabled","true"),c.addClass("nui-txt-disabled")):(b.resumeEvents(),c.dom.removeAttribute("disabled"),c.removeClass("nui-txt-disabled"))}function f(){var a,b=this.domId,c=this.rawConfig;return a=c.hidden||c.bracket||c.leftBracket||c.rightBracket||c.wrapper||c.icon||c.module||c.link||c.target||c.noParam?k.superClass.html.apply(this,arguments):['<a id="',b,'" href="javascript:void(0)"  class="',c.extcls?c.extcls:""," js-component-link ",c.cls?c.cls:"",'" ',c.attrs||"",'  hidefocus="hidefocus">',c.text||"","</a>"].join("")}function g(b){var d={};if(d.text=b.text!==c?b.text:"",d.cls=b.cls,d.attrs=b.attrs?" "+b.attrs:"",b.bracket)d.leftBracket='<span class="'+(b.spancls||"")+'">[',d.rightBracket="]</span>";else if(b.leftBracket||b.rightBracket)d.leftBracket='<span class="">'+(b.leftBracket?b.leftBracket:""),d.rightBracket=(b.rightBracket?b.rightBracket:"")+"</span>";else if(b.wrapper){var e=b.wrapper.indexOf(">");d.leftBracket=b.wrapper.substring(0,e)+' class="">',d.rightBracket=b.wrapper.substr(e+1)}else d.leftBracket="",d.rightBracket="";if(b.icon){var f={xtype:"icon"};a.Object.isObject(b.icon)?a.Object.extend(f,b.icon):f.type=b.icon,d.icon=this._getChildHtml(f)}else d.icon="";var g,h;return b.target?(l?0===b.link.indexOf("http")?g=b.link:(g=l.getUrl(b.link,b.noParam),h=l.getUrlObj(b.link)):g=b.link,d.href=g,d.target='target="'+b.target+'"',!d.text&&h&&h.title&&(d.text=h.title)):(d.href="javascript:void(0)",d.target=""),d}function h(a){var b=this,c=b.menu,d=b.getDom();return c?("none"===c.getDom().style.display?c.show():c.hide(),c):(d.parentNode.style.zIndex=140,a.top=d.offsetHeight+3,a.xtype="menu",c=b.add(a),c.render(b),c.getRoot().getEl().dom.style.zIndex=140,b.menu=c,c.show(),c)}function i(){var a=this,b=a.getEl().findFly("A");return b&&b.dom||a.getDom()}var j=a.getClass("netease.mail.component.Component"),k=a.createClass($N("component.Link")),l=a.Uri||b.Uri;a.Object.mix(k,a.Component,{_template:'#{leftBracket}<a href="#{href}" class="#{cls}"#{attrs} #{target} hidefocus="hidefocus">#{icon}#{text}#{iconAfter}</a>#{rightBracket}',xtype:"link",_events:["click"],_listeners:[{name:"click",handler:function(b){var c=this,d=j.getItem(c),e=a(c),f=d.rawConfig;try{d.fire("click",b),e.findFly("INPUT")||f.target||a.Event.cancel(b)}catch(g){a.Event.cancel(b)}}},{name:"render",handler:function(){var a=this,b=a.getEl(),c=a.rawConfig;c.title&&((b.findFly("A")||b).dom.title=a.rawConfig.title||""),c.disabled&&a.setDisabled()},type:"custom"},{name:"destroy",handler:function(){var a=this;a.link&&delete a.link,a.menu&&delete a.menu},type:"custom"}]},{_getData:g,html:f,link:null,initialize:d,addMenu:h,arrclick:h,setDisabled:e,_getChildContainer:i})}($,window),function(a){function b(a){var b=this;q.superClass.initialize.call(b,a)}function c(a){var b={};return b.display=a.content?"":' style="display:none"',b.title=a.title?a.title:"",b}function d(){var a=this,b=a.rawConfig,c=a._getData(b);return['<b id="',a.domId,'" class="js-component-memo ',b.extcls,' nui-ico nui-ico-remark-xs" title="',c.title,'"',c.display,"></b>"].join("")}function e(){var a=this,b=a.rawConfig;if(clearTimeout(a.timer),!a.layer&&!a._scrollParent)try{a._scrollParent=p.getScrollParent(a.getEl().dom)}catch(c){}a.timer=setTimeout(function(){if(a.layer)a.layer.show();else{var c='<p class="nui-item"><strong class="nui-txt-s14">'+(b.title||n.t("邮件备注"))+"</strong></p>",d=b.content?'<p class="nui-item">'+b.content+"</p>":"",e="";if(b.modify){var f=new j({text:n.t("修改"),extcls:"nui-txt-link",click:function(){a.modify()}}),g=new j({text:n.t("删除"),extcls:"nui-txt-link",click:function(){a.modify(!0)}});e='<p class="nui-item" style="text-align:right">'+f.html()+"&nbsp;"+g.html()+"</p>"}a._scrollParent||(a._scrollParent=p.getScrollParent(a.getEl().dom)),a.layer=new l({params:"arrUp",type:"remark",icon:{type:"remark",size:"m"},content:c+d+e,pointTo:a.getEl(),renderTo:b.popupRenderTo||a._scrollParent||document.body,listeners:{mouseover:{handler:function(){clearTimeout(a.timer)}},mouseout:{handler:function(){a.hideLayer()}}}}),a.add(a.layer)}p.setEvents()},a.timeout)}function f(){var a=this;clearTimeout(a.timer),a.timer=setTimeout(function(){a.layer&&a.layer.hide()},a.timeout)}function g(a,b){a.modify(b)}function h(b){function c(){var a=h,b=k.value.length,c=a-b,d=n.t("您已输入&nbsp;")+"<strong>"+b+"</strong>"+n.t("&nbsp;字，")+(c>=0?n.t("还能输入&nbsp;")+"<strong>"+c+"</strong>"+n.t("&nbsp;字"):'<span class="txt-impt">'+n.t("请删除&nbsp;")+"<strong>"+-c+"</strong>"+n.t("&nbsp;字")+"</span>");e.footer.html(d)}function d(){var a;return a=b?"":k.value,a.length>h?n.t("请输入 ")+h+n.t(" 个字符"):(g.rawConfig.modify(a),void 0)}var e,f,g=this,h=g.rawConfig.maxLength||q.maxLength;if(b)e=m.show({type:"confirm",content:n.t("您确定要删除备注吗？"),title:n.t("删除确认"),ok:a.Function.bind(g.rawConfig.modify,g)});else{var i=g.rawConfig.content?n.t("修改备注"):n.t("添加备注");e=m.show({title:i,contentType:"normal",content:a.Input.html({subclass:"multiLineIpt",width:"400px",rows:"5",value:a.String.decodeHTML(g.rawConfig.content)}),footer:"",ok:d});var j=e.getEl();f=j.find("TEXTAREA");var k=f.dom;f.listen("keyup",c),f.listen("paste",c),f.listen("cut",c),setTimeout(c,0),p.setEvents(),f.destroy()}}function i(a){var b=this;b.rawConfig.content=a,a?b.show():b.hide(),b.layer&&b.layer.hide(),delete b.layer}try{var j=$L("component.Link")}catch(k){return k}try{var l=$L("component.Layer")}catch(k){return k}try{var m=$L("component.Msgbox")}catch(k){return k}var n=new $I18N("component.Memo"),o=a.Object,p=a.getClass("netease.mail.component.Component"),q=a.createClass($N("component.Memo"));o.mix(q,p,{_template:'<b class="nui-ico nui-ico-remark-xs"#{display}></b>',xtype:"memo",_listeners:[{name:"mouseover",handler:function(){p.getItem(this).showLayer()}},{name:"mouseout",handler:function(){p.getItem(this).hideLayer()}},{name:"destroy",handler:function(){var a=this,b=a.layer;b&&(b.destroy(),a.layer=null,delete a.layer)},type:"custom"}],maxLength:100,modify:g},{layer:null,timer:null,timeout:400,html:d,showLayer:e,hideLayer:f,updateContent:i,modify:h,initialize:b,_getData:c})}($,window),function(a,b,c){function d(a){var b=this;q.superClass.initialize.call(b,a),a.click&&b.listen("click",a.click),a.value!==c&&(b.value=a.value)}function e(){var a=this,b=a.rawConfig;a._listened||(a.listen("click",function(c){if(!a.disabled){if(!b.doNotHide&&!b.menu)try{a.ownerCt&&a.ownerCt.hide(),l.hideAllMenu(c)}catch(d){}"checkbox"===b.checkType?(a.setChecked(),a.fire("checkedchange",a,c),a.ownerCt.fire("checkedchange",a,c)):b.checkType&&(a.setChecked(!0),a.fire("checkedchange",a,c),a.ownerCt.fire("checkedchange",a,c))}}),a.listen("update",function(){a._listened=!1}),a._listened=!0)}function f(a){var b=this;a=a===c?!0:a,b.focus=a;var d=b.getEl();if(a)try{d.dom.focus()}catch(e){}else d.removeClass("nui-menu-item-focus")}function g(a){var b=this,d=b.checked,e=b.rawConfig.checkType,f=b.getEl(),g=b.ownerCt;if(a===c&&(a=!d),"checkbox"!==e&&a)for(var h=g.find("menuitem",!0),i=0,j=h.length;j>i;i++)h[i].ownerGrp===b.ownerGrp&&h[i].setChecked(!1);if("radio"===e||"checkbox"===e){var k=f.findFly("b.nui-ico-"+e);f[a?"addClass":"removeClass"]("nui-menu-item-checked"),k&&k[a?"addClass":"removeClass"]("nui-ico-"+e+"-checked")}else a?(f.addClass("nui-menu-item-selected"),g._selectedItem=b):(f.removeClass("nui-menu-item-selected"),g._selectedItem=null,delete g._selectedItem);b.checked=a}function h(){var b=this,c=b.ownerCt,d=c.rawConfig.renderTo;d=d?d.dom||d:document.body;var e=d===document.body?d.offsetHeight:d.scrollHeight,f=b.getSubMenu(),g=f.getEl().dom,h=b.getEl().dom,i=c.getEl().dom,j=c.find("menu");j&&a.Array.each(j,function(a,b){b!==f&&b.hide(!0)}),f&&(f.show(),c.currentSubMenu=b,setTimeout(function(){try{var a=e-(i.offsetTop+h.offsetTop+g.offsetHeight);g.style.top=0>a?a-5+"px":0}catch(b){}},0),b.hideTimer&&(clearTimeout(b.hideTimer),delete b.hideTimer),b.expanding=!0)}function i(){var a=this,b=a.getSubMenu(),c=a.getEl();b&&b.hide(!0),a.expanding=!1,c&&(c.removeClass("nui-menu-item-hover"),c.dom.blur())}function j(){var a=this.rawConfig,b=this.find("menu",!0);if(b)return b[0];var c=a.menu;return c?(b=new l(c),b=q.superClass.add.call(this,b),b.render(this),b):void 0}function k(b){var d=this,e={params:b.params||[],linkTag:"div",linkClass:"nui-menu-item-link",extAttr:b.extAttr||""};d.ownerGrp=b.ownerGrp,e.params=b.params||[],b.href?(e.linkTag="a",e.href=' href="'+b.href+'" target="_blank"'):r&&(e.linkTag="a",e.href=' href="#"');var f="";if(b.icon){var g={xtype:"icon"};"object"==typeof b.icon?a.Object.extend(g,b.icon):g.type=b.icon,f=d._getChildHtml(g),e.icon=f}return("radio"===b.checkType||"checkbox"===b.checkType)&&(e.icon=d._getChildHtml({xtype:"icon",type:b.checkType,subtype:b.checked?"checked":null}),b.icon&&(e.extIcon=f)),(b.icon||"checkbox"===b.checkType||"radio"===b.checkType)&&e.params.push("hasIcon"),b.extText&&(e.params.push("hasExt"),e.extTag="span",n.isObject(b.extText)?(e.extText=d._getChildHtml(b.extText),e.extTag="div",e.linkClass="nui-menu-item-inner"):e.extText=b.extText),b.menu&&(b.menu.hideTimeout!==c&&(d.hideTimeout=b.menu.hideTimeout),e.params.push("hasSubMenu")),b.close&&(e.closeIcon=d._getChildHtml({xtype:"icon",title:b.closeTitle,type:"close",click:function(){try{b.close(),p.cancelBubble()}catch(a){}}}),e.params.push("hasClose")),e}try{var l=$L("component.Menu")}catch(m){return m}var n=a.Object,o=a.getClass("netease.mail.component.Component"),p=a.Event,q=a.createClass("netease.mail.component.MenuItem"),r=a.Browser.ie()<=6;n.mix(q,o,{_cssClass:{baseclass:{cls:"nui-menu-item",tpl:'<div role="menuitem" tabindex="-1" class="#{compclass}" #{extAttr}><#{linkTag}#{href} class="#{linkClass}">#{hasIcon}<span class="nui-menu-item-text">#{extIcon}#{text}</span>#{hasExt}#{hasSubMenu}#{hasClose}</#{linkTag}></div>',hasIcon:{cls:"",tpl:'<span class="nui-menu-item-icon">#{icon}</span>'},hasExt:{tpl:'<#{extTag} class="nui-menu-item-ext">#{extText}</#{extTag}>'},hasSubMenu:{tpl:'<span class="nui-menu-item-arr"><b class="nui-ico nui-ico-rArr">r</b></span>'},hasClose:{tpl:'<span class="nui-menu-item-close">#{closeIcon}</span>'}},subclass:{pureItem:{tpl:'<div role="menuitem" tabindex="-1" class="#{compclass}">#{text}</div>'}}},_events:["click","checkedchange"],_listeners:[{name:"render",handler:function(){var b=this,c=b.rawConfig;c.checked&&b.setChecked(c.checked);var d=b.getEl(),e=d.find(".nui-menu-item-link");e&&e.listen("click",function(c){if(a.Event.cancelBubble(c),a.Event.getTarget(c),!b.disabled){try{b.ownerCt&&b.ownerCt.rawConfig.onItemClick&&b.ownerCt.rawConfig.onItemClick.apply(b.ownerCt,[b])}catch(d){}b.fire("click",c)}}),b._listenEvents()},type:"custom"},{name:"mouseover",handler:function(){var a=o.getItem(this),b=a.rawConfig,c=a.getEl();if(p.isMouseover(c.dom)){var d=a.ownerCt,e=(d||{}).currentSubMenu;e&&e!==a&&e.hideSubMenu(0),d.showSubMenuTimer&&clearTimeout(d.showSubMenuTimer),b.menu&&(d.showSubMenuTimer=setTimeout(function(){a.showSubMenu()},150))}}},{name:"keyup",handler:function(a){var b=o.getItem(this),c=b.rawConfig;switch(a.keyCode){case 13:b.fire("click");var d=b.ownerCt;try{d.rawConfig.clickFrom.dom.focus()}catch(e){}l.hideAllMenu(a);break;case 39:c.menu&&b.showSubMenu()}}}],xtype:"menuitem"},{_getData:k,showSubMenu:h,hideSubMenu:i,getSubMenu:j,setChecked:g,setFocus:f,showTimeout:0,hideTimeout:1e3,ownerGrp:null,checkType:null,value:null,focus:!1,checked:!1,initialize:d,_listenEvents:e,_listened:!1})}($,window),function(a){function b(b){var c=this,d={title:b.title||"",content:g.isArray(b.content)?c._batch(b.content).join(""):b.content||""};return d.content=d.content,a.Array.each(["speed","fadeTime","pauseTime"],function(a,d){"undefined"!=typeof b[d]&&(c[d]=b[d])}),d}function c(a){var b=this;return a.renderTo=document.body,b.popup=new b(a),b.popup}function d(){var b=this;b.timer&&(clearTimeout(b.timer),b.timer=null),a.Array.each(j.popups,function(c,d){return b===d?(j.popups.splice(c,1),a.BREAK):void 0}),b.destroy()}function e(){var b=this,c=b.rawConfig,d=b.getEl(),e=parseInt(d.dom.style.bottom,10);if(c.useAnimate)if(e<b.bottom){var f=e+b.speed;f=Math.min(f,b.bottom),d.dom.style.bottom=f+"px",b.timer=setTimeout(a.Function.bind(b.fadeIn,b),b.fadeTime)}else c.noAutoFadeout||(b.timer=setTimeout(function(){b.mouseover?b.timer=setTimeout(arguments.callee,b.pauseTime):b.fadeOut()},b.pauseTime));else d.dom.style.bottom=b.bottom+"px",b.timer=setTimeout(function(){b.mouseover?b.timer=setTimeout(arguments.callee,b.pauseTime):b.fadeOut()},b.pauseTime)}function f(){var b=this,c=b.getEl(),d=b.rawConfig;if(c&&d.useAnimate){var e=parseInt(c.dom.style.bottom,10),f=c.dom.offsetHeight;e>b.bottom-f?(c.dom.style.bottom=e-b.speed+"px",b.timer=setTimeout(a.Function.bind(b.fadeOut,b),b.fadeTime)):b.close()}else{var g="nui-layer-hiding";if(!c||c.hasClass(g))return;i.support&&c.addClass(g),i.bind({el:c,type:"animationend",filter:function(a,b){return b.hasClass(g)},unsupport:function(){b.close()},support:function(){c.removeClass(g),b.close()}})}}var g=a.Object,h=a.getClass("netease.mail.component.Component"),i=a.getClass("netease.mail.util.AnimationEvent"),j=a.createClass($N("component.Popup"));g.mix(j,h,{_cssClass:{baseclass:{cls:"nui-noticeLayer nui-layer",tpl:'<div class="#{compclass}">#{title}#{content}</div>'},subclass:{commonPopup:{tpl:"#{content}"}}},xtype:"popup",_listeners:[{name:"render",handler:function(){var a=this,b=a.getEl(),c=j.popups;if(c.length>0){var d=c[c.length-1];a.bottom=d.bottom+d.getEl().dom.offsetHeight}else a.bottom=0;var e=b.dom.offsetHeight;b.dom.style.bottom=a.bottom-e+"px",a.fadeIn(),j.popups.push(a)},type:"custom"},{name:"mouseover",handler:function(){h.getItem(this).mouseover=!0}},{name:"mouseout",handler:function(){h.getItem(this).mouseover=!1}}],show:c,popups:[]},{_getData:b,fadeIn:e,fadeOut:f,close:d,speed:5,fadeTime:10,pauseTime:5e3,bottom:null,timer:null})}($,window),function(a){function b(a){var b={};return b.display=$S("schedule")[a.mid]?"":' style="display:none"',b}function c(){var a=this,b=a.rawConfig,c=a._getData(b);return['<b id="',a.domId,'" class="js-component-schedule ',b.extcls,' nui-ico nui-ico-schedule" title=""',c.display,"></b>"].join("")}function d(){var b=this;b.getEl().dom;var c=b.rawConfig;clearTimeout(b.timer),b.timer=setTimeout(function(){if(b.layer)b.layer.show();else{var d='<p class="nui-item"><strong class="nui-txt-s14">'+j.t("日程提醒")+"</strong></p>",e='<p class="nui-item">'+j.t("该邮件已加为日程")+"</p>",f=new a.Link({text:j.t("修改"),extcls:"nui-txt-link",click:function(){b.modify()}}),g=new a.Link({text:j.t("删除"),extcls:"nui-txt-link",click:function(){b.modify(!0)}}),h='<p class="nui-item" style="text-align:right">'+f.html()+"&nbsp;"+g.html()+"</p>";b._scrollParent||(b._scrollParent=l.getScrollParent(b.getEl().dom)),b.layer=new i({params:"arrUp",type:"remark",content:d+e+h,renderTo:c.popupRenderTo||b._scrollParent||document.body,pointTo:b.getEl(),listeners:{mouseover:{handler:function(){clearTimeout(b.timer)}},mouseout:{handler:function(){b.hideLayer()}},destroy:function(){this._scrollParent=null,delete this._scrollParent;var a=b.layer;a&&(a.destroy(),b.layer=null,delete b.layer)}}}),b.add(b.layer)}l.setEvents()},b.timeout)}function e(){var a=this;clearTimeout(a.timer),a.timer=setTimeout(function(){a.layer&&a.layer.hide()},a.timeout)}function f(a,b){a.modify(b)}function g(b){function c(){f.remove(e),d.hide()}var d=this,e=d.rawConfig.mid;try{var f=$L("product.Schedule",this)}catch(g){return g}b?a.Msgbox.show({type:"confirm",content:j.t("您确定要删除该邮件的日程提醒吗？")+'<p class="txt-12 txt-info">'+j.t("确认删除，将同步删除该条日程内容")+"</p>",title:j.t("删除确认"),ok:c}):f.edit(e)}try{$L("component.Link")}catch(h){return h}try{var i=$L("component.Layer")}catch(h){return h}var j=new $I18N("component.Schedule"),k=a.Object,l=a.getClass("netease.mail.component.Component"),m=a.createClass($N("component.Schedule"));k.mix(m,l,{_template:'<b class="nui-ico nui-ico-schedule"#{display}></b>',xtype:"schedule",_listeners:[{name:"mouseover",handler:function(){l.getItem(this).showLayer()}},{name:"mouseout",handler:function(){l.getItem(this).hideLayer()}}],modify:f},{layer:null,timer:null,timeout:400,html:c,showLayer:d,hideLayer:e,modify:g,_getData:b})}($,window),function(a){function b(a,b){var c=this;c.options?c.options[a].setDisabled(b):c.rawConfig.options[a].disabled=b}function c(b){var c=this,d=c.rawConfig;if(d.system){var e=c.getEl().dom;e.selectedIndex=b,c.value=e.value}else{var f="",g="",h=c.menu?c.menu.find("menuitem"):null;if(h)l.each(h,function(d,e){return b===d?(g=e.value,f=e.getText(),e.setChecked(!0),c._curSelectedItem=e,a.BREAK):void 0});else{var i=d.options;l.each(i,function(a,c){c.checked=b===a?!0:!1}),g=d.options[b].value,f=d.options[b].text}c.value=g,c.setText(f)}c.selectedIndex=b}function d(){return this.selectedIndex}function e(b){var c=this;n.superClass.initialize.call(c,b),a.Object.extend(b.options,{xtype:"menuitem"},!0),b.selectedchange&&c.listen("selectedchange",b.selectedchange)}function f(){return this.value}function g(b){var c=this,d=c.rawConfig;if(d.system){var e=c.getEl().find("OPTION");e&&e.doms&&(b+="",l.each(e.doms,function(d,e){return e.value===b?(c.setSelected(d),a.BREAK):void 0}))}else{var f=d.options,g=0,h=c.menu?c.menu.find("menuitem"):null;l.each(f,function(d,e){return e.value===b?(c.setSelected(g),a.BREAK):("split"===e.type&&h||g++,void 0)})}}function h(a){var b=this,c={params:[]};if(a.system){if(a.options){var d=[];l.each(a.options,function(a,c){var e="";c.checked&&(e=" selected",b.value=c.value),d.push('<option value="'+c.value+'"'+e+">"+c.text+"</option>")}),c.options=d.join("")}c.tag="select",c.params.push("_isSystem")}else{for(var e="",f=0,g=a.options.length;g>f;f++){var h=a.options[f];h.checked&&(e=h.text,b.value=h.value,b.selectedIndex=f)}b.selectedIndex||(a.options[0].checked=!0,e=a.options[0].text,b.value=a.options[0].value,b.selectedIndex=0),c.tag="div",c.text=e,c.params.push("_isSim")}return a.title&&(c.title=a.title),c}try{var i=$L("component.Menu")}catch(j){return j}var k=a.Object,l=a.Array,m=a.getClass("netease.mail.component.Component"),n=a.createClass($N("component.Select"));k.mix(n,m,{_cssClass:{baseclass:{cls:"nui-select",tpl:'<#{tag} tabindex="0" aria-expanded="false" role="button" class="#{compclass}"#{title}>#{_isSim}#{_isSystem}</#{tag}>',_isSim:{cls:"",tpl:'<span class="nui-select-text">#{text}</span><span class="nui-select-arr"><b class="nui-ico nui-ico-dArr"></b></span>'},_isSystem:{cls:"",tpl:"#{options}"}},subclass:{simpleSelect:{cls:"nui-simpleSelect"}}},_events:["click"],_listeners:[{name:"render",handler:function(){var b=this,c=b.getEl(),d=b.rawConfig;if(b.rawConfig.width&&(c.dom.style.width=b.rawConfig.width),d.system)c.listen("change",function(a){b.value=c.dom.value,b.fire("selectedchange",b.value,a)});else if(d.options){var e={items:d.options,checkType:"radio"},f={type:"scroll",groups:[e],reverse:d.reverse,verticalReverse:d.verticalReverse,listeners:{render:function(){b.options=this.find("menuitem")},checkedchange:function(c,d){if(b._curSelectedItem!==c){var e=b.getValue();l.each(g.find("menuitem"),function(d,e){return e===c?(b.setSelected(d),a.BREAK):void 0}),b.fire("selectedchange",c.value,d,e)}}}};"simpleSelect"===d.subclass&&(f.simpleItem=!0,f.width="150px",f.listeners.click={handler:function(c){var d=this,e=a.Event.getTarget();if("a"===e.tagName.toLowerCase()){a.Event.stop(c),a.Component.getItem(d).hide();var f=e.getAttribute("data-index")||0,g=e.getAttribute("data-value")||"";b.setSelected(f),b.fire("selectedchange",g,c)}b._curSelectedItem&&(b._curSelectedItem.className="nui-menu-item-link",a(b._curSelectedItem).find(".nui-menu-item-icon").hide()),b._curSelectedItem=e,a(b._curSelectedItem).find(".nui-menu-item-icon").dom.style.display=""}},f.listeners.show=function(){var c=this,d=c.getEl(),e=d.dom,f=b.getSelected();setTimeout(function(){e.scrollTop=27*f},0);var g=e.getElementsByTagName("a");g&&g[f]&&(b._curSelectedItem=g[f],a(b._curSelectedItem).find(".nui-menu-item-icon").dom.style.display="")}),b.menu=new i(f);var g=b.menu;g.attachTo({clickFrom:b.getEl(),delegateTo:d.delegateTo,renderTo:d.popupRenderTo})}},type:"custom"},{name:"destroy",handler:function(){var a=this;a.options&&(a.options.destroy(),a.options=null,delete a.options),a.menu&&(a.menu.destroy(),a.menu=null,delete a.menu),a._curSelectedItem=null,delete a._curSelectedItem},type:"custom"}],_interactiveStyle:!0,xtype:"select"},{initialize:e,_getData:h,getValue:f,setValue:g,setSelected:c,getSelected:d,setOptionDisabled:b,selectedIndex:null,menu:null,value:null})}($,window),function(a){function b(){return this.history=[],l.superClass.initialize.apply(this,arguments)}function c(a){var b=this,c=b.find("tabitem",!0),d=c[a];d&&d.active()}function d(a){var b=a.basecls||l._basecls;return{basecls:b}}function e(b){var c=this;if(a.Object.isArray(b))return b.each(function(a,b){c.add(b)}),void 0;b.type=c.type,b.xtype="tabitem";var d=l.superClass.add.call(c,b);return b.active&&!b.fromInit&&d.active(b),d}function f(a,b){function c(){var c=d.find("#"+a);if(c){for(var f,g=d.history,h=c.isActive(),i=g.length-1;i>-1;i--)g[i].id===a&&g.splice(i,1);!b&&h&&(f=g.pop()),f&&f.active({fromTabRemoved:!0,nonExit:!1}),e||b||m?(l.superClass.remove.call(d,a),d.resize(),d.fire("afterclose")):(c.getEl().addClass("nui-tabs-item-hide"),setTimeout(function(){l.superClass.remove.call(d,a),d.resize(),d.fire("afterclose")},200))}}var d=this,e=d.rawConfig.noRemoveAnimat;a&&(b||0===d._getEvent("close").length||d.fire("close",a,c))&&c()}function g(a){return this.find("#"+a)}function h(a,b){a.getEl().before(b.getEl().dom),a.isActive()&&b.active(),this.remove(a.id,!0)}function i(){var a,b=this,c=b.find("tabitem"),d=72,e=0;if(c){var f=c.length;if(1!==f){for(var g=0,h=c.length;h>g;g++)a=c[g],a.rawConfig.nonClose&&e++;var i=97,j=document.documentElement.offsetWidth-i+(f-1),k=j/(f-1);e>0&&d>k&&(k=(j-d*e)/(f-e-1)),k=Math.floor(k),k=Math.min(k,121),k=Math.max(k,0);for(var g=0,h=c.length;h>g;g++)if(a=c[g],!a.getEl().hasClass("rC0")&&"tabitem"===a.xtype&&a._width!==k){a._width=k;var l=a.rawConfig.nonClose?Math.max(d,k)-30:k-30;a.getEl().dom.style.width=l+"px"}}}}var j=new $I18N("component.Tab"),k=a.getClass("netease.mail.component.Component"),l=a.createClass($N("component.Tab")),m=a.Browser.isIE("<9");a.Object.mix(l,k,{_cssClass:{baseclass:{cls:"nui-tabs",tpl:'<ul role="tablist" aria-label="'+j.t("邮箱标签")+'" class="#{compclass}"></ul>'},subclass:{normalTabs:{cls:"nui-normalTabs"},moduleTabs:{cls:"nui-moduleTabs"}}},_basecls:"",xtype:"tab",_listeners:[],_events:["switch","close","enter","afterclose"]},{_getData:d,initialize:b,basecls:null,activeItem:null,history:null,active:c,add:e,remove:f,exist:g,replace:h,resize:i})}($,window),function(a,b,c){function d(a){var b=this;o.superClass.initialize.call(b,a),a.click&&b.listen("click",a.click)}function e(b){var c=this,d="nui-tabs-item",e=d+"-close",f={text:'<div class="'+d+'-text nui-fNoSelect" unselectable="on" id="'+c.id+'text" >'+b.text+"</div>",basecls:d};return b.title&&(f.title=' title="'+a.String.stripTags(b.title).replace(/\"/g,"")+'"'),b.border&&(f.border='<div class="kA0"></div><div class="mE0"></div>'),c.ownerCt.rawConfig.hasClose&&!c.rawConfig.nonClose&&(f.closelink=c._getChildHtml({xtype:"link",extcls:e,title:m.t("点击关闭标签"),items:[{html:'<span class="nui-tabs-item-close-transarea"></span>'},{xtype:"icon",type:"close"}],listeners:{click:{handler:function(){c.ownerCt.remove(c.id),a.Event.fire(document.body,"click"),a.Event.fire(document.body,"mouseup")}},mouseover:{handler:function(){var b=this;a(b).addClass(e+"-hover")}},mouseout:{handler:function(){var b=this;a(b).removeClass(e+"-hover"),a(b).removeClass(e+"-active")}},mousedown:{handler:function(b){var c=this;a(c).removeClass(e+"-hover"),a(c).addClass(e+"-active"),a.Event.cancelBubble(b)}},mouseup:{handler:function(b){var c=this;a(c).removeClass(e+"-active"),a.Event.cancelBubble(b)}},focus:{handler:function(b){var c=this;a(c).addClass(e+"-focus"),a.Event.cancelBubble(b)}},blur:{handler:function(b){var c=this;a(c).removeClass(e+"-focus"),a.Event.cancelBubble(b)}},keydown:{handler:function(b){var c=this;13===b.keyCode&&a.Event.fire(a(c).dom,"mousedown")}},keyup:{handler:function(b){var c=this;13===b.keyCode&&a.Event.fire(a(c).dom,"click")}}},attrs:'hidefocus="hidefocus"'})),f}function f(a){var b,d=this,e=(a||{}).notFireClick;if(e||(d.rawConfig.noDelayClick?b=d.fire("click",a):setTimeout(function(){b=d.fire("click",a)},0)),b===c&&d.ownerCt){var f=d.ownerCt.activeItem;if(f!==d){var g="nui-tabs-item",h=g+"-selected";if(f&&f.getEl())try{f.getEl().removeClass(h),f.getEl().dom.setAttribute("aria-selected","false")}catch(i){}d.ownerCt.activeItem=d,d.getEl().addClass(h),d.getEl().dom.setAttribute("aria-selected","true"),d.ownerCt.history[d.ownerCt.history.length]===d||d.rawConfig.special||d.ownerCt.history.push(d)}}return b}function g(a){var b=this,c="nui-tabs-item",d=c+"-selected";try{var e=b.getEl();a===!1?(e.removeClass(d),e.dom.setAttribute("aria-selected","false")):(e.addClass(d),e.dom.setAttribute("aria-selected","true"))}catch(f){}}function h(){var a=this,b=a.ownerCt.activeItem;return b===a?!0:!1}function i(b,c){var d=this,e=d.getEl().findFly("#"+d.id+"text");if(e){if(!b)return e.dom.innerHTML;e.html(c?b:a.String.encodeHTML(b)),e.dom.parentNode.title=a.String.stripTags(a.String.decodeHTML(b)),d.rawConfig.text=b}}function j(){var a=this;o.superClass.show.apply(a,arguments)}function k(){var a=this;o.superClass.hide.apply(a,arguments)}function l(){var a=this;o.superClass.destroy.apply(a,arguments)}var m=new $I18N("component.TabItem"),n=a.getClass("netease.mail.component.Component"),o=a.createClass($N("component.TabItem"));a.Object.mix(o,n,{_cssClass:{baseclass:{cls:"nui-tabs-item",tpl:'<li class="#{compclass}" role="tab" aria-selected="false" tabindex="0"#{title}>#{border}#{text}#{closelink}</li>'}},_interactiveStyle:!0,_listeners:[{name:"mousedown",handler:function(b){var c=this,d=n.getItem(c),e=a.Event.getTarget(b),f=a.Event.get(b);3!==f.which&&(1===e.nodeType&&e.className.indexOf("-close")>-1||d.active(),a.Menu&&a.Menu.hideAllMenu(),a.Event.fire(document,"click"))}},{name:"dblclick",handler:function(){var a=this,b=n.getItem(a);b.rawConfig.nonClose||b.rawConfig.skipDbClick||b.ownerCt.remove(b.id)}},{name:"keyup",type:"dom",handler:function(a){var b=this,c=n.getItem(b);13===a.keyCode&&c.fire("click")}},{name:"render",handler:function(){var a=this,b=a.rawConfig;b.width&&(a.getEl().dom.style.width=b.width)},type:"custom"}],_events:["click"],xtype:"tabitem"},{_getData:e,initialize:d,active:f,activeStyle:g,isActive:h,title:i,show:j,hide:k,destroy:l})}($,window),function(a,b,c){function d(b,d){d=d===c?-1:d;var e=this,f=e.rawConfig,g=e.getEl().findFly("tbody");g?g=g.dom:(e.update({bodyCells:[]}),g=e.getEl().findFly("tbody").dom);var h=a(g.insertRow(d));h.addClass("nui-table-row"),h.dom.setAttribute("role","row");for(var i=0,j=b.length;j>i;i++){var k=a(h.dom.insertCell(-1)),l=b[i];k.addClass("nui-table-cell"),k.html(l.text),k.dom.setAttribute("role","gridcell"),l.colspan&&k.dom.setAttribute("colspan",l.colspan),l.cls&&k.addClass(l.cls),0===i?k.addClass("nui-table-cell-isFirst"):i===j-1&&k.addClass("nui-table-cell-isLast"),k.destroy()}f.bodyCells.push(b),h.destroy()}function e(a){a=a===c?-1:a;var b=this,d=b.rawConfig,e=b.getEl().findFly("tbody").dom;e.deleteRow(a),d.bodyCells.splice(a,1)}function f(a){var b,c,d,e,f,g,i,j,k={params:[]},l="",m="";if(a.headCells)for(b=0,d=a.headCells.length;d>b;b++)f=a.headCells[b],g=["cell"],0===b?g.push("cell-isFirst"):b===a.headCells.length-1&&g.push("cell-isLast"),f.forChk&&g.push("cell-forChk"),i=f.colspan?' colspan="'+f.colspan+'"':"",j=f.cls||"",l+='<th role="gridcell" class="'+h.spliceClass("nui-table",g)+" "+j+'"'+i+">"+f.text+"</th>";if(a.bodyCells)for(b=0,d=a.bodyCells.length;d>b;b++){for(m+=(b+1)%2?'<tr role="row" class="nui-table-row">':'<tr role="row" class="nui-table-row nui-table-row-even">',c=0,e=(a.bodyCells[b]||[]).length;e>c;c++)f=a.bodyCells[b][c],g=["cell"],0===c?g.push("cell-isFirst"):c===e-1&&g.push("cell-isLast"),f.forChk&&g.push("cell-checkbox"),i=f.colspan?' colspan="'+f.colspan+'"':"",j=(f.cls?" "+f.cls:!1)||"",m+='<td role="gridcell" class="'+h.spliceClass("nui-table",g)+j+'"'+i+">"+f.text+"</td>";m+="</tr>"}return a.hasThead!==!1&&k.params.push("hasThead"),k.head=l,k.body=m,k.tablecls=a.tablecls||"",k}var g=a.Object,h=a.getClass("netease.mail.component.Component"),i=a.createClass($N("component.Table"));g.mix(i,h,{_cssClass:{baseclass:{cls:"nui-table",tpl:'<div class="#{compclass}"><table role="grid" class="nui-table-inner #{tablecls}">#{hasThead}<tbody class="nui-table-body">#{body}</tbody></table></div>',hasThead:{tpl:'<thead class="nui-table-head"><tr role="row" class="nui-table-row">#{head}</tr></thead>'}},subclass:{normalTable:{cls:"nui-normalTable"},simpleTable:{cls:"nui-simpleTable"},settingTable:{cls:"nui-settingTable"}}},xtype:"table"},{addRow:d,removeRow:e,_getData:f})}($,window),function(a){function b(){var a=this;a.rawConfig;var b=a.getEl();b.dom;var c=a._clsEl,d=a._textEl;a._listened||(b.listen("click",function(b){var d=g.getTarget(b);d===c.dom||d.parentNode===c.dom?a.fire("closeclick"):a.fire("click")}),b.listen("mouseout",function(e){var f=g.getTarget(e);f===c.dom||f.parentNode===c.dom?c.removeClass("nui-tag-close-hover"):d.removeClass("nui-tag-text-hover"),clearTimeout(a._hideTimer),a._hideTimer=null,delete a._hideTimer,g.isMouseout(b.dom)&&b.removeClass("nui-tag-hover")}),b.listen("keyup",function(b){if(13===b.keyCode){var d=g.getTarget(b);d===c.dom||d.parentNode===c.dom?a.fire("closeclick"):a.fire("click")}}),a.listen("update",function(){a._listened=!1}),a._listened=!0)}function c(a){var b=this;i.superClass.initialize.call(b,a),a.click&&b.listen("click",a.click),a.closeclick&&b.listen("closeclick",a.closeclick)}function d(){var a=this,b=a.rawConfig,c=a.getComponentClass(a._getData(b)),d=[];return d[d.length]=['<div tabindex="0" id="',a.domId,'" class="',c.compclass,'"><span class="nui-tag-text">'].join(""),d[d.length]=b.text,d[d.length]="</span>",b.closeclick&&(d[d.length]='<span tabindex="0" class="nui-tag-close nui-close"><b class="nui-ico">x</b></span>'),d[d.length]="</div>",d.join("")}function e(a){var b={params:[]};return"iconTag"===a.subclass&&(b.text="a"),a.closeclick&&b.params.push("hasClose"),b}var f=a.Object,g=a.Event,h=a.getClass("netease.mail.component.Component"),i=a.createClass($N("component.Tag"));f.mix(i,h,{_cssClass:{baseclass:{cls:"nui-tag",tpl:'<div tabindex="0" class="#{compclass}"><span class="nui-tag-text">#{text}</span>#{hasClose}</div>',hasClose:{cls:"",tpl:'<span tabindex="0" class="nui-tag-close nui-close"><b class="nui-ico">x</b></span>'}},subclass:{iconTag:{cls:"nui-iconTag"}}},_events:["click","closeclick"],_listeners:[{name:"mouseover",handler:function(b){var c=a(this),d=h.getItem(c),e=a.Event.getTarget(b),f=d._clsEl,g=d._textEl;e===f.dom||e.parentNode===f.dom?f.addClass("nui-tag-close-hover"):g.addClass("nui-tag-text-hover"),d._hideTimer=setTimeout(function(){c.addClass("nui-tag-hover")},300),d._listenEvents()}},{name:"focus",handler:function(){var b=a(this),c=h.getItem(b);b.addClass("nui-tag-hover"),c._listenEvents()}},{name:"render",handler:function(){var a=this,b=a.getEl();a._clsEl=b.find(".nui-tag-close")||{},a._textEl=b.find(".nui-tag-text")
},type:"custom"},{name:"destroy",handler:function(){var a=this;a._clsEl.destroy(),a._textEl.destroy(),delete a._clsEl,delete a._textEl},type:"custom"}],xtype:"tag"},{initialize:c,html:d,_getData:e,_listenEvents:b,_listened:!1})}($,window),function(a){function b(a){function b(a){a.showing=!0,a.getEl().dom.style.display=""}function c(a){if(a.showing){var b=a.getEl(),c=a.getParamClass("hiding");i.support||(a.showing=!1,a.hide()),b.hasClass(c)||(b.addClass(c),i.bind({el:b,type:"animationend",filter:function(a,b){return b.hasClass(c)},unsupport:function(){a.showing=!1,a.hide()},support:function(){b.removeClass(c),a.showing=!1,a.hide()}}))}}var d=j.loadingTips;if(j.forbidLoading){if(d)try{c(d)}catch(e){}}else if(d&&clearTimeout(d.timer),a){var f={subclass:"frameTips",icon:"loading",text:a||"",expires:0,type:"aside",tipsType:"loading",renderTo:document.body,hidden:!0,listeners:{render:function(){this.getEl().dom.style.left="200px",b(this)}}};k&&delete f.icon,d?(d.setText(a),d.showing?d.show():b(d)):j.loadingTips=new j(f)}else d&&(d.timer=setTimeout(function(){c(d)},1e3))}function c(){var a=j.frameTips;if(a&&a===j.frameTips)try{var b=a.getEl();if(!i.support)return a.destroy();var c=a.getParamClass("hiding");b.addClass(c),i.bind({el:b,type:"animationend",filter:function(a,b){return b.hasClass(c)},support:function(){a.destroy()},unsupport:function(){a.destroy()}})}catch(d){}}function d(a){var b=!0;return j.frameTips&&(j.frameTips.destroy(),b=!1),"string"==typeof a&&(a={text:a}),a.succ&&(a.type="suc"),a.err&&(a.type="err"),a.expires=a.expires||5e3,a.subclass="frameTips",a.renderTo=document.body,a.tipsType="frame",a.animation=b,a.listeners=a.listeners||{},a.listeners.render=function(){var c=this.getEl(),d=c.dom;d.style.left=(document.body.offsetWidth-d.offsetWidth)/2+"px",a.expires>0&&(j.timer=setTimeout(function(){j.frameTips.getEl().removeClass("nui-ani-none"),j._frameTipsDestroy()},a.expires)),b||c.addClass("nui-ani-none")},j.frameTips=new j(a),j.frameTips}function e(a,b){return!j.moduleTips&&a||(j.moduleTips&&j.moduleTips.destroy(),j.moduleTips=null,a)?("string"==typeof a&&(a={text:a}),a.succ&&(a.type="suc"),a.err&&(a.type="err"),a.expires=a.expires||0,a.subclass="frameTips",a.renderTo=document.body,a.tipsType="module",a.listeners=a.listeners||{},a.listeners.afterRender=function(){var c=this.getEl().dom;c.style.left=(document.body.offsetWidth+200-c.offsetWidth)/2+"px",c.style.top=b||"88px",a.expires>0&&(j.timer=setTimeout(function(){c.style.display="none"},a.expires)),c.style.display=""},j.moduleTips=new j(a),j.moduleTips):void 0}function f(b){var c=this,d={params:[]};if(b.icon){var e={xtype:"icon"};"object"==typeof b.icon?a.Object.extend(e,b.icon):e.type=b.icon,d.icon=c._getChildHtml(e),d.params.push("_hasIcon")}return d}var g=a.Object,h=a.getClass("netease.mail.component.Component");a.getClass("netease.mail.util.AnimationElement");var i=a.getClass("netease.mail.util.AnimationEvent"),j=a.createClass($N("component.Tips")),k=a.Browser.ie()-0<=8;g.mix(j,h,{_cssClass:{baseclass:{cls:"nui-tips",tpl:'<div class="#{compclass}">#{_hasIcon}<span class="nui-tips-text">#{text}</span></div>',_hasIcon:{cls:"",tpl:'<span class="nui-tips-icon">#{icon}</span>'}},subclass:{normalTips:{cls:"nui-normalTips"},frameTips:{cls:"nui-frameTips",tpl:'<div aria-live="polite" aria-atomic="true" class="#{compclass}">#{_hasIcon}<span class="nui-tips-text">#{text}</span></div>'}}},_listeners:[{name:"destroy",handler:function(){var a=this;j.frameTips===a&&(clearTimeout(j.timer),j.frameTips=null)},type:"custom"}],forbidLoading:!1,show:d,loading:b,module:e,_frameTipsDestroy:c,timer:null,frameTips:null,loadingTips:null,xtype:"tips"},{_getData:f})}($,window),function(a){function b(a){var b=this;f.superClass.initialize.call(b,a),a.hidden&&b.getEl().hide()}function c(a){var b,c=this,d={params:[]};if(a.path){var e='<span class="nui-title-split">'+(a.path.split||"&gt;")+"</span>",f=a.path.items;b=c._batch(f||[],"html").join(e)+e,d.path=b}return a.tips&&(d.tips=a.tips,d.params.push("hasTips")),a.extItems&&(b=c._batch(a.extItems||[],"html").join(""),d.ext=b,d.params.push("hasExt")),a.text&&(d.text=a.text,d.params.push("hasText")),d}var d=a.Object,e=a.getClass("netease.mail.component.Component"),f=a.createClass($N("component.Title"));d.mix(f,e,{_cssClass:{baseclass:{cls:"nui-title",tpl:'<div class="#{compclass}">#{path}#{hasText}#{hasTips}#{hasExt}</div>',hasTips:{cls:"",tpl:'<span class="nui-title-tips nui-txt-tips">#{tips}</span>'},hasExt:{cls:"",tpl:'<div class="nui-title-ext">#{ext}</div>'},hasText:{cls:"",tpl:'<h1 class="nui-title-text">#{text}</h1>'}}},xtype:"title"},{initialize:b,_getData:c})}($,window),function(a){function b(a){for(var b=this,c=[],d=[],e={},f=0,g=a.groups.length;g>f;f++){var h=a.groups[f],i='<div class="nui-toolbar-item"'+(h.hidden?' style="display:none"':"")+">"+b._batch(h.items||[],"html").join("")+"</div>";"ext"===h.type?d.push(i):c.push(i)}return e.text=d.length>0?c.join("")+'<div class="nui-toolbar-ext">'+d.join("")+"</div>":c.join(""),e}var c=a.Object,d=a.getClass("netease.mail.component.Component"),e=a.createClass($N("component.Toolbar"));c.mix(e,d,{_cssClass:{baseclass:{cls:"nui-toolbar",tpl:'<div role="toolbar" class="#{compclass}">#{text}</div>'}},xtype:"toolbar"},{_getData:b})}($,window),function(a,b){function c(a){try{}catch(b){return b}var c=this;if(!m){try{var d=$L("support.AddressSupport",this)}catch(e){return e}m=d}t.superClass.initialize.call(c,a)}function d(){var a=s.getItem(this);t.show(a)}function e(){var a=s.getItem(this);t.hide(a)}function f(b){var c=b.rawConfig;(c.address||c.group||c.email)&&(clearTimeout(b.timer),b.timer=setTimeout(function(){b.layer?b.layer.show():b.layer=new j({subclass:"userLayer",userType:c.group?"group":"contact",params:"arrUp",vip:c.vip,yixin:c.yixin,contact:c.contact,mobile:c.mobile,value:c.group?c.group:b.value||new q(c.address,c.name),renderTo:s.getScrollParent(b.getEl().dom),pointTo:b.getEl().dom,listeners:{mouseout:{handler:function(){a.Event.isMouseout(b.layer.getEl().dom)&&t.hide(b)}},mouseover:{handler:function(){a.Event.isMouseover(b.layer.getEl().dom)&&t.show(b)}}}}),s.setEvents()},b.timeout))}function g(a){clearTimeout(a.timer),a.layer&&(a.timer=setTimeout(function(){a.layer.hide()},a.timeout))}function h(){var a=this,b=a.rawConfig,c=a._getData(b);return['<span id="',a.domId,'" class="nui-user ',b.extcls||"",'" title="',c.title,'">',c.icon,c.name,"</span>"].join("")}function i(b){var c=this,d=b.email||b,e={address:d.address,defaultName:d.defaultName,domain:d.domain,name:d.name},f="2"==a.Ud.get({field:"ntes_option",flag:"sendershow"});if(f||!e.name){var g=m.getName(e);g&&(e.defaultName=e.name=g)}else e.name&&(e.name=e.name.replace(/^[+|-]/,""));b.name=e.name||e.defaultName||n.t("未命名"),b.address=e.address,c.value=e,c.value.name=p.escapeHTML(b.name),c.value.address=p.escapeHTML(e.address||"");var h={name:c.value.name||"",title:b.title||""};try{var i=a.String.trim(b.address||e.address);if(!$S("isCorp")){var j=l;b.vip=j.checkVip(i),b.mobile=j.checkMobile(i)}if(b.contact)h.icon=c._getChildHtml({xtype:"icon",type:"user",subtype:"marked",title:n.t("星标联系人")});else if(b.vip)h.icon=c._getChildHtml({xtype:"icon",type:"user",subtype:"vip",title:n.t("VIP用户")});else if(b.yixin&&"0"==a.Ud.get({field:"huodong_option",flag:"yixinWeb"})){h.icon=c._getChildHtml({xtype:"icon",type:"user",subtype:"yixin",title:n.t("易信用户")});try{r.cache({mbox_yixin_ul_icon_show:1},function(a,b){a.value=(+a.value||0)+ +b})}catch(k){}if(b.mobile)try{r.cache({mbox_yixin_mobile_ul_icon_show:1},function(a,b){a.value=(+a.value||0)+ +b})}catch(k){}}else if(b.mobile){h.icon=c._getChildHtml({xtype:"icon",type:"user",subtype:"shouji",title:n.t("手机号码邮箱")});try{r.cache({mbox_mobile_ul_icon_show:1},function(a,b){a.value=(+a.value||0)+ +b})}catch(k){}}else if(b.plus){h.icon=c._getChildHtml({xtype:"icon",type:"newplusSmall",title:n.t("网易邮箱PLUS会员")});try{r.cache({mbox_plus_ul_icon_show:1},function(a,b){a.value=(+a.value||0)+ +b})}catch(k){}}}catch(o){}return h}try{var j=$L("component.Layer")}catch(k){return k}try{var l=$L("util.Email")}catch(k){return k}var m,n=new $I18N("component.UserLabel"),o=a.Object,p=a.String,q=a.Email||b.Email,r=a.Log||b.Log,s=a.getClass("netease.mail.component.Component"),t=a.createClass($N("component.UserLabel"));o.mix(t,s,{_cssClass:{baseclass:{cls:"nui-user",tpl:'<span class="#{compclass}" title="#{title}">#{icon}#{name}</span>'}},xtype:"userlabel",_listeners:[{name:"mouseover",handler:d},{name:"mouseout",handler:e},{name:"destroy",handler:function(){var a=this;a.layer&&(a.layer.destroy(),a.layer=null,delete a.layer)},type:"custom"}],show:f,hide:g},{initialize:c,timeout:400,layer:null,html:h,_getData:i})}($,window),function(a){function b(a){var b=this;h.superClass.initialize.call(b,a),a.hidden&&b.getEl().hide()}function c(a){var b=this,c={text:"<span>"+a.text+"</span>",img:'<img src="'+a.img+'" width="140" height="84" />'};return c.cls=b.getModeClass(a.mode),c}function d(a){var b=this;if(b.rawConfig.mode!=a){b.rawConfig.mode=a;var c=b.getModeClass(a),d=b.getEl();d.setClass("item "+c)}}function e(a){var b;return b="fixed"==a?"item-disable":"drag"==a?"item-editable-drag":"new"==a?"item-editable-drag":"item-editable"}var f=a.Object,g=a.getClass("netease.mail.component.Component"),h=a.createClass($N("component.WelcomeItem"));f.mix(h,g,{_cssClass:{baseclass:{cls:"item",tpl:'<div class="item #{cls}" ><div class="preview">#{img}</div><div class="name"><div class="name-bg"></div><div class="name-txt">#{text}<span class="remark"></span></div><span class="opt"></span></div><div class="status"><b class="gWel-ico gWel-ico-right"></b></div></div>'}},_listeners:[{name:"mousedown",handler:function(b){var c=this;g.getItem(c),a.Event.getTarget(b);var d=a.Event.get(b);3===d.which}},{name:"render",handler:function(){var a=this;a.rawConfig},type:"custom"},{name:"afterRender",handler:function(){var b=this,c=b.getEl();b.rawConfig,c.find("IMG").listen("mousedown",function(){a.Event.cancel()})},type:"custom"}],xtype:"welcomeitem"},{initialize:b,setMode:d,getModeClass:e,_getData:c})}($,window),function(a,b){function c(){m.superClass.initialize.apply(this,arguments);var a=$G.get("frameaseListeners");if(a)for(var b in a)this.listener.listen(b,a[b])}function d(b){var c=this,d=arguments;if(b instanceof k)return d.callee.call(c,b._var),void 0;var e=this.reqModule,f=this.find(e),g=this.get(b.module,b.param,b.useParam);try{try{var h=$L("support.Performance",this)}catch(i){return i}h.measure("start",+new Date,{"var":b,oFrom:f})}catch(j){}if(!b.parent){var l="exit"in b;b.exit=l?b.exit:!1,f&&b.module&&!b.fromTabClick&&b.record!==!1?g&&g.name==f.name?(b.exit=l?b.exit:!0,b.cacheModule="cacheModule"in b?b.cacheModule:f.cacheDom):(b.cacheDom="cacheDom"in b?b.cacheDom:g?g.cacheDom:!0,b.cacheModule="cacheModule"in b?b.cacheModule:g?g.cacheModule:!0):f&&(b.fromTabClick||b.record===!1)&&(b.cacheModule=!0,b.fromTabClick&&(b.cacheDom=!0))}b.parent&&(b.record=!1),a.Browser.edge&&a.Browser.edge()&&(b.record=!1);var n=b.call;b.call=function(a){n&&n(a)},m.superClass.go.call(this,b)}function e(b){m.superClass.renderInit.call(this,b),a.Component.setEvents(5)}function f(){return this.modules,m.superClass.get.apply(this,arguments)}function g(b){if(b.listener&&b.listener._listeners){var c=b.listener._listeners;for(var d in c){var e=c[d].handler;a.Listener.unlisten(d,e)}}m.superClass.remove.call(this,b)}function h(){m.superClass.render.apply(this,arguments)}function i(b){var c={};return a.Object.extend(c,this._event),a.Object.extend(c,b),this._event=c,c}function j(){m.superClass.createContainer.apply(this,arguments)}var k=b.netease.mail.framease.ModuleClass,l=b.netease.mail.base,m=l.createClass($N("framease.Js6"));l.Object.inherit(m,b.netease.mail.framease.ModuleManager,{initialize:c,go:d,remove:g,render:h,renderInit:e,get:f,getEventObject:i,createContainer:j,css:{}})}($,window),$G.set("frameaseListeners",{afterGo:function(a){function b(a,b){var c,d;a.view&&(a.view.navConf||a.view.getNavConf)&&(c=a.view.navConf||a.view.getNavConf(!0)),b&&b.view&&(b.view.navConf||b.view.getNavConf)&&(d=b.view.navConf||b.view.getNavConf(!0)),c?d&&d.tree==c.tree||$.Nav.init(c):d&&$.Nav.init(c),$.Nav.getModule(a)}try{var c,d=a.target,e=a.fromModule,f=a["var"];if(f.parent)return d.css&&(c=d.css.split(","),$.Array.each(c,function(a,b){$.Support.loadStyleSheet(b)})),void 0;$.Context.module=d,d._child&&(d._child._parent=d,d._child._var.parent&&(d._child._var.parent=d),$.SM.hideAll(d._child),$.SM.show(d._child));var g={};$.Object.extend(g,f),g.notFireClick=!0;try{$.MultiTab.add(g)}catch(h){}try{$.Thread.delay($.Function.bind(function(a){if(a&&!$.MultiTab.exist(a)&&$.Context.module!=a){var b=3==$.Ud.get({field:"ntes_option",flag:"useTab"});a._frameCtrlNoDelete||b||$.JS.remove(a)}},this,e),1e3)}catch(i){}try{if(e){var j=e.name;j&&j!=d.name&&$.Ext.useTab&&(e&&$.MultiTab.exist(e)&&(e.switchOut(),"standard"===$G.mailPattern.currentPattern&&e.mtype===$.Context.defaultModule&&$.Support.hideNewGuide()),$.MultiTab.exist(d)&&d.switchIn())}}catch(h){}d.css&&(c=d.css.split(","),$.Array.each(c,function(a,b){$.Support.loadStyleSheet(b)})),b(d,e),"mbox.ListModule"==d.mtype?$.Support.pluginMailboxPromote():$.Support.pluginMailboxPromote(!0)}catch(h){}},beforeGo:function(a){var b=a.target,c=a["var"];if(c.parent){var d=c.parent.name||c.parent;d!=$.JS.reqModule&&$.JS.go($.JS.find(d))}c.parent||(c.param&&c.param.fullScreen||b.fullScreen?$.Frame.fullScreen("hfull"):($.Frame.fullScreen(null,!!b.getData),b.getData&&(b.__delayShowNav__=!0)))},beforeRender:function(a){var b=a.target,c=b._var,d="";b&&b.getModuleClass?d=b.getModuleClass():b.constructor.cls&&(d=b.constructor.cls),d+=" frame-main",(c.param&&c.param.fullScreen||b.fullScreen)&&(d+=" frame-main-noNav"),$(b.container).addClass(d),b.container.setAttribute("role","main");var e="";b&&b.ariaLabel?e=b.ariaLabel():b.constructor.ariaLabel&&(e=b.constructor.ariaLabel),b.container.setAttribute("aria-label",e),b.__delayShowNav__&&$.fly("#dvNavContainer").show(),$.Event.listen(b.container,"focus",$.Function.bind(b.onFocus,b)),$.Frame.setViewType(null,b,c)},afterRender:function(a){try{try{var b=$L("support.Performance",this)}catch(c){return c}b.measure("end",+new Date,a)}catch(d){}a.target&&a.target.onAfterRender&&a.target.onAfterRender()},beforeRemove:function(a){a.target&&a.target.onBeforeRemove&&a.target.onBeforeRemove()},afterRemove:function(){},beforeCache:function(a){var b=a.target,c=b._var;b.__delayShowNav__&&$.fly("#dvNavContainer").show(),$.Frame.setViewType(null,b,c)},afterCache:function(){}}),function(a,b,c){var d=new $I18N("config.Const");a.S_OK="S_OK",a.S_PARTIAL_OK="S_PARTIAL_OK",a.EMAIL_ADDRESS="EMAIL;type=INTERNET;type=pref",a.EMAIL_ID="CID",a.EMAIL_PHONE="TEL;type=CELL;type=VOICE;type=pref",a.READ_FONT=[[d.t("默认"),"inherit"],[d.t("宋体"),"simsun"],[d.t("黑体"),"simhei"],[d.t("楷体"),"KaiTi_GB2312,KaiTi"],[d.t("隶书")],[d.t("幼圆")],[d.t("微软雅黑"),"Microsoft Yahei"],["Arial"],["Arial Black"],["Comic Sans MS"],["Courier"],["System"],["Times New Roman"],["Verdana"],["Georgia"]],a.LETTERFLAG=["",d.t("红旗"),d.t("绿旗"),d.t("橙旗"),d.t("蓝旗"),d.t("粉旗"),d.t("青旗"),d.t("黄旗"),d.t("紫旗"),"","","","","","",d.t("灰旗")],a.EXTLIMIT=".uu.pif.scr.mim.hqx.bhx.cmd.vbs.bat.com.vbe.vb.js.wsh.",a.ADDR_LOCAL_KEY="NTES_MAIL_CONTACT",a.ADDR_CLONE_LIST=["163.com","126.com","188.com","vip.163.com","vip.126.com","yeah.net","21cn.com","vip.tom.com","tom.com","vip.sina.com","sina.com","sohu.com","139.com","qq.com","vip.qq.com","gmail.com","foxmail.com"],a.ADDR_IM_TITLE={popo:"POPO",qq:"QQ",msn:"MSN",googletalk:"GoogleTalk",aim:"AIM",skype:"Skype",icq:"ICQ",yahoo:d.t("雅虎通"),uc:d.t("新浪UC"),jabber:"Jabber",facebook:"Facebook",other:d.t("其他")},a.ADDR_MEMORIAL_DAY={marry:d.t("结婚纪念"),know:d.t("相识纪念"),anniversary:d.t("周年纪念"),other:d.t("其他")},a.ADDR_COUNTRY=[{value:"AU",name:d.t("澳大利亚")},{value:"OS",name:d.t("奥地利")},{value:"BW",name:d.t("孟加拉国")},{value:"BX",name:d.t("比利时")},{value:"BZ",name:d.t("巴西")},{value:"CN",name:d.t("加拿大")},{value:"CH",name:d.t("智利")},{value:"CI",name:d.t("中国")},{value:"CO",name:d.t("哥伦比亚")},{value:"CS",name:d.t("哥斯达黎加")},{value:"CU",name:d.t("古巴")},{value:"CZ",name:d.t("捷克")},{value:"DN",name:d.t("丹麦")},{value:"EG",name:d.t("埃及")},{value:"FR",name:d.t("法国")},{value:"DL",name:d.t("德国")},{value:"GR",name:d.t("希腊")},{value:"HK",name:d.t("香港")},{value:"HU",name:d.t("匈牙利")},{value:"IN",name:d.t("印度")},{value:"ID",name:d.t("印度尼西亚")},{value:"IE",name:d.t("爱尔兰")},{value:"IS",name:d.t("以色列")},{value:"IY",name:d.t("意大利")},{value:"JP",name:d.t("日本")},{value:"KW",name:d.t("科威特")},{value:"LX",name:d.t("卢森堡")},{value:"MU",name:d.t("澳门")},{value:"MS",name:d.t("马来西亚")},{value:"MX",name:d.t("墨西哥")},{value:"MO",name:d.t("蒙古")},{value:"NP",name:d.t("尼泊尔")},{value:"NL",name:d.t("荷兰")},{value:"NZ",name:d.t("新西兰")},{value:"NI",name:d.t("尼日利亚")},{value:"KR",name:d.t("朝鲜")},{value:"NO",name:d.t("挪威")},{value:"PK",name:d.t("巴基斯坦")},{value:"NG",name:d.t("巴布亚新几内亚")},{value:"PH",name:d.t("菲律宾")},{value:"PL",name:d.t("波兰")},{value:"PO",name:d.t("葡萄牙")},{value:"RO",name:d.t("罗马尼亚")},{value:"RS",name:d.t("俄罗斯")},{value:"SR",name:d.t("新加坡")},{value:"ZA",name:d.t("南非")},{value:"KO",name:d.t("韩国")},{value:"SP",name:d.t("西班牙")},{value:"SN",name:d.t("瑞典")},{value:"SW",name:d.t("瑞士")},{value:"TW",name:d.t("台湾")},{value:"TH",name:d.t("泰国")},{value:"TU",name:d.t("土耳其")},{value:"ER",name:d.t("阿拉伯联合酋长国")},{value:"UK",name:d.t("英国")},{value:"US",name:d.t("美国")},{value:"VN",name:d.t("委内瑞拉")},{value:"VS",name:d.t("越南")},{name:d.t("中国香港"),value:"HK"},{name:d.t("中国澳门"),value:"MU"},{name:d.t("中国台湾"),value:"TW"},{name:d.t("中国台湾省"),value:"TW"},{name:d.t("孟加拉"),value:"BW"},{name:d.t("印尼"),value:"ID"},{name:d.t("阿拉伯"),value:"ER"}],a.READ_ENCODE=[[d.t("自动选择(Default)"),c],[d.t("简体中文(GB2312)"),"GB2312"],[d.t("繁体中文(Big5)"),"Big5"],["Unicode(UTF-8)","UTF-8"],[d.t("西欧(ISO-8859-1)"),"ISO-8859-1"],[d.t("日文(EUC-JP)"),"EUC-JP"],[d.t("日文(Shift-JIS)"),"Shift_JIS"],[d.t("韩文(ISO-2022-KR)"),"ISO-2022-KR"]],a.LOGIN_PRODUCT={163:d.t("网易首页"),"360buy":d.t("京东商城"),alumni:d.t("网易同学录"),avatar:d.t("泡泡秀商城"),bbs:d.t("网易论坛"),bbtf:d.t("百变金刚"),bill:d.t("计费"),blog:d.t("网易博客"),cbg:d.t("藏宝阁"),cc:d.t("网易语音"),ch:d.t("战国风云"),club:d.t("网易社区"),content:d.t("网易网站"),crm:d.t("客服系统"),csa:d.t("客服专区"),csxy:d.t("创世西游"),cwwg:d.t("宠物王国"),dream:d.t("梦幻人生"),dt:d.t("大唐豪侠"),dt_dj:d.t("大唐1道具版"),dtws:d.t("大唐无双"),ecard:d.t("点卡"),ekeysales:d.t("将军令销售系统"),epay:d.t("网易宝"),ewallet:d.t("网易宝"),ff:d.t("飞飞"),flashmail:d.t("闪电邮"),game:d.t("三国世界"),gamebbs:d.t("游戏论坛"),gamedc:d.t("游戏产品数据中心"),gamesales:d.t("游戏推广"),gps:d.t("周边商城"),itown:d.t("天空之城"),job:d.t("网易招聘"),love:d.t("交友"),mail:d.t("wap邮箱"),mail126:d.t("126邮箱"),mail126_aqs:d.t("126邮箱"),mail126_aqxs:d.t("126邮箱"),mail126_mmbh:d.t("126邮箱"),mail163:d.t("163邮箱"),mail163_aqs:d.t("163邮箱"),mail163_aqxs:d.t("163邮箱"),mail163_mmbh:d.t("163邮箱"),mail188:d.t("188邮箱"),mailvip:d.t("vip邮箱"),mailyeah:d.t("yeah邮箱"),mailyeah_aqs:d.t("yeah邮箱"),mailyeah_aqxs:d.t("yeah邮箱"),mailyeah_mmbh:d.t("yeah邮箱"),mf:d.t("魔法火枪团"),mm:d.t("非常男女"),mobilemail:d.t("手机邮"),newff:d.t("新飞飞"),photo:d.t("相册"),pointcard:d.t("点卡"),popo:d.t("网易泡泡"),popogame:d.t("泡泡游戏"),popomail:d.t("泡泡收邮件"),qn:d.t("倩女幽魂"),search:d.t("有道搜索"),sg:d.t("易三国"),sgtx_web:d.t("三国天下"),sms:d.t("无线"),smsblog:d.t("移动博客"),smsdating:d.t("同城约会"),smsgw:d.t("手机密码保护"),smshoney:d.t("野蛮女生"),spg:d.t("网络小程序"),t:d.t("微博"),tj:d.t("爱之屋"),tx2:d.t("天下贰"),urs:d.t("网易通行证"),xy2:d.t("大话西游2"),xy3:d.t("大话西游3"),xy3wz:d.t("大话西游3外传"),xyc:d.t("卡牌对决"),xyq:d.t("梦幻西游"),xyw:d.t("大话西游外传"),yihaodian:d.t("1号店商城"),yuehui:d.t("网易约会"),pop3:"POP3"},a.LOGIN_PROVINCE={shd:d.t("山东省"),guz:d.t("贵州省"),jix:d.t("江西省"),chq:d.t("重庆市"),nmg:d.t("内蒙古"),hub:d.t("湖北省"),lin:d.t("辽宁省"),hun:d.t("湖南省"),jil:d.t("吉林省"),fuj:d.t("福建省"),shh:d.t("上海市"),bej:d.t("北京市"),gux:d.t("广西"),gud:d.t("广东省"),sic:d.t("四川省"),han:d.t("海南省"),yun:d.t("云南省"),anh:d.t("安徽省"),jis:d.t("江苏省"),zhj:d.t("浙江省"),qih:d.t("青海省"),nix:d.t("宁夏"),hlj:d.t("黑龙江省"),tij:d.t("天津市"),sxi:d.t("陕西省"),gas:d.t("甘肃省"),xij:d.t("新疆"),hen:d.t("河南省"),heb:d.t("河北省"),shx:d.t("山西省"),xiz:d.t("西藏")},a.COMPOSE_PRIORITY=[d.t("紧急")],a.HOLIDAY=[{start:"09-19",end:"09-21",name:d.t("中秋节")},{start:"10-01",end:"10-07",name:d.t("国庆节")},{start:"12-30",end:"01-01",name:d.t("元旦")}]}($,window),$G.set("customEvents",{"compose:send":function(){},"compose:imageUpload":function(){},"sync:request":function(){},"sync:cache":function(){},"sync:health":function(){},"folder:add":function(){},"folder:modify":function(){},"folder:remove":function(){},"folder:empty":function(){},"folder:update":function(){},"folder:keep":function(){},"tag:add":function(){},"tag:modify":function(){},"tag:remove":function(){},"tag:setshow":function(){},"search:removeall":function(){},"letter:update":function(){},"letter:rollback":function(){},"letter:allread":function(){},"letter:setspam":function(){},"letter:setfilter":function(){},"letter:setfilterrule":function(){},"letter:schedule":function(){},"letter:closead":function(){},"read:recall":function(){},"read:wmsvrDelete":function(){},"read:mailStatusUpdate":function(){},"addr:dataInit":function(){},"addr:dataReset":function(){},"addr:dataMark":function(){},"global:uidChanged":function(){},"global:resize":function(){},"accountRelate:getCount":function(){},"accountRelate:unRelate":function(){},"accountRelate:add":function(){},"rslist:add":function(){},"option:entry":function(){},"options:modify":function(){},"options:inboxModify":function(){},"options:composeModify":function(){},"options:readModify":function(){},"options:contactModify":function(){},"options:personalModify":function(){},"options:skinChange":function(){},"options:ecardModify":function(){},"options:signModify":function(){},"options:displayNameModify":function(){},"options:nonEssentialNameModify":function(){},"options:autoPostModify":function(){},"welcome:setting":function(){},"mailcenter:del":function(){},"mailcenter:verify":function(){},"mailcenter:add":function(){},"mailcenter:update":function(){},"schedule:list":function(){},"schedule:insert":function(){},"schedule:remove":function(){},"clubsign:sign":function(){},"tab:modify":function(){},"tab:reset":function(){},"global:navchange":function(){},"global:showpopup":function(){},"global:sweeplogout":function(){},"zoom:changed":function(){},"user:avatarChanged":function(){},"plugin:mailmaster_photouploader_loaded":function(){},"appmanager:modify":function(){},"msgcenter:init":function(){},"appcenter:init":function(){},"ad:dataChange":function(){}}),function(a){var b,c=a.String,d=a.Loader,e=d.loaderConf,f=d.isDebug;d.loaderConf=f?{call:function(a,b,d){var f=e.call(a,b,d);return c.has(b,$N("component.editor"))||c.has(b,$N("component.contact"))||c.has(b,$N("component.emailinput"))?(a="//mimg.127.net/p/common/develop/",f=e.call(a,b,d)):$G.mailPattern[$G.mailPattern.currentPattern][$RN(b)]&&(a=$G.environment.cacheRootPath+"pattern/"+$G.mailPattern.currentPattern+"/js/",f=e.call(a,b,d)),f}}:{call:function(a,d,f){var g=e.call(a,d,f);if($G.mailPattern[$G.mailPattern.currentPattern][$RN(d)]){var h=$G.environment.cacheRootPath+"pattern/"+$G.mailPattern.currentPattern+"/js/";g=e.call(h,d,f)}if("standard"!==$G.mailPattern.currentPattern)return c.has(d,$N("component.editor"))?(b=a+"lib/",g=e.call(b,$N("editor"),f)):(c.has(d,$N("component.emailinput"))||c.has(d,$N("component.contact")))&&(b=a+"lib/",g=e.call(b,$N("otherCommon"),f)),g;if(c.has(d,$N("module.contact")))g=e.call(a,$N("module.contact.Contact"),f);else if(c.has(d,$N("module.apps")));else if(c.has(d,$N("module.thread")))g=e.call(a,$N("module.thread.Thread"),f);else{if(d==$N("module.options.RecommendSignlist"))return g;c.has(d,$N("module.options"))?g=d==$N("module.options.BaseOptionModule")||d==$N("module.options.BaseOptionView")||d==$N("module.options.BaseOptionAction")||d==$N("module.options.NavConf")||d==$N("module.options.BaseSection")?e.call(a,$N("module.options.Base"),f):c.has(d,$N("module.options.MailFilter"))?e.call(a,$N("module.options.MailFilter"),f):c.has(d,$N("module.options.BaseSet"))?e.call(a,$N("module.options.BaseSet"),f):c.has(d,$N("module.options.AccountCenter"))?e.call(a,$N("module.options.AccountCenter"),f):c.has(d,$N("module.options.AntiSpam"))||c.has(d,$N("module.options.BaseListSection"))||c.has(d,$N("module.options.SectionRefuseList"))||c.has(d,$N("module.options.SectionSafeList"))?e.call(a,$N("module.options.AntiSpam"),f):e.call(a,$N("module.options.Options"),f):c.has(d,$N("component.editor"))?(b=a+"lib/",g=e.call(b,$N("editor"),f)):(c.has(d,$N("component.emailinput"))||c.has(d,$N("component.contact")))&&(b=a+"lib/",g=e.call(b,$N("otherCommon"),f))}return g}}}($,window),function(){var a=new $I18N("config.Uri");$G.set("uriConf",{all:{safeBrowsing:["//$fullDomain$/safebrowsing/urlcheck/check.do",a.t("安全浏览url")],credits_info:["https://$host$/app/jifen/js6_jifen.jsp?hl=$hl$",a.t("积分信息")],address_clone_gmail:["http://alist2.mail.163.com/alist2/gmailimport.jsp?sid=$sid$&uid=$uid$&host=$host$"],address_sysc_help:["http://mail.163.com/html/110825_sync/?from=js6&domain=$domain$"],compose_club:["//club.$fullDomain$/privilege/func.do"],compose_upload_url:["//$host$/js6/compose/upload.jsp?sid=$sid$"],compose_batch_delete_url:["https://$fullDomain$/filehub/bg/file"],compose_upload_swf:["//$host$/js6/flash/v1/FileSplitUploader.swf"],compose_upload_fix_swf:["//$host$/js6/flash/v1/FileUploader.swf"],compose_attach:["//$host$/js6/compose/attach.jsp?type=photo&sid=$sid$"],compose_attach_icon:["//mimg.127.net/xm/all/fj/ico-bfile-"],compose_attach_super:["//fs.163.com/fs/service/?"],compose_attach_plugin:["https://download.mail.126.net/mailassist/mailassist.xpi"],compose_attach_firefox:["https://download.mail.126.net/mailassist/mailassist_np.xpi"],compose_attach_chrome:["https://download.mail.126.net/mailassist/mailassist.crx"],compose_attach_chrome21:["https://chrome.google.com/webstore/detail/oanccpnpelojggkdnnifnhlnpdklionk"],compose_attach_chrome21_setup:["http://mail.163.com/html/webmail/plusin/setup_forchrome.htm"],compose_attach_chrome_capture:["https://chrome.google.com/webstore/detail/jmhbgmmcnagjjihogbfmghlfegaidcfj"],compose_attach_setup:["//$host$/js6/compose/setup.jsp"],compose_attach_fakeurl:["//$host$/app/api/fakeurl.jsp?sid=$sid$"],compose_attach_mobile:["//imagemupload.$fullDomain$"],compose_attach_mobile_mailmaster:["http://mail.163.com/client/dl.html?from=mail59"],compose_attach_mobile_help1:["https://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac2cbbea25a4807ddc5"],compose_attach_mobile_help2:["https://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac2cbbea25a4807ddc5"],compose_attach_mac_plugin:["http://wisp.dl.126.net/wisp/legacy/webmail/latest-mac-general.dmg"],compose_attach_mac_firefox:["http://wisp.dl.126.net/wisp/legacy/webmail/latest-mac-firefox.xpi"],compose_get_data:["//$host$/js6/s?func=mbox:getComposeData&sid=$sid$"],compose_typo:["//$host$/spell/typo.service"],compose_typo_2:["//agw.$fullDomain$/apigate/ai/writing/correct?ver=0"],letterpaper_tips:["//config.$fullDomain$/letterpaper/getTips.do"],letterpaper_set:["//config.$fullDomain$/letterpaper/pageLetterPaper.do"],letterpaper_create:["//config.$fullDomain$/letterpaper/createLetterPaper.do"],letterpaper_default:["//config.$fullDomain$/letterpaper/getDefaultLetterPaper.do"],compose_preview:["//$host$/js6/compose/preview.jsp"],notary_info:["//notary.$fullDomain$/vipnotaryapp/queryUserInfo.m"],compose_graphsign:["http://my.$fullDomain$/getUserCardList.m"],compose_stamp_get:["//stamp.$fullDomain$/mailstamp/stamp/getStamp.do?userName=$uid$&gui=2012"],compose_notary_sign:["//notary.$fullDomain$/vipnotaryapp/notarysign.m"],compose_notary_suc:["//notary.$fullDomain$/vipnotaryapp/html/sendSuc.html"],compose_notary_single:["//notary.$fullDomain$/vipnotaryapp/singleNotary.m"],compose_avmail_swf:["//$host$/js6/h/avmail2.swf"],video_swf:["//$host$/js6/h/videomailplayer.swf"],audio_swf:["//$host$/js6/h/audiomailplayer.swf"],file_center:["//$host$/app/filecenter/index.jsp?hl=$hl$",a.t("文件中心")],nf_center:["//$host$/app/filecenter/index.jsp?hl=$hl$",a.t("网盘")],photo_center:["http://album.$fullDomain$/album/index.jsp",a.t("网易相册")],image_attach:["//$host$/app/filecenter/index.jsp?hl=$hl$#list/waterfall",a.t("附件图集")],accountRelate:["//reg.163.com/services/accountRelateChg"],getRelateAccount:["//reg.163.com/services/getRelateAccountForWeb"],option_lock:["//advlock.$fullDomain$/advlock/Login.do?username=$uid$&style=js5",a.t("安全锁设置")],setadvlock:["//advlock.$fullDomain$/advlock/Login.do?username=$uid$&style=js5",a.t("安全锁设置")],resetadvlock:["//advlock.$fullDomain$/advlock/Login.do?username=$uid$&style=js5&rspindex=",a.t("安全锁设置")],logout:["//$host$/js6/logout.jsp?sid=$sid$&uid=$uid$"],club:["http://club.mail.$domain$/jifen/internal.do",a.t("邮箱俱乐部")],stamp_album:["http://stamp.$fullDomain$/mailstamp/stamp/showAlbum.do?userName=$uid$&from=stampCenter",a.t("集邮中心")],sms:["//dxyy.$fullDomain$/smspack/userconf/index.do?from=shoujifuwu&hl=$hl$"],myblog:["http://blog.$fullDomain$/apps/notebook/mailnote.do?username=$uid$&email=$uid$",a.t("记事本")],cards_read:["http://postcard.$fullDomain$/mailcards/send.do",a.t("贺卡")],assist:["http://mimg.$domain$/assist/index.htm?from=1",a.t("百宝箱")],lab:["//lab.$fullDomain$/labweb/lab.do?m=lab&keyfrom=jisu_new.index",a.t("实验室")],reader:["//yuedu.163.com/mysubs.do"],name_card_new:["//ecard.$fullDomain$/ecard/new.do",a.t("电子名片")],name_card_edit:["//ecard.$fullDomain$/ecard/edit.do",a.t("电子名片")],name_card:["//ecard.$fullDomain$/ecard/index.do?onerr=errorPage&from=service",a.t("电子名片")],mobile:["//security.$fullDomain$/mobileserv/verifyInfo.do?hl=$hl$",a.t("手机服务")],read_data:["//$host$/js6/read/readdata.jsp?sid=$sid$"],read_pic:["//$host$/js6/read/readpic.jsp?sid=$sid$"],read_thumbnail:["//picmk.$fullDomain$/photoview/CoremailServlet?sid=$sid$&mailHost=$domain$"],read_decrypt_data:["//$host$/js6/read/decryptdata.jsp?sid=$sid$"],read_decrypt_help:["//help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac29830ec81fe715b2b"],read_pack:["//$host$/js6/read/readpack.jsp?sid=$sid$"],read_head:["//$host$/js6/s?func=mbox:getMessageData&sid=$sid$&mode=text"],read_mail:["//$host$/js6/read/viewmail.jsp?sid=$sid$"],read_trans_provide:["http://fanyi.youdao.com/translate?keyfrom=$domain$"],read_trans:["//sr.mail.163.com/smartresult?sid=$sid$&from=js6"],read_yjzp:["//mail.163.com/html/yjzp/"],read_postcard:["//postcard.$fullDomain$/mailpostcard/send.do",a.t("明信片")],read_courseassist:["//course.mail.163.com/courseassist/ajax/student/verifyURL.do"],read_recall_notary:["//notary.$fullDomain$/vipnotaryapp/recallMail.m?sid=$sid$&username=$uid$"],read_mail_service:["//$host$/msapp/form"],tran_search:["//fanyi.youdao.com/openapi.do?keyfrom=ntesmail&key=1307913387&type=data&doctype=jsonp&version=1.2&q="],tran_var:["http://dict.youdao.com/search?doctype=xml&keyfrom=$product$mail"],tran_noresult:["//www.youdao.com/search?keyfrom=dictajaxnoresult&q="],tran_flash:["//dict.youdao.com/test.nobound.swf?audio="],trans_ad1:["//f.youdao.com/?vendor=163mail.menu"],trans_ad2:["//f.youdao.com/?vendor=163mail.fanyi"],smart_mailtag:["//$host$/mailtag/tag.do?sid=$sid$&mail_uid=$uid$"],smart_mailtag2:["//$host$/mailtag/tag2.do?sid=$sid$&mail_uid=$uid$"],addAccountRelate:["//config.$fullDomain$/multiAccount/mail/relatepage.do",a.t("添加关联邮箱")],addAccountRelateHttps:["https://config.$fullDomain$/multiAccount/mail/relatepage.do",a.t("添加关联邮箱")],addAccountRelateService:["//config.$fullDomain$/multiAccount/service/relateAccount.do?sid=$sid$",a.t("添加关联邮箱")],addAccountRelateHttpsService:["https://config.$fullDomain$/multiAccount/service/relateAccount.do?sid=$sid$",a.t("添加关联邮箱")],unrelateAccount:["//config.$fullDomain$/multiAccount/unrelateAccount.do"],unrelateAccountNew:["//config.$fullDomain$/multiAccount/service/unrelateAccount.do"],setEmphasisAccount:["//config.$fullDomain$/multiAccount/service/chgAccountStatus.do"],setEmphasisAccountHttps:["https://config.$fullDomain$/multiAccount/service/chgAccountStatus.do"],pop3_server:["//popsch.mail.163.com/sch/g.do"],option_pop3:["//$fullDomain$/html/authcode/index.html?hl=$hl$",a.t("客户端设置")],popDelQuery:["//config.$fullDomain$/settings/pop3notify/query.do"],popDelSet:["//config.$fullDomain$/settings/pop3notify/set.do?pop3notifytipsoff=on"],opt_mobileBrowser:["//security.$fullDomain$/mobileserv/verifyInfo.do?hl=$hl$&from=option"],dxyy:["//dxyy.$fullDomain$/smspack/userconf/index.do?hl=$hl$",a.t("短信通知")],opt_iPad:["//mimg.$domain$/optmobilemail/iPad.htm?sid=$sid$&from=option"],opt_mobileStandard:["//mimg.$domain$/optmobilemail/mobileStandard.htm?sid=$sid$&from=option"],option_passwd:["//reg.163.com/setinfo/ChangePwd_1.jsp?noheader=1&product=webmail&username=$uid$",a.t("修改密码")],find_passwd:["//reg.163.com/chg/ShowBaomiInfo.jsp?noheader=1&product=webmail&username=$uid$",a.t("找回密码")],option_security:["http://security.$fullDomain$/msc/in/entry.do",a.t("安全系数")],option_sender_nick:["//config.$fullDomain$/settings/sender/nickname.do?"],option_personal:["//uinfo.mail.163.com/servlet/personal.xsp?url=https://$host$/js6/h/personal.htm&act=get"],music_outlink:["//$host$/js6/project/musicbox/index.jsp",a.t("音乐盒")],weibo:["//buzz.mail.$domain$/signup/passport?keyfrom=mailLaunch",a.t("网易微博")],backurl:["//$host$/app/api/service_backurl.jsp?sid=$sid$&callback="],schedule:["//daily.$fullDomain$/schedulemanager/schedule.do?opt=index",a.t("日程管理")],secondauth:["https://secondauth.$fullDomain$/secondauth/index.jsp?hl=$hl$"],secondauth_api:["https://secondauth.$fullDomain$/secondauth/cmdsvr?cmd=query&type=sms"],recovery:["//$host$/app/recovery/index.jsp?hl=$hl$",a.t("误删恢复")],ynote:["//note.youdao.com/"],firstInWelcome:["//jf.$fullDomain$/apps/welcome/firstInWelcome.m"],urs2city:["//$host$/js6/welcome/urs2city.jsp",a.t("urs地址转pos")],urs_passwd:["https://reg.163.com/setinfo/ChangePwd_1.jsp"],welcome_master:["//mail.163.com/html/150612_master/index.htm"],welcome_duobao:["https://3c.163.com/html/170116_r2ai/index.htm"],welcome_yanxuan:["//you.163.com/act/static/awNkTx0lUa.html"],appsList:["//jf.$domain$/apps/mailapps/callback/listApps.m"],apps_calendar:["http://mimg.$domain$/assist/calendar/index.htm"],apps_calc:["http://mimg.$domain$/assist/computer/jsq_shuxue.htm"],apps_money:["http://money.mail.$domain$/mybill/user.do?method=login"],apps_idiomdict:["http://mimg.$domain$/assist/chengyu/index.htm"],apps_fest:["http://mimg.$domain$/assist/holiday/index.htm"],apps_dynastytable:["http://mimg.$domain$/assist/chaodai/zl_chaodai.htm"],apps_travelguide:["http://163.niuzhu.com/chuguo/index.html?autoheight=true&host=mimg.$domain$"],apps_cookbook:["http://mimg.$domain$/assist/caipu/home.htm"],apps_psychometry:["http://lady.163.com/special/00262MKM/psychological.html?mimg.$domain$"],apps_serialstory:["http://$product$.17k.com/"],apps_constellation:["http://mimg.$domain$/assist/xingzuo/zl_xingzuo.htm"],apps_blog:["http://blog.163.com/"],apps_games:["http://nie.163.com/mailcenter/?game=default&uid=$uid$&host=$host$"],apps_menghuan:["http://nie.163.com/mailcenter/xyq.html?game=xyq&uid=$uid$&host=$host$"],apps_dahua2:["http://nie.163.com/mailcenter/xy2.html?game=xy2&uid=$uid$&host=$host$"],apps_tianxia3:["http://nie.163.com/mailcenter/tx3.html?game=tx3&uid=$uid$&host=$host$"],apps_wushuang:["http://nie.163.com/mailcenter/dt2.html?game=dt2&uid=$uid$&host=$host$"],apps_qiannv:["http://nie.163.com/mailcenter/qn.html?game=qn&uid=$uid$&host=$host$"],apps_wow:["http://nie.163.com/mailcenter/wow.html?game=wow&uid=$uid$&host=$host$"],apps_starcraft:["http://nie.163.com/mailcenter/sc2.html?game=sc2&uid=$uid$&host=$host$"],apps_shop:["http://mall.163.com/promoter/mail.htm"],apps_train:["http://huoche.kuxun.cn/wangyi.html?fromid=Kbbx-S1312061-T1076521&backdomain=mimg.$domain$&host=$host$"],apps_quan:["http://quan.163.com/hui/blue/top.do"],apps_charge:["//mall.163.com/promoter/mail/fill.html"],apps_chexian:["http://baoxian.163.com/car/iframe/mail.html",a.t("保险-车险")],apps_openclass:["http://v.163.com/special/open-for-mail/",a.t("网易公开课")],apps_caipiao:["http://caipiao.163.com/activity/mailapp_index.html",a.t("网易彩票")],apps_baojian:["http://baojian.163.com/mailIframe.html#from=mailapp",a.t("网易保健品")],apps_huihui:["http://www.huihui.cn/minisite/mailapp",a.t("惠惠网")],apps_snake:["http://mail.163.com/html/games/snake/",a.t("贪吃蛇2013")],apps_gentie:["http://tie.163.com/plaza/email/recommend.html",a.t("网易跟贴")],apps_yuehui:["http://yuehui.163.com/?neteaseMail=1",a.t("同城约会")],apps_cai:["http://money.163.com/special/licaiyi_mailpush/",a.t("财易通")],app_xiuxiu:["//xiuxiu.web.meitu.com/app/mail163.html?host=$host$&sid=$sid$",a.t("美图秀秀")],apps_car_counter:["http://baoxian.163.com/car/iframe/mail2.html",a.t("车险计算器")],urs_security_upgrade:["https://id.163.com/gj/"],apps_accounts:["//accounts.$fullDomain$/accounts/index.do?uid=$uid$&host=$host$",a.t("帐号通")],linkedin:["https://$fullDomain$/linkedin/{action}.do?username=$uid$&sid=$sid$&from=web"],login_record:["//$fullDomain$/html/login-record/pc/index.html",a.t("最近登录")],ppt_template:["//$fullDomain$/html/ppt/index.html",a.t("PPT模版")],notary_free_v2:["//notary.$fullDomain$/vipnotaryapp/html/notaryFree.html",a.t("最近登录")],noatry_status:["//notary.$fullDomain$/vipnotaryapp/queryUserInfo.m",a.t("最近登录")],validedImageUrl:["https://${fullDomain}/js6/s?func=mbox:getComposeData"],capacityPage:["//$fullDomain$/html/capacity-detail/index.html",a.t("存储空间")],marketTool:["//mail.163.com/html/mkt-tools/index.html?utm_source=fromcompose",a.t("网易群邮")]}})
}($,window),function(){var a=new $I18N("free.config.Uri");$G.set("uriConf",{"163.com":{compose_sms_help:["https://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac2279f719127a68ac3"],compose_cloud_feedback:["https://zhidao.mail.163.com/zhidao/newsugg.jsp"],compose_cloud_notice:["//$host$/app/h/bigattach.htm"],compose_cloud_help:["https://help.mail.163.com/faq.do?m=list&categoryID=163"],compose_attach_help:["https://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac25128a1e7205d19e7"],compose_update_vip:["https://reg1.vip.163.com/newReg1/?from=new_163qunfa&utm_source=new_163qunfa"],address_help:["https://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac215b05bfdbcc4f67e"],errorpage:["//mail.163.com/errorpage/err_163.htm"],sender_help:["https://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac2c1a50f1b03590258"],related_guide:["https://help.mail.163.com/faq.do?m=list&categoryID=80"],read_recall_help:["https://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac2864428042ebda7d1"],pop3_qqgmail_guide:["https://help.mail.163.com/faq.do?m=list&categoryID=81"],backout:["//config.mail.163.com/settings/withdrawIndex.jsp?hl=$hl$",a.t("邮件撤回")],oauth:["//oauth.mail.163.com/user/tokenlist.jsp?uid=$uid$"],optimizer_full:["//mail.163.com/html/optimizer/main.html?mode=full&hl=$hl$",a.t("优化大师")],optimizer_clean:["//mail.163.com/html/optimizer/main.html?mode=clean&hl=$hl$",a.t("优化大师")],optimizer_unread:["//mail.163.com/html/optimizer/main.html?mode=unread&hl=$hl$",a.t("优化大师")],optimizer_folder:["//mail.163.com/html/optimizer/main.html?mode=folder&hl=$hl$",a.t("优化大师")],optimizer_health:["//mail.163.com/html/optimizer/main.html?mode=health&hl=$hl$",a.t("邮箱健康指数")],optimizer_get:["//config.mail.163.com/optimizer/optimize/get.do?hl=$hl$"],settingwithdraw_query:["//config.mail.163.com/settings/withdraw/query.do?hl=$hl$"],settingwithdraw_set:["//config.mail.163.com/settings/withdraw/set.do?hl=$hl$"],pop3notify_query:["//config.mail.163.com/settings/pop3notify/query.do?hl=$hl$"],optimizer_getdetail:["//config.mail.163.com/optimizer/optimize/getDetail.do?hl=$hl$"],optimizer_check:["//mail.163.com/html/optimizer/main.html?mode=check&hl=$hl$"],vip_upgrade:["https://jf.vip.163.com/apps/upgrade/unauth/index.m?from=fmail163_"],mailfilter_upgrade:["https://reg1.vip.163.com/newReg1/?from=new_fmail163_sort&utm_source=new_fmail163_sort",a.t("来信分类VIP升级")]},"126.com":{compose_cloud_feedback:["https://zhidao.mail.126.com/zhidao/newsugg.jsp#附件"],compose_cloud_notice:["//$host$/app/h/bigattach.htm"],compose_cloud_help:["https://help.mail.163.com/faq.do?m=list&categoryID=163"],compose_attach_help:["https://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac25128a1e7205d19e7"],compose_update_vip:["https://reg1.vip.163.com/newReg1/?from=new_126qunfa&utm_source=new_126qunfa"],address_help:["https://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac215b05bfdbcc4f67e"],errorpage:["//mail.126.com/errorpage/err_126.htm"],sender_help:["https://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac2c1a50f1b03590258"],related_guide:["https://help.mail.163.com/faq.do?m=list&categoryID=80"],read_recall_help:["https://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac2864428042ebda7d1"],pop3_qqgmail_guide:["https://help.mail.163.com/faq.do?m=list&categoryID=81"],backout:["//config.mail.126.com/settings/withdrawIndex.jsp?hl=$hl$",a.t("邮件撤回")],oauth:["//oauth.mail.126.com/user/tokenlist.jsp?uid=$uid$"],optimizer_full:["//mail.126.com/html/optimizer/main.html?mode=full&hl=$hl$",a.t("优化大师")],optimizer_clean:["//mail.126.com/html/optimizer/main.html?mode=clean&hl=$hl$",a.t("优化大师")],optimizer_unread:["//mail.126.com/html/optimizer/main.html?mode=unread&hl=$hl$",a.t("优化大师")],optimizer_folder:["//mail.126.com/html/optimizer/main.html?mode=folder&hl=$hl$",a.t("优化大师")],optimizer_health:["//mail.126.com/html/optimizer/main.html?mode=health&hl=$hl$",a.t("邮箱健康指数")],optimizer_get:["//config.mail.126.com/optimizer/optimize/get.do?hl=$hl$"],settingwithdraw_query:["//config.mail.126.com/settings/withdraw/query.do?hl=$hl$"],settingwithdraw_set:["//config.mail.126.com/settings/withdraw/set.do?hl=$hl$"],pop3notify_query:["//config.mail.126.com/settings/pop3notify/query.do?hl=$hl$"],optimizer_getdetail:["//config.mail.126.com/optimizer/optimize/getDetail.do?hl=$hl$"],optimizer_check:["//mail.126.com/html/optimizer/main.html?mode=check&hl=$hl$"],vip_upgrade:["https://jf.vip.126.com/apps/upgrade/unauth/index.m?from=fmail126_"],mailfilter_upgrade:["https://reg1.vip.163.com/newReg1/?from=new_fmail126_sort&utm_source=new_fmail126_sort",a.t("来信分类VIP升级")]},"yeah.net":{compose_cloud_feedback:["https://zhidao.mail.yeah.net/zhidao/newsugg.jsp#附件"],compose_cloud_notice:["//$host$/app/h/bigattach.htm"],compose_cloud_help:["https://help.mail.163.com/faq.do?m=list&categoryID=163"],compose_attach_help:["https://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac25128a1e7205d19e7"],compose_update_vip:["https://reg1.vip.163.com/newReg1/?from=new_yeahqunfa&utm_source=new_yeahqunfa"],address_help:["https://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac215b05bfdbcc4f67e"],errorpage:["//mail.yeah.net/errorpage/err_yeah.htm"],sender_help:["https://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac2c1a50f1b03590258"],read_recall_help:["https://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac2864428042ebda7d1"],related_guide:["https://help.mail.163.com/faq.do?m=list&categoryID=80"],pop3_qqgmail_guide:["https://help.mail.163.com/faq.do?m=list&categoryID=81"],backout:["//config.mail.yeah.net/settings/withdrawIndex.jsp?hl=$hl$",a.t("邮件撤回")],oauth:["//oauth.mail.yeah.net/user/tokenlist.jsp?uid=$uid$"],optimizer_full:["//mail.yeah.net/html/optimizer/main.html?mode=full&hl=$hl$",a.t("优化大师")],optimizer_clean:["//mail.yeah.net/html/optimizer/main.html?mode=clean&hl=$hl$",a.t("优化大师")],optimizer_unread:["//mail.yeah.net/html/optimizer/main.html?mode=unread&hl=$hl$",a.t("优化大师")],optimizer_folder:["//mail.yeah.net/html/optimizer/main.html?mode=folder&hl=$hl$",a.t("优化大师")],optimizer_health:["//mail.yeah.net/html/optimizer/main.html?mode=health&hl=$hl$",a.t("邮箱健康指数")],optimizer_get:["//config.mail.yeah.net/optimizer/optimize/get.do?hl=$hl$"],settingwithdraw_query:["//config.mail.yeah.net/settings/withdraw/query.do?hl=$hl$"],settingwithdraw_set:["//config.mail.yeah.net/settings/withdraw/set.do?hl=$hl$"],pop3notify_query:["//config.mail.yeah.net/settings/pop3notify/query.do?hl=$hl$"],optimizer_getdetail:["//config.mail.yeah.net/optimizer/optimize/getDetail.do?hl=$hl$"],optimizer_check:["//mail.yeah.net/html/optimizer/main.html?mode=check&hl=$hl$"],vip_upgrade:["https://jf.vip.163.com/apps/upgrade/unauth/index.m?from=fmailyeah_"],mailfilter_upgrade:["https://reg1.vip.163.com/newReg1/?from=new_fmailyeah_sort&utm_source=new_fmailyeah_sort",a.t("来信分类VIP升级")]},free:{welcome_plus:["//$host$/js6/welcome/welcome_plus.jsp","会员plus欢迎"],welcome_beta:["//$host$/welcome/beta/","欢迎页测试页面1"],weatherExtUrl:["//mail.163.com/html/weather/index.html","天气合作"],countRiskCheck:["//config.$fullDomain$/optimizer/optimize/checkUserAction.do",a.t("用户风险监测")],yxNewUsers:["//you.163.com/act/nact51/mailrec/ajax/displayRedPoint.do",a.t("严选新用户接口")],yxRecomIcon:["//u.163.com/icon",a.t("严选每日推荐")],yxRecomList:["//you.163.com/act/nact51/mailrec/ajax/mailRecList.do",a.t("严选接口")],groups:["//groups.$fullDomain$/mailteam/frames.html",a.t("邮件列表")],smartSplitURL:["../contact_knowledage/knowledage/cmdsvr?sid=$sid$&uid=$uid$&cmd=",a.t("姓名、地址分词")],address_clone_ssl:["https://$fullDomain$/fgw/alist2/import"],address_cloneimg:["https://$fullDomain$/fgw/alist2/validcode"],help:["https://help.mail.163.com/index.do"],lcy:["http://money.$fullDomain$/mybill/user.do?method=login",a.t("个人理财")],gift:["http://gift.$fullDomain$/birdayremind/giftlist.do?type=i&status=a&product=birthday_remind&from=service",a.t("礼物")],subscribe:["http://subscribe.$fullDomain$/subscribe/index.do",a.t("更新通知")],free_sms:["http://mobileserv.$fullDomain$/freemsg/web/index.do",a.t("免费短信通知")],domainstat:["//config.mail.163.com/domainstat/index.do",a.t("他域邮件监测")],compose_ud_suc:["https://vip.163.com/xm/green/sendSuc.htm"],compose_ecard:["//ecard.$fullDomain$/ecard/api/list.do?sid=$sid$&uid=$uid$"],compose_ecard_entry:["//ecard.$fullDomain$/ecard/index.do?from=compose",a.t("电子名片")],compose_attach_tips:["http://u.163.com/fj_0"],compose_portrait:["//$host$/app/api/portrait.jsp"],compose_portrait_v2:["//$host$/app/api/portrait_v2.jsp"],compose_sms_free:["//mobilemail.$fullDomain$/mobilemail/webmail/fsms.do"],compose_sms_priority:["//mobilemail.$fullDomain$/mobilemail/webmail/smsNoticeMul.do"],compose_sms_flash:["//dxyy.$fullDomain$/smspack/mailapi/smsNoticeMul.do?_asyn=1"],compose_sms_flashindex:["//dxyy.$fullDomain$/smspack/userconf/index.do",a.t("随身邮")],compose_sms_flashpack:["//dxyy.$fullDomain$/smspack/mailsubEntry.do",a.t("随身邮")],compose_sms_flashcharge:["//dxyy.$fullDomain$/smspack/pay/charge.do",a.t("随身邮")],compose_netfolder:["//nf.$fullDomain$/netfolder/service"],compose_netfolder_download:["http://cloud.$fullDomain$/dfs/server/"],letterpaper_get:["//config.$fullDomain$/letterpaper/getPage.do"],flash_out:["medialetter.$fullDomain$"],previewattach:["//preview.$fullDomain$/preview"],translateattach:["//preview.$fullDomain$/trans/prepare.do"],translateattach_cloud:["//fs.163.com/fs/preview/trans/prepare.do"],humanTrans:["//sr.mail.163.com/zyfy/",a.t("网易专业翻译")],getMobileServiceNo:["//$host$/fgw/msas/mobile/getMobileServiceNo.do",a.t("手机服务号码")],myresume:["//resume.$fullDomain$/huntjob/nresume/manage.do",a.t("简历中心")],upgradeunlimit:["http://autoupg.$fullDomain$/upgrade-capacity/upgrade.do?type=infinite&from=webmail"],mobile_set:["//e.$fullDomain$/mobilemail/inner2/home.do?hl=$hl$",a.t("手机号码邮箱")],recommend_app:["//$host$/app/appcenter/main.jsp?sid=$sid$&hl=$hl$",a.t("应用中心")],appcenter_privilege:['//$host$/app/appcenter/main.jsp?sid=$sid$&hl=$hl$#module=outlink.OutlinkModule|{"key":"privilege","title":"","group":"privilege"}',a.t("应用中心")],msgcenter:["//$host$/app/msgcenter/main.jsp",a.t("消息中心")],worldcup_fixtab:["//you.163.com/act/pub/AIPeVC8Flt.html?from=web_rk_mail_logo_1",a.t("世界杯竞猜")+"&nbsp;&nbsp;&nbsp;"],getPhone:["//security.$fullDomain$/mobileserv/getPhoneNumber.do",a.t("获取帐号绑定手机")],ecardList:["//ecard.$fullDomain$/ecard/api/list.do",a.t("获取电子名片")],ecardSetDefault:["//ecard.$fullDomain$/ecard/api/setDefault.do",a.t("设置默认电子名片")],cityMap:["//mimg.127.net/p/js6/lib/js/citylist.js",a.t("城市信息")],weather:["//weather.mail.163.com/weather/xhr/weather/info.do",a.t("天气接口")],feedback:["https://help.mail.163.com/feedback.do?m=add&categoryName=%e6%9e%81%e9%80%9f6.0",a.t("意见反馈")],faceauth:["http://faceauth.$fullDomain$/faceauth/index.do",a.t("人脸识别")],pop3_skip_info:["https://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac28b7a41b4d9a69196"],what_is_pop:["https://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac2929d9b17dd0dc3b1"],font_help:["https://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac20c98887ebe358a06"],compose_sms_help:["https://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac2279f719127a68ac3"],urs_setting_phone:["//reg.163.com/mibao/controller/mob/bindsubmit.jsp?noheader=1"],urs_update_phone:["//reg.163.com/mibao/controller/mob/replace.jsp?noheader=1"],welcome_club:["//$host$/app/jifen/wel_js6.jsp",a.t("积分获取")],happy_time:["http://3g.163.com/ntes/special/003406KF/mailapp-funtime-latest.html",a.t("轻松一刻")],mobile_bind_send:["https://security.mail.163.com/mobileserv/scodeSend.do",a.t("绑定手机号码下发短信验证")],mobile_bind_verify:["https://security.mail.163.com/mobileserv/scodeValidate.do",a.t("验证绑定手机号码")],mailarchive_get:["//config.$fullDomain$/settings/mailarchive/query.do",a.t("邮件归档")],mailarchive_set:["//config.$fullDomain$/settings/mailarchive/set.do",a.t("邮件归档设置")],read_courseassist:["//course.mail.163.com/courseassist/ajax/student/verifyURL.do"],savetonf_sub:["https://nf.$fullDomain$/netfolder/service?op=saveAttachment"],savetonf_new:["//$host$/app/wp/tree_new.jsp"],privileges_product:["//v.mail.163.com/api/privilege/item/price",a.t("邮箱特权商品")],privileges_buy:["//v.mail.163.com/pay",a.t("购买入口")],privileges_buy_record:["//pay.mail.163.com/mpay/mailpay/payrecd.mx",a.t("购买结果查询")],privileges_cloudFile:["//$host$/filehub/bg/user",a.t("超大附件接口")],privileges_expire:["//pay.mail.163.com/mpay/mailpay/prdexptime.mx"],welcome_lofter:["//www.lofter.com/newNotice.do",a.t("lofter接口")],options_updateVip:["https://activity.vip.163.com/activity/redirect_ug.html?from=freeshezhi",a.t("升级到vip邮箱")],option_mailfilter_fw:["//config.$fullDomain$/settings/filterfw/prepareSMS.do?filter=1&sid=$sid$&uid=$uid$",a.t("来信分类转发验证(免费邮)或激活(vip)")],option_authCode:["//$fullDomain$/html/authcode/index.html?hl=$hl$",a.t("客户端授权密码")],smsPushVerifyCode:["//$host$/fgw/msas/verifymsg/vsmspush.do",a.t("下发认证短信")],smsVerifyCode:["//$host$/fgw/msas/verifymsg/vsmsverify.do",a.t("验证认证短信")],autoForward:["//config.$fullDomain$/settings/fw/prepareSMS.do",a.t("设置自动转发")],welcome_noAd:["//vip.163.com/xm/green/?hl=$hl$",a.t("欢迎页无广告")],kaola_fixtab:["//pages.kaola.com/pages/activity/jkalnnezpagerz.shtml?__da_gv3kdY_HssOaY"],xiupin_fixtab:["http://www.xiupin.com/?__da_hBbVoI_FJPAGB"],yanxuan_fixtab:["//you.163.com/?from=web_in_morenye"],plus_fixtab:["//v.mail.163.com/?utm_source=webmail_multitab"],ctrip_fixtab:["//www.ctrip.com/?allianceid=1092395&sid=2135472"],youdao_fixtab:["//ke.youdao.com/?outVendor=zw_163mail_tab_0313_pczz"],notary_free:["//jf.vip.163.com/apps/mimg/mailapps/html/notaryFree.html"],62001:["https://pin.mail.163.com?utm_source=webmail&utm_medium=tab"],152000:["https://pin.mail.163.com?utm_source=webmail&utm_medium=tab"],yxds_sms_send:["//smsspub.$fullDomain$/mobileserv/fsms.do?product=mailmasterhp&template=ds75"],yxds_sms_verify:["//smsspub.$fullDomain$/mobileserv/verifyCodeImg.jsp"],super_member:["https://v.mail.163.com/?from="],read_attach_ics_parse:["//$host$/atthview/ical/parse",a.t("ics附件解析")],vip_upgrade_new:["//reg1.vip.163.com/newReg1/"],avatar_upload:["//config.$fullDomain$/settings/avatarUpload.jsp","头像上传"]}})}($,window),$G.set("topNavConf",[]),$G.set("multiTabConf",[]),function(a){var b=new $I18N("free.config.Multitab"),c=[{tabid:"t0",nonClose:!0,module:"welcome.WelcomeModule",param:{},name:"home",text:b.t("首页"),def:"standard"===$G.mailPattern.currentPattern,display:1,active:function(a){return"welcome.WelcomeModule"===a.mtype?!0:void 0}},{tabid:"t1",module:"contact.ContactModule",display:1,param:{},nonClose:!0,text:b.t("通讯录"),name:"address",icon:"address"},{name:"recommend_app",tabid:"t2",text:b.t("应用中心"),display:1,group:"appMoudle",nonClose:!0,icon:"app",fullScreen:!0,onRender:function(){}},{tabid:"t3",nonClose:!0,module:"mbox.ListModule",param:{fid:1},display:1,text:b.t("收件箱"),icon:"inbox",name:"inbox",group:"mbox.ListModule",entry:function(){try{var a=$L("interface.MboxInterface",this)}catch(b){return b}a.entry({fid:1})}},{tabid:"t14",name:"yanxuan_fixtab",isPromoteTab:1,promoteConfig:{hiddenCloseMsg:1},text:b.t("网易严选"),display:1,icon:"yanxuan",fullScreen:!0,module:"outlink.OutlinkModule",param:{key:"yanxuan_fixtab"},group:"yanxuan_fixtab",entry:function(){try{var c=$L("interface.OutlinkInterface",this)}catch(d){return d}var e=!1;("yeah"===$S("product")||"126"===$S("product"))&&(e=!0);var f=a.Uri.getUrl("yanxuan_fixtab");e&&(f=f.replace("http://","https://")),c.goOutlink({key:"yanxuan_fixtab",title:b.t("网易严选"),fullScreen:!0,group:"yanxuan_fixtab",url:f})},onRender:function(){$S("ad").show===!1&&"ud"==$S("ad").userType?(this.getEl().hide(),this.isHidden=!0):this.isHidden=!1;var b=a.Misc.getTime();new Date(2020,5,19,0)<b||this.getEl().find(".nui-ico-new")||this.getEl().append('<div class="nui-tabs-item-status" style="right: 14%;top: 6px;"><b class="nui-ico" style="background-image: url(https://mimg.127.net/ggimg/all/img19/170605_yxdc.png);width: 23px;height: 16px;"></b></div>')}}];$G.set("multiTabConf",c)}($,window),$G.set("dockConf",[]),function(){var a=new $I18N("free.config.Dock"),b=[{icon:"mailcenter",display:0,id:"m5",isModule:!0,text:a.t("邮箱中心"),defaultIcon:!1},{icon:"app",display:0,id:"m3",isModule:!0,text:a.t("应用中心"),defaultIcon:!1},{icon:"address",display:0,id:"m2",isModule:!0,text:a.t("通讯录"),defaultIcon:!1},{icon:"inbox",display:0,id:"m6",isModule:!0,text:a.t("收件箱"),defaultIcon:!1},{icon:"home",display:0,id:"m0",isModule:!0,text:a.t("首页"),defaultIcon:!1},{icon:"netfolder",display:1,id:1,isModule:!0,name:"nf_center",text:a.t("网盘"),defaultIcon:!0},{icon:"compose",display:1,id:"m1",isModule:!0,text:a.t("写信"),defaultIcon:!0},{icon:"shouji",display:$G.environment.isCh?1:0,id:"m8",isModule:!0,text:a.t("手机号码邮箱"),defaultIcon:!1},{icon:"weibo",display:0,id:5,isModule:!1,text:a.t("网易微博"),defaultIcon:!0},{icon:"club",display:0,id:35,defaultIcon:!0},{icon:"resume",display:0,id:2,defaultIcon:!0},{icon:"stamp",display:0,id:37,defaultIcon:!0},{icon:"postcard",display:0,id:3,defaultIcon:!0},{icon:"card",display:0,id:4,defaultIcon:!0}];location.href.indexOf("yeah.net")>-1&&b.splice(14,1),$G.set("dockConf",b)}($,window),function(){var a={},b={},c={};$G.set("customConf",a),$G.set("appsIconConf",b),$G.set("appIdToAppCenter",c)}($,window),function(){var a=new $I18N("free.config.Custom"),b={"163.com":[{name:"club",id:18,text:a.t("用户俱乐部"),def:!0,listen:!0,display:1},{name:"nf_center",id:115,text:a.t("网盘"),def:!0,display:1,lockid:"nf"},{name:"myresume",id:13,text:a.t("简历中心"),def:!0,listen:!0,display:1},{name:"schedule",id:122,text:a.t("日程管理"),def:!0,display:1},{name:"stamp_album",id:4,text:a.t("集邮中心"),def:!0,display:1},{name:"read_postcard",id:7,text:a.t("明信片"),def:!0,display:1},{name:"cards_read",id:8,text:a.t("邮箱贺卡"),def:!0,display:1},{name:"weibo",id:22,text:a.t("网易微博"),def:!0,display:1},{name:"myblog",id:3,text:a.t("记事本"),def:!1,lockid:"ntes_notebook",display:0},{name:"reader",id:5,text:a.t("网易云阅读"),def:!1},{name:"music_outlink",id:10,text:a.t("邮箱音乐盒"),def:!1},{name:"gift",id:12,text:a.t("礼物"),def:!1},{name:"name_card",id:14,text:a.t("电子名片"),def:!1},{name:"subscribe",id:16,text:a.t("更新通知"),def:!1},{name:"apps_calendar",id:102,text:a.t("万年历"),def:!1},{name:"apps_calc",id:103,text:a.t("万用计算器"),def:!1},{name:"apps_money",id:104,text:a.t("理财易"),def:!1},{name:"apps_idiomdict",id:105,text:a.t("成语词典"),def:!1},{name:"apps_fest",id:106,text:a.t("节日一览表"),def:!1},{name:"apps_dynastytable",id:107,text:a.t("中国朝代表"),def:!1},{name:"apps_travelguide",id:108,text:a.t("出国游指南"),def:!1},{name:"apps_cookbook",id:109,text:a.t("家常菜谱"),def:!1},{name:"apps_psychometry",id:110,text:a.t("心理测试"),def:!1},{name:"apps_serialstory",id:111,text:a.t("小说连载"),def:!1},{name:"apps_constellation",id:112,text:a.t("星座"),def:!1},{name:"apps_games",id:114,text:a.t("游戏天地"),def:!1},{name:"sms",id:117,text:a.t("随身邮"),def:!1},{name:"free_sms",id:118,text:a.t("免费短信通知"),def:!1,listen:!0},{name:"apps_train",id:119,text:a.t("火车票查询"),def:!1},{name:"apps_quan",id:120,text:a.t("网易优惠券"),def:!1},{name:"apps_charge",id:121,text:a.t("充值中心"),def:!1},{name:"apps_chexian",id:124,text:a.t("保险-车险"),def:!1},{name:"apps_openclass",id:125,text:a.t("网易公开课"),def:!1},{name:"apps_caipiao",id:126,text:a.t("网易彩票"),def:!1},{name:"apps_baojian",id:127,text:a.t("网易保健品"),def:!1},{name:"apps_huihui",id:128,text:a.t("惠惠网"),def:!1},{name:"apps_snake",id:129,text:a.t("贪吃蛇2013"),def:!1},{name:"apps_gentie",id:131,text:a.t("网易跟贴"),def:!1},{name:"apps_yuehui",id:132,text:a.t("同城约会"),def:!1},{name:"apps_cai",id:133,text:a.t("财易通"),def:!1}],"126.com":[{name:"club",id:18,text:a.t("用户俱乐部"),def:!0,listen:!0,display:1},{name:"nf_center",id:115,text:a.t("网盘"),def:!0,display:1},{name:"myresume",id:13,text:a.t("简历中心"),def:!0,listen:!0,display:1},{name:"schedule",id:122,text:a.t("日程管理"),def:!0,display:1},{name:"stamp_album",id:3,text:a.t("集邮中心"),def:!0,display:1},{name:"read_postcard",id:6,text:a.t("明信片"),def:!0,display:1},{name:"cards_read",id:7,text:a.t("邮箱贺卡"),def:!0,display:1},{name:"weibo",id:22,text:a.t("网易微博"),def:!0,display:1},{name:"myblog",id:5,text:a.t("记事本"),def:!1,lockid:"ntes_notebook"},{name:"music_outlink",id:8,text:a.t("邮箱音乐盒"),def:!1},{name:"gift",id:10,text:a.t("礼物"),def:!1},{name:"name_card",id:14,text:a.t("电子名片"),def:!1},{name:"subscribe",id:16,text:a.t("更新通知"),def:!1},{name:"apps_calendar",id:102,text:a.t("万年历"),def:!1},{name:"apps_calc",id:103,text:a.t("万用计算器"),def:!1},{name:"apps_money",id:104,text:a.t("理财易"),def:!1},{name:"apps_idiomdict",id:105,text:a.t("成语词典"),def:!1},{name:"apps_fest",id:106,text:a.t("节日一览表"),def:!1},{name:"apps_dynastytable",id:107,text:a.t("中国朝代表"),def:!1},{name:"apps_travelguide",id:108,text:a.t("出国游指南"),def:!1},{name:"apps_cookbook",id:109,text:a.t("家常菜谱"),def:!1},{name:"apps_psychometry",id:110,text:a.t("心理测试"),def:!1},{name:"apps_serialstory",id:111,text:a.t("小说连载"),def:!1},{name:"apps_constellation",id:112,text:a.t("星座"),def:!1},{name:"apps_games",id:114,text:a.t("游戏天地"),def:!1},{name:"reader",id:123,text:a.t("网易云阅读"),def:!1},{name:"sms",id:117,text:a.t("随身邮"),def:!1},{name:"free_sms",id:118,text:a.t("免费短信通知"),def:!1,listen:!0},{name:"apps_train",id:119,text:a.t("火车票查询"),def:!1},{name:"apps_quan",id:120,text:a.t("网易优惠券"),def:!1},{name:"apps_charge",id:121,text:a.t("充值中心"),def:!1},{name:"apps_chexian",id:124,text:a.t("保险-车险"),def:!1},{name:"apps_openclass",id:125,text:a.t("网易公开课"),def:!1},{name:"apps_caipiao",id:126,text:a.t("网易彩票"),def:!1},{name:"apps_baojian",id:127,text:a.t("网易保健品"),def:!1},{name:"apps_huihui",id:128,text:a.t("惠惠网"),def:!1},{name:"apps_snake",id:129,text:a.t("贪吃蛇2013"),def:!1},{name:"apps_gentie",id:131,text:a.t("网易跟贴"),def:!1},{name:"apps_yuehui",id:132,text:a.t("同城约会"),def:!1},{name:"apps_cai",id:133,text:a.t("财易通"),def:!1}],"yeah.net":[{name:"club",id:18,text:a.t("用户俱乐部"),def:!0,listen:!0,display:1},{name:"nf_center",id:115,text:a.t("网盘"),def:!0,display:1},{name:"myresume",id:13,text:a.t("简历中心"),def:!0,listen:!0,display:1},{name:"schedule",id:122,text:a.t("日程管理"),def:!0,display:1},{name:"read_postcard",id:4,text:a.t("明信片"),def:!0,display:1},{name:"cards_read",id:5,text:a.t("邮箱贺卡"),def:!0,display:1},{name:"weibo",id:22,text:a.t("网易微博"),def:!0,display:1},{name:"name_card",id:100,text:a.t("电子名片"),def:!1},{name:"myblog",id:2,text:a.t("记事本"),def:!1,lockid:"ntes_notebook"},{name:"gift",id:7,text:a.t("礼物"),def:!1},{name:"subscribe",id:8,text:a.t("更新通知"),def:!1},{name:"apps_calendar",id:102,text:a.t("万年历"),def:!1},{name:"apps_calc",id:103,text:a.t("万用计算器"),def:!1},{name:"apps_money",id:104,text:a.t("理财易"),def:!1},{name:"apps_idiomdict",id:105,text:a.t("成语词典"),def:!1},{name:"apps_fest",id:106,text:a.t("节日一览表"),def:!1},{name:"apps_dynastytable",id:107,text:a.t("中国朝代表"),def:!1},{name:"apps_travelguide",id:108,text:a.t("出国游指南"),def:!1},{name:"apps_cookbook",id:109,text:a.t("家常菜谱"),def:!1},{name:"apps_psychometry",id:110,text:a.t("心理测试"),def:!1},{name:"apps_constellation",id:112,text:a.t("星座"),def:!1},{name:"apps_games",id:114,text:a.t("游戏天地"),def:!1},{name:"reader",id:123,text:a.t("网易云阅读"),def:!1},{name:"music_outlink",id:130,text:a.t("邮箱音乐盒"),def:!1},{name:"sms",id:117,text:a.t("随身邮"),def:!1},{name:"free_sms",id:118,text:a.t("免费短信通知"),def:!1,listen:!0},{name:"apps_train",id:119,text:a.t("火车票查询"),def:!1},{name:"apps_quan",id:120,text:a.t("网易优惠券"),def:!1},{name:"apps_charge",id:121,text:a.t("充值中心"),def:!1},{name:"apps_chexian",id:124,text:a.t("保险-车险"),def:!1},{name:"apps_openclass",id:125,text:a.t("网易公开课"),def:!1},{name:"apps_caipiao",id:126,text:a.t("网易彩票"),def:!1},{name:"apps_baojian",id:127,text:a.t("网易保健品"),def:!1},{name:"apps_huihui",id:128,text:a.t("惠惠网"),def:!1},{name:"apps_snake",id:129,text:a.t("贪吃蛇2013"),def:!1},{name:"apps_gentie",id:131,text:a.t("网易跟贴"),def:!1},{name:"apps_yuehui",id:132,text:a.t("同城约会"),def:!1},{name:"apps_cai",id:133,text:a.t("财易通"),def:!1}]},c={myblog:{icon:"notepad",defaultIcon:!1},cards_read:{icon:"card",defaultIcon:!0},read_postcard:{icon:"postcard",defaultIcon:!0},reader:{icon:"ntesreader",defaultIcon:!1},music_outlink:{icon:"music",defaultIcon:!1},nf_center:{icon:"netfolder",defaultIcon:!0},myresume:{icon:"resume",defaultIcon:!0},sms:{icon:"phonemail",defaultIcon:!1},free_sms:{icon:"message",defaultIcon:!1},apps_calendar:{icon:"calendar",defaultIcon:!1},apps_calc:{icon:"calc",defaultIcon:!1},apps_money:{icon:"money",defaultIcon:!1},apps_idiomdict:{icon:"idiomdict",defaultIcon:!1},apps_fest:{icon:"festivaltable",defaultIcon:!1},apps_dynastytable:{icon:"dynastytable",defaultIcon:!1},apps_train:{icon:"huoche",defaultIcon:!1},name_card:{icon:"ecard",defaultIcon:!1},apps_travelguide:{icon:"travelguide",defaultIcon:!1},apps_cookbook:{icon:"cookbook",defaultIcon:!1},apps_openclass:{icon:"openclass",defaultIcon:!1},apps_psychometry:{icon:"psychometry",defaultIcon:!1},apps_serialstory:{icon:"serialstory",defaultIcon:!1},apps_constellation:{icon:"constellation",defaultIcon:!1},apps_blog:{icon:"blog",defaultIcon:!1},apps_games:{icon:"games",defaultIcon:!1},apps_quan:{icon:"quan",defaultIcon:!1},apps_charge:{icon:"ntescharge",defaultIcon:!1},apps_chexian:{icon:"chexian",defaultIcon:!1},club:{icon:"club",defaultIcon:!0},weibo:{icon:"weibo",defaultIcon:!0},stamp_album:{icon:"stamp",defaultIcon:!0},apps_caipiao:{icon:"caipiao",defaultIcon:!1},apps_baojian:{icon:"baojian",defaultIcon:!1},apps_huihui:{icon:"huihui",defaultIcon:!1},apps_snake:{icon:"snake",defaultIcon:!1},apps_gentie:{icon:"gentie",defaultIcon:!1},apps_yuehui:{icon:"yuehui",defaultIcon:!1},apps_cai:{icon:"cai",defaultIcon:!1}},d={"163.com":{18:"35",115:"1",13:"2",122:"36",4:"37",7:"3",8:"4",22:"5",3:"6",2:"",5:"7",9:"",10:"8",12:"38",14:"9",16:"39",102:"10",103:"11",104:"12",105:"13",106:"14",107:"15",108:"16",109:"17",110:"18",111:"19",112:"20",113:"",114:"21",116:"",117:"22",118:"23",119:"24",120:"25",121:"26",124:"40",125:"27",126:"28",127:"29",128:"30",129:"31",131:"32",132:"33",133:"34"},"126.com":{18:"35",115:"1",13:"2",122:"36",3:"37",6:"3",7:"4",22:"5",5:"6",2:"",123:"7",11:"",8:"8",10:"38",14:"9",16:"39",102:"10",103:"11",104:"12",105:"13",106:"14",107:"15",108:"16",109:"17",110:"18",111:"19",112:"20",113:"",114:"21",116:"",117:"22",118:"23",119:"24",120:"25",121:"26",124:"40",125:"27",126:"28",127:"29",128:"30",129:"31",131:"32",132:"33",133:"34"},"yeah.net":{18:"35",115:"1",13:"2",122:"36",4:"3",5:"4",22:"5",2:"6",1:"",123:"7",11:"",130:"8",7:"38",100:"9",8:"39",102:"10",103:"11",104:"12",105:"13",106:"14",107:"15",108:"16",109:"17",110:"18",111:"19",112:"20",113:"",114:"21",116:"",117:"22",118:"23",119:"24",120:"25",121:"26",124:"40",125:"27",126:"28",127:"29",128:"30",129:"31",131:"32",132:"33",133:"34"}};$G.set("customConf",b),$G.set("appsIconConf",c),$G.set("appIdToAppCenter",d),$G.set("mailMasterPromoteConf",{mainLink:"//u.163.com/gift?from=tanchu",iOSLink:"//mail.163.com/client/dl.html?from=mail1",andriodLink:"//mail.163.com/client/dl.html?from=mail1",wrapperStyle:"height:100px;background-color:#3b84c0;",contentStyle:"background-image:url(https://res.126.net/p/dbqb/resupload/onlinepath/2015/3/5/1/8cfd434e07a5b30b7f0cbef57cf72698.gif);height:100%;",mainStyle:"display:block;width:660px;height:100%;position: absolute;top:0;left:50%;margin-left:-480px;",iOSStyle:"display:block;width:115px;height:31px;position: absolute;top:32px;left:50%;margin-left:294px;",andriodStyle:"display:block;width:115px;height:31px;position: absolute;top:63px;left:50%;margin-left:294px;"})}($,window),function(a){var b=new $I18N("config.Shortcut");$G.set("shortcutConf",{go:{description:b.t("正在跳转"),shortcut:{gi:{call:function(){a.Nav.entry("MboxInterface",{fid:1})},description:b.t('转到"收件箱"')},gd:{call:function(){a.Nav.entry("MboxInterface",{fid:2})},description:b.t('转到"草稿箱"')},gt:{call:function(){a.Nav.entry("MboxInterface",{fid:3})},description:b.t('转到"已发送"')},gc:{call:function(){a.Nav.entry("AddressInterface",{action:"Welcome"})},description:b.t('转到"通讯录"')},dongua:{call:function(){try{var a=$L("interface.OutlinkInterface",this)}catch(c){return c}a.goOutlink({url:"http://buzz.mail.$domain$/dongua",title:b.t("dongua的微博")})}},zhouyi:{call:function(){try{var a=$L("interface.OutlinkInterface",this)}catch(c){return c}a.goOutlink({url:"http://buzz.mail.$domain$/sky",title:b.t("周奕的微博")})}}}},select:{description:b.t("选择列表"),shortcut:{"*a":{call:function(){try{a.Context.getModule().view.select("all")}catch(b){}},description:b.t("选择所有邮件"),module:["mbox.ListModule"]},"*n":{call:function(){try{a.Context.getModule().view.select("none")}catch(b){}},description:b.t("取消选择所有邮件"),module:["mbox.ListModule"]},"*r":{call:function(){try{a.Context.getModule().view.select("read")}catch(b){}},description:b.t("选择已读邮件"),module:["mbox.ListModule"]},"*u":{call:function(){try{a.Context.getModule().view.select("unread")}catch(b){}},description:b.t("选择未读邮件"),module:["mbox.ListModule"]}}},app:{description:b.t("应用程序"),shortcut:{C:{shiftKey:!0,call:function(){try{var a=$L("interface.ComposeInterface",this)}catch(b){return b}a.entry()},description:b.t("新建写信")},s:{ctrlKey:!0,call:function(){},module:["compose"],description:b.t("保存草稿")},"/":{call:function(){$S("searchInput").focus()},description:b.t("聚焦到搜索框")},"?":{call:function(){try{var a=$L("util.ShortCut",this)}catch(b){return b}a.showHelp()},description:b.t("显示快捷键帮助")},M:{shiftKey:!0,call:function(){try{var a=$L("init.Sync",this)}catch(b){return b}a.request();try{var c=$L("interface.MboxInterface",this)}catch(b){return b}c.entry({fid:1},{receive:!0})},description:b.t("检查新邮件")}}},operate:{description:b.t("操作"),shortcut:{R:{shiftKey:!0,call:function(){try{a.Context.getModule().reader.assistant.reply()}catch(b){}},module:["read.ReadModule"],description:b.t("回复")},A:{shiftKey:!0,call:function(){try{a.Context.getModule().reader.assistant.fullReply()}catch(b){}},module:["read.ReadModule"],description:b.t("回复所有")},F:{shiftKey:!0,call:function(){try{a.Context.getModule().reader.assistant.forward()}catch(b){}},module:["read.ReadModule"],description:b.t("转发")},I:{call:function(){try{a.Context.getModule().view.setRead(!0)}catch(b){}},shiftKey:!0,description:b.t("标记为已读"),module:["mbox.ListModule"]},U:{call:function(){try{a.Context.getModule().view.setRead(!1)}catch(b){}},shiftKey:!0,description:b.t("标记为未读"),module:["mbox.ListModule"]},D:{shiftKey:!0,call:function(){try{a.Context.getModule().view.move(4)}catch(b){}},module:["mbox.ListModule"],description:b.t("删除邮件")},"[":{call:function(){try{a.Context.getModule().enterSibling("pre")}catch(b){}},description:b.t("上一封"),module:["read.ReadModule","thread.ThreadModule"]},"]":{call:function(){try{a.Context.getModule().enterSibling("next")}catch(b){}},description:b.t("下一封"),module:["read.ReadModule","thread.ThreadModule"]}}},hidden:{shortcut:{jasmine:{call:function(){a.JS.go({module:"jasmine.JasmineModule"})}}}}})}($,window),function(a,b){var c={},d=[];d.push({type:"speed",start:new Date(2012,7,15),end:new Date(2013,7,15),call:function(a){if(a){var b="//count.mail.163.com/beacon/webmail.gif?sid="+$S("sid")+"&uid="+$S("uid");for(var c in a)b+="&"+c+"="+a[c];return b}}}),d.push({type:"attach",start:new Date(2012,8,25),end:new Date(2013,8,25),call:function(a){if(a){var b="//jslog.mail.126.com/count/a.htm?sid="+$S("sid")+"&uid="+$S("uid");for(var c in a)b+="&"+c+"="+a[c];return b+="&t="+(new Date).valueOf()}}}),d.push({type:"apps",call:function(a){if(a){var c="//count.mail.163.com/beacon/webmail.gif?sid="+$S("sid")+"&uid="+$S("uid")+"&module=apps";for(var d in a)c+="&"+d+"="+a[d];return c+="&t="+(new b.Date).getTime()
}}}),d.push({type:"appCenter",call:function(c){if(a.Ext.appCenter&&c){var d="//appcenter.mail."+$S("domain")+"/ftentry.do?func=mapp:log4app&sid="+$S("sid")+"&var=";return c.uid=$S("uid"),d+=a.Util.obj2Str({params:JSON.stringify(c)}),d+="&retype=0",d+="&t="+(new b.Date).getTime()}}}),d.push({type:"readFlashAd",start:new Date(2013,8,2),end:new Date(2013,8,17),call:function(a){if(a){var c="//count.mail.163.com/beacon/webmail.gif?sid="+$S("sid")+"&uid="+$S("uid")+"&module=read";for(var d in a)c+="&"+d+"="+a[d];return c+="&t="+(new b.Date).getTime()}}}),d.push({type:"brandClick",start:new Date(2014,4,2),end:new Date(2014,5,30),call:function(a){if(a){var b="//r.mail.163.com/stat.gif?_r_ignore_statId="+a+"&_r_ignore_uid="+$S("uid");return b}}}),c.logConf=d,$G.set("logConf",c)}($,window),$G.set("mailTipsConf",{}),function(){var a=new $I18N("config.Promote"),b={rcmd:{ads:[],ie6_ads:[],dft:0},letter:{ads:[{div:""}]},read:{div:""},greet:{ads:[{div:a.t("有事做有所期待，日子就是幸福的。")}]},welBanner:{div:"",ads:[]},compose:{div:'<a href="http://you.163.com/flashSale/index?from=web_rk_mail_rc_0" target="_blank"><img src="https://mimg.127.net/ggimg/all/img20/180524_succ_700x360.jpg" alt="'+a.t("网易严选")+'" /></a>'},composeBanner:{div:'<a style="display:inline-block" href="http://you.163.com/topic/list?activeType=2&from=web_rk_mail_rc_0" target="_blank"><img src="https://mimg.127.net/ggimg/all/img20/180524_succ_300x360.jpg" alt="'+a.t("网易CEO丁磊好物推荐清单")+'" /></a>'},brand:{ads:[]},inboxBottom:{div:""}};$G.set("promote",b)}($,window),function(a){function b(a,b){var c=a[0],h=a[1],i=a[2],j=a[3];c=d(c,h,i,j,b[0],7,-680876936),j=d(j,c,h,i,b[1],12,-389564586),i=d(i,j,c,h,b[2],17,606105819),h=d(h,i,j,c,b[3],22,-1044525330),c=d(c,h,i,j,b[4],7,-176418897),j=d(j,c,h,i,b[5],12,1200080426),i=d(i,j,c,h,b[6],17,-1473231341),h=d(h,i,j,c,b[7],22,-45705983),c=d(c,h,i,j,b[8],7,1770035416),j=d(j,c,h,i,b[9],12,-1958414417),i=d(i,j,c,h,b[10],17,-42063),h=d(h,i,j,c,b[11],22,-1990404162),c=d(c,h,i,j,b[12],7,1804603682),j=d(j,c,h,i,b[13],12,-40341101),i=d(i,j,c,h,b[14],17,-1502002290),h=d(h,i,j,c,b[15],22,1236535329),c=e(c,h,i,j,b[1],5,-165796510),j=e(j,c,h,i,b[6],9,-1069501632),i=e(i,j,c,h,b[11],14,643717713),h=e(h,i,j,c,b[0],20,-373897302),c=e(c,h,i,j,b[5],5,-701558691),j=e(j,c,h,i,b[10],9,38016083),i=e(i,j,c,h,b[15],14,-660478335),h=e(h,i,j,c,b[4],20,-405537848),c=e(c,h,i,j,b[9],5,568446438),j=e(j,c,h,i,b[14],9,-1019803690),i=e(i,j,c,h,b[3],14,-187363961),h=e(h,i,j,c,b[8],20,1163531501),c=e(c,h,i,j,b[13],5,-1444681467),j=e(j,c,h,i,b[2],9,-51403784),i=e(i,j,c,h,b[7],14,1735328473),h=e(h,i,j,c,b[12],20,-1926607734),c=f(c,h,i,j,b[5],4,-378558),j=f(j,c,h,i,b[8],11,-2022574463),i=f(i,j,c,h,b[11],16,1839030562),h=f(h,i,j,c,b[14],23,-35309556),c=f(c,h,i,j,b[1],4,-1530992060),j=f(j,c,h,i,b[4],11,1272893353),i=f(i,j,c,h,b[7],16,-155497632),h=f(h,i,j,c,b[10],23,-1094730640),c=f(c,h,i,j,b[13],4,681279174),j=f(j,c,h,i,b[0],11,-358537222),i=f(i,j,c,h,b[3],16,-722521979),h=f(h,i,j,c,b[6],23,76029189),c=f(c,h,i,j,b[9],4,-640364487),j=f(j,c,h,i,b[12],11,-421815835),i=f(i,j,c,h,b[15],16,530742520),h=f(h,i,j,c,b[2],23,-995338651),c=g(c,h,i,j,b[0],6,-198630844),j=g(j,c,h,i,b[7],10,1126891415),i=g(i,j,c,h,b[14],15,-1416354905),h=g(h,i,j,c,b[5],21,-57434055),c=g(c,h,i,j,b[12],6,1700485571),j=g(j,c,h,i,b[3],10,-1894986606),i=g(i,j,c,h,b[10],15,-1051523),h=g(h,i,j,c,b[1],21,-2054922799),c=g(c,h,i,j,b[8],6,1873313359),j=g(j,c,h,i,b[15],10,-30611744),i=g(i,j,c,h,b[6],15,-1560198380),h=g(h,i,j,c,b[13],21,1309151649),c=g(c,h,i,j,b[4],6,-145523070),j=g(j,c,h,i,b[11],10,-1120210379),i=g(i,j,c,h,b[2],15,718787259),h=g(h,i,j,c,b[9],21,-343485551),a[0]=m(c,a[0]),a[1]=m(h,a[1]),a[2]=m(i,a[2]),a[3]=m(j,a[3])}function c(a,b,c,d,e,f){return b=m(m(b,a),m(d,f)),m(b<<e|b>>>32-e,c)}function d(a,b,d,e,f,g,h){return c(b&d|~b&e,a,b,f,g,h)}function e(a,b,d,e,f,g,h){return c(b&e|d&~e,a,b,f,g,h)}function f(a,b,d,e,f,g,h){return c(b^d^e,a,b,f,g,h)}function g(a,b,d,e,f,g,h){return c(d^(b|~e),a,b,f,g,h)}function h(a){var c,d=a.length,e=[1732584193,-271733879,-1732584194,271733878];for(c=64;c<=a.length;c+=64)b(e,i(a.substring(c-64,c)));a=a.substring(c-64);var f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(c=0;c<a.length;c++)f[c>>2]|=a.charCodeAt(c)<<(c%4<<3);if(f[c>>2]|=128<<(c%4<<3),c>55)for(b(e,f),c=0;16>c;c++)f[c]=0;return f[14]=8*d,b(e,f),e}function i(a){var b,c=[];for(b=0;64>b;b+=4)c[b>>2]=a.charCodeAt(b)+(a.charCodeAt(b+1)<<8)+(a.charCodeAt(b+2)<<16)+(a.charCodeAt(b+3)<<24);return c}function j(a){for(var b="",c=0;4>c;c++)b+=p[15&a>>8*c+4]+p[15&a>>8*c];return b}function k(a){for(var b=0;b<a.length;b++)a[b]=j(a[b]);return a.join("")}function l(a){return k(h(a))}function m(a,b){return 4294967295&a+b}function n(a){return l(a)}var o=a.createClass($N("util.MD5"));a.Object.extend(o,{encode:n});var p="0123456789abcdef".split("");"5d41402abc4b2a76b9719d911017c592"!=l("hello")}($,window),function(a){function b(a){var b=this,c="";switch(a.type){case"file":case"file32":var d=a.name.replace(/(.|\n)*\./,"").toLowerCase();c=b.icoFileIndex[d]?b.icoFileIndex[d]:"";break;case"folder":c=b.icoPop3Index[a.domain]?b.icoPop3Index[a.domain]:"dft"}return c}function c(a){var b=this,c="";switch(a.type){case"file":case"file32":var d=a.name.replace(/(.|\n)*\./,"").toLowerCase();c=b.icoPre[a.type]+(b.icoFileIndex[d]?b.icoFileIndex[d]:"");break;case"folder":c=b.icoPre[a.type]+(b.icoPop3Index[a.domain]?b.icoPop3Index[a.domain]:"dft")}return c}var d=a.createClass($N("util.Icon"));a.Object.extend(d,{getSubtype:b,getClass:c,icoFileIndex:{xls:"2",xlsx:"2",csv:"2",xlsm:"2",xlt:"2",xltx:"2",xltm:"2",doc:"3",docx:"3",dot:"3",dotm:"3",dotx:"3",docm:"3",ppt:"4",pptx:"4",pot:"4",potm:"4",potx:"4",pps:"4",ppsx:"4",pptm:"4","7z":"5",rar:"6",cab:"6",jar:"6",arj:"6",tar:"6",gz:"6",tgz:"6",taz:"6",cpgz:"6",zip:"7",war:"7",ear:"7",z:"7",bz:"7",bz2:"7",tbz:"7",tbz2:"7",cpio:"7",ar:"7",crx:"7",sext:"7",iso:"8",img:"8",nrg:"8",mdf:"8",mds:"8",eml:"9",htm:"10",html:"10",shtml:"10",xhtml:"10",mht:"10",asp:"10",aspx:"10",js:"11",css:"12",ini:"12",inf:"12",xml:"12",hlp:"13",chm:"13",exe:"14",app:"14",com:"14",bat:"15",cmd:"15",ttf:"16",fon:"16",pdf:"17",psd:"18",pdd:"18",ps:"18",ai:"19",eps:"19",fla:"20",swf:"21",flv:"21",txt:"22",java:"22",jsp:"22",c:"22",cpp:"22",h:"22",hpp:"22",py:"22",cs:"22",sh:"22",rtf:"23",reg:"24",ra:"25",ram:"25",rpm:"25",rmx:"25",rm:"25",rmvb:"25",wm:"26",wma:"26",wmv:"26",asf:"26",wmp:"26",mov:"27",qt:"27","3gp":"27","3gpp":"27",amr:"27",avi:"28",mkv:"28",mp4:"28",mpg:"28",mpeg:"28",vob:"28",dat:"28",ts:"28",tp:"28",m2ts:"28",evo:"28",pmp:"28",vp6:"28",ivf:"28",dsm:"28",dsv:"28",dsa:"28",dss:"28",fli:"28",flc:"28",flic:"28",roq:"28",mpa:"29",m1a:"29",m2a:"29",mp2:"29",mp3:"29",ac3:"29",dts:"29",ddp:"29",flac:"29",ape:"29",mac:"29",apl:"29",shn:"29",tta:"29",wv:"29",cda:"29",wav:"29",aac:"29",m4a:"29",mka:"29",ogg:"29",mpc:"29","mp+":"29",au:"29",aif:"29",aifc:"29",aiff:"29",mid:"29",midi:"29",rmi:"29",todo:"30",jpg:"31",jpeg:"31",gif:"32",png:"33",bmp:"34",dib:"34",rle:"34",tif:"35",tiff:"35",xif:"35",emf:"36",wmf:"37",ico:"38",icl:"38",cur:"38",ani:"38",raw:"39",mos:"39",fff:"39","032":"39",bay:"39",cdr:"40",csl:"40",cmx:"40",wpg:"40",dll:"41",ocx:"41",chk:"41",manifest:"41",torrent:"42",wps:"43",wpt:"43",dps:"44",et:"45",msi:"46"},icoPop3Index:{"163.com":"ntes","126.com":"ntes","yeah.net":"ntes","188.com":"ntes","vip.188.com":"ntes","vip.163.com":"ntes","vip.126.com":"ntes","qiye.163.com":"ntes","netease.com":"ntes","corp.netease.com":"ntes","qq.com":"qq","vip.qq.com":"qq","foxmail.com":"foxmail","sina.com":"sina","sina.cn":"sina","sina.com.cn":"sina","vip.sina.com":"sina","sohu.com":"sohu","vip.sohu.com":"sohu","msn.com":"msn","msn.cn":"msn","live.cn":"msn","live.com":"msn","hotmail.com":"msn","outlook.com":"msn","yahoo.com":"yahoo","yahoo.com.cn":"yahoo","yahoo.cn":"yahoo","gmail.com":"gmail","21cn.com":"21cn","21cn.net":"21cn","tom.com":"tom","eyou.com":"eyou","china.com":"china"}})}($,window),function(a){function b(b){var c=a.Ext.shortcut,d=b||event||top.event,g=f.getTarget(d),h=d.shiftKey,i=d.ctrlKey,j=d.altKey,k=a.Context.getModule()||{},l=d.charCode||d.keyCode,m=!1,n=String.fromCharCode(l),o=["INPUT","TEXTAREA"],p=a.Context.msgBox,q=e.conf;if((c||"?"===n)&&(a.Context.keys||(a.Context.keys=[]),g&&g.tagName&&a.Array.has(o,g.tagName.toUpperCase())&&(m=!0),!m&&!p)){a.Context.shortCutTimer&&(clearTimeout(a.Context.shortCutTimer),delete a.Context.shortCutTimer),a.Context.keys.push(n),a.Context.shortCutTimer=setTimeout(function(){a.Context.keys=[]},1e3);var r,s;if(!r&&a.Context.keys.length>1)for(s in q)if(r=q[s].shortcut[a.Context.keys.join("")])break;if(!r)for(s in q)if((r=q[s].shortcut[n])||(r=q[s].shortcut[l]))break;if(r){if(r.shiftKey&&!h)return;if(r.altKey&&!j)return;if(r.ctrlKey&&!i)return;if(r.module&&!a.Array.has(r.module,k.mtype))return;"string"==typeof r.call?a.Eval.exec(r.call):r.call(),a.Event.stop(d)}}}function c(){var b=a.Ext,c=a.Ud,f=b.shortcut,g=a.Link.html({text:f?d.t("禁用快捷键"):d.t("启用快捷键"),click:function(){c.set({field:"ntes_option",flag:"shortcut_enable",value:f?"1":"0"}),f=!f,b.shortcut=f,this.getEl().html(f?d.t("禁用快捷键"):d.t("启用快捷键"));var e=a("#spnEnableShortCut"),g=d.t("键盘快捷键已")+(f?d.t("启用！"):d.t("禁用！")),h=f?"nui-txt-s14 nui-txt-suc":"nui-txt-s14 nui-txt-err";e.html(g),e.setClass(h);try{var i=a.Context.getModule();if(i&&i.mtype&&"options.BaseSetModule"===i.mtype){var j=i.view.sections[i.view.sections.length-1],k="#"+j.createId("shortcut"),l=a.Component.find(k);l.setChecked(f,!0)}}catch(m){}}}),h=f?d.t("启用"):d.t("禁用"),i=f?"nui-txt-s14 nui-txt-suc":"nui-txt-s14 nui-txt-err",j=['<p style="padding:5px 12px"><strong id="spnEnableShortCut" class="'+i+'">'+d.t("键盘快捷键已")+h+d.t("！")+'</strong><span class="txt-info">'+g+"</span></p>"];j.push('<div class="nui-msgbox-scrollArea nui-scroll" style="padding:8px 12px">');for(var k in e.conf)if("hidden"!=k){var l=e.conf[k],m=l.description,n=l.shortcut;j.push('<div class="nui-title"><h3 class="nui-title-text">'+m+"</h3></div>"),j.push('<table style="margin:10px 0">');for(var o in n){var p=n[o],q=p.description;if(q)if(o.length>1){for(var r=[],s=0;s<o.length;s++)r.push('<b class="nui-txt-mark">'+o.substr(s,1)+"</b>");j.push('<tr><td style="width:150px;padding-right:10px;text-align:right" class="txt-info">'+r.join(d.t(" 然后 "))+"："+"</td><td >"+q+"</td></tr>")}else{var t=p.shiftKey,u=p.ctrlKey,v=[];u&&v.push('<b class="nui-txt-mark">&lt;Ctrl&gt;</b>'),t&&v.push('<b class="nui-txt-mark">&lt;Shift&gt;</b>'),v.push('<b class="nui-txt-mark">'+("\r"==o?"&lt;Enter&gt;":o.toLowerCase())+"</b>"),j.push('<tr><td style="width:150px;padding-right:10px;text-align:right" class="txt-info">'+v.join(" + ")+"："+"</td><td>"+q+"</td></tr>")}}j.push("</table>")}j.push("</div>"),a.Msgbox.show({content:j.join(""),contentType:"wide",noFooter:!0,header:d.t("快捷键帮助")}),a.Component.setEvents()}var d=new $I18N("util.ShortCut"),e=a.createClass($N("util.ShortCut")),f=a.Event;a.Ext,a.Object.extend(e,{globalListener:b,conf:$G.get("shortcutConf"),showHelp:c})}($,window),function(a){function b(b){var d=a.Event,e=a.Event.get();c.menu&&c.menu.hide();var f=c.menu=new a.Menu({left:e.pageX+"px",top:e.pageY+"px",groups:b.groups,renderTo:document.body,width:b.width});f._relatedEventTarget=a.Event.getTarget(e),d.stop();var g=f.getEl(),h=g.dom.offsetWidth,i=g.dom.offsetHeight,j=g.offset(),k=j[0],l=j[1],m=document.documentElement,n=m.clientWidth+m.scrollLeft,o=m.clientHeight+m.scrollTop;h+k>n&&(g.dom.style.left=k-h+"px"),i+l>o&&(g.dom.style.top=l-i+"px")}var c=a.createClass($N("util.Contextmenu"));a.Object.extend(c,{menu:null,show:b})}($,window),function(a,b){function c(){var a=j.PERMISSION_NOT_SUPPORT,c=b.webkitNotifications||b.Notification;if(c){if(c.checkPermission)a=c.checkPermission();else{var d=c.permission;switch(d){case"default":a=j.PERMISSION_NOT_ALLOWED;break;case"granted":a=j.PERMISSION_ALLOWED;break;case"denied":a=j.PERMISSION_DENIED}}j.notification=c}return a}function d(a){function b(){a&&a()}j.checkPermission()===j.PERMISSION_NOT_ALLOWED&&j.notification.requestPermission(b)}function e(){var b=!1;if(j.checkPermission()===j.PERMISSION_ALLOWED&&a.Ext.notification){var c=a.Ud.get({field:"ntes_option",flag:"notification"})-0;b=0===c}return b}function f(a){if(j.check()){var b,c=a.iconUrl||"https://mimg.127.net/p/js4/lib/img/newmail.png",d=a.title||"",e=a.body||"",f=j.notification;return b=f.createNotification?f.createNotification(c,d,e):new f(d,{body:e,icon:c})}}function g(b){if(j.check()){var c=b.notification,d=b.info,e=b.event,f=b.timeout||0;return c||(c=j.create(d)),e&&i.each(e,function(b,d){a.Event.listen(c,b,d)}),c.show&&c.show(),f>0&&setTimeout(function(){j.cancel(c)},f),c}}function h(a){j.check()&&(a.cancel?a.cancel():a.close())}var i=a.Object,j=a.createClass($N("util.Notification"));i.extend(j,{notification:null,PERMISSION_ALLOWED:0,PERMISSION_NOT_ALLOWED:1,PERMISSION_DENIED:2,PERMISSION_NOT_SUPPORT:-1,checkPermission:c,requestPermission:d,check:e,create:f,show:g,cancel:h})}($,window),function(a,b){function c(c,d,e){function f(a,b,c){return a!=b&&a!=c&&b!=c?!0:!1}var g=a.Event.getEvent(),h=this.checkbox;if(g.shiftKey&&h&&c!=h){for(var i=!1,j=0,k=d.length;k>j;j++){var l=d[j];if(i){if(!f(l,h,c))break;l.checked||(l.setChecked(!0),e&&e(j,l,!0))}else f(d[j],h,c)||(i=!0)}try{b.getSelection?b.getSelection().removeAllRanges():document.selection.empty()}catch(m){}}this.checkbox=c.checked?c:null}var d=a.createClass($N("util.Shift"));a.Object.extend(d,{checkbox:null,handle:c})}($,window),function(a,b){function c(a){q.extend(this,a),this.listen()}function d(){try{var c=$L("support.AddressSupport",this)}catch(d){return d}var e=this;null!==this.input&&(this.input.listen("keyup",function(){var d=a.Event.get().which;if(13!==d&&27!==d){var f=e.data||c.data.extDataMap.contactLiteArray;f.length>500&&a.Browser.isIE()?(e.createMenuTimeout?b.clearTimeout(e.createMenuTimeout):e.createMenuTimeout=b.setTimeout(function(){e.createMenu()},150),b.setTimeout(function(){e.createMenu()},100)):e.createMenu()}}),this.input.listen("keydown",function(a){e.operate(a)}))}function e(b){var c=this,d=a.Event.getEvent()||b,e=d.keyCode,f=c.div,g=c.table;if(27===e&&a.Event.cancel(b),f&&g){var h=g.rows.length,i=this.selectedIndex;switch(e){case 9:a.Event.cancel();case 13:var i=this.selectedIndex;if("undefined"!=typeof i){var k=this.table.rows[i];this.groupFill&&k.groupIndex>=0?this.groupFill(k.groupIndex):this._fill(k.name),this._remove()}return;case 27:if(this.div)return this._remove(),void 0;break;case 38:c.finishMenu(),"undefined"==typeof i?this.selectedIndex=0:0===i?this.selectedIndex=h-1:this.selectedIndex--;break;case 40:c.finishMenu(),"undefined"==typeof i?this.selectedIndex=0:i==h-1?this.selectedIndex=0:this.selectedIndex++}j.call(this)}}function f(){function b(){if(a.Browser.isIE("<9"))for(var b=c.table.children[0];b.firstChild;)b.removeChild(b.firstChild);else c.table.children[0].innerHTML=""}var c=this;try{var d=$L("support.AddressSupport",this)}catch(e){return e}var f;f=c.data?c.data:d.getContactLiteArray("all");var g,h=[],i=c.match;if(g=c.outerKey?c.outerKey:c.input.dom.value,!g)return c.div&&c._remove(),void 0;if(g!=c.key||!c.div){var k=f;c.key&&0===g.indexOf(c.key)&&c.last&&!c.nostore&&(c.groupMatch&&c.key.length<=2||(k=c.last)),c.last=[];for(var l=0,m=k.length;m>l;l++){var n=k[l],o=i(g,n);o&&(h.push(o),c.last.push(n))}var q=[];if(c.groupData){var s=c.groupData;c.key&&0===g.indexOf(c.key)&&c.lastGroup&&(s=c.lastGroup),c.lastGroup=[];for(var l=0;l<s.length;l++){var t=s[l];c.groupMatch(g,t)&&(q.push(t),c.lastGroup.push(t))}}c.key=g;var u=h.length+q.length;if(u){var v,w;if(c.pos)v=c.pos[0],w=c.pos[1];else{var x=c.inputDiv||c.input,y=x.offset();v=y[0]-1,w=y[1]+x.dom.offsetHeight+1}var z=document;c.div?b():(c.div=c.createMenuContainer(v,w),c.table=c.createMenuBody(),c.div.appendChild(c.table),z.body.appendChild(c.div));var A=c.table.children[0],B=c.div;if(a.Array.each(h,function(b,d){if(b>c.MAX_COLUMN&&0===q.length)return c.toFinish=!0,c.matchData=h,a.BREAK;c.toFinish=!1,c.matchData=null;var e=d.replace(new RegExp(g,"g"),"__strong_start__"+g+"__strong_end__");e=r.encodeHTML(e),e=e.replace(new RegExp("__strong_start__","g"),'<strong unselectable="on">'),e=e.replace(new RegExp("__strong_end__","g"),"</strong>"),e='<span class="nui-menu-item-text" unselectable="on">'+e+"</span>";var f=A.insertRow(-1);f.setAttribute("unselectable","on"),f.name=d,f.className="nui-menu-item";var i=f.insertCell(-1);i.setAttribute("unselectable","on"),i.style.cursor="pointer",i.className="nui-menu-item-link",i.innerHTML=e,a(f).listen("click",a.Function.bind(c._click,c)),a(f).listen("mouseover",a.Function.bind(c._mouseover,c))}),q.length>0){var C=A.insertRow(-1);C.setAttribute("unselectable","on");var D=C.insertCell(-1);D.setAttribute("unselectable","on"),D.className="nui-menu-split nui-split"}a.Array.each(q,function(b,d){var e=d.N,f=e.replace(new RegExp(g,"g"),"__strong_start__"+g+"__strong_end__");f=r.encodeHTML(f),f=f.replace(new RegExp("__strong_start__","g"),"<strong>"),f=f.replace(new RegExp("__strong_end__","g"),"</strong>"),f='<span class="nui-menu-item-icon" style="top:9px;"><b class="nui-ico nui-ico-user nui-ico-user-group" unselectable="on"></b></span><span class="nui-menu-item-text" unselectable="on"> '+f+' <span class="txt-info" unselectable="on">'+p.t("(联系组)")+"</span></span>";var h=A.insertRow(-1);h.groupIndex=d.index,h.setAttribute("unselectable","on");var i=h.insertCell(-1);i.setAttribute("unselectable","on"),i.style.cursor="pointer",i.className="nui-menu-item-link",i.innerHTML=f,a(h).listen("click",a.Function.bind(c._click,c)),a(h).listen("mouseover",a.Function.bind(c._mouseover,c))}),c.selectNon||(c.selectedIndex=0),a.Browser.isIE()||a(B).listen("mousedown",c._mousedown),c.toFinish&&a(B).listen("scroll",a.Function.bind(c.finishMenu,c)),c.docClick=a.Function.bind(c._remove,c),a.Event.listen(z,"click",c.docClick),j.call(c),B.offsetWidth+B.offsetLeft>z.body.offsetWidth&&(B.style.right="0px",B.style.left="auto")}else c._remove()}}function g(a,b){var c=this,d=document,e=d.createElement("div");return e.className="nui-menu nui-menu-scroll nui-menu-hasMaxHeight nui-scroll",e.style.styleFloat="left",e.setAttribute("unselectable","on"),e.style.top=b+"px",c.rightAlign?(e.style.right="0px",e.style.left="auto"):e.style.left=a+"px",c.isTop&&(e.style.zIndex="1000"),e}function h(){var a=document,b=a.createElement("TABLE");b.setAttribute("unselectable","on");var c=a.createElement("TBODY");return c.setAttribute("unselectable","on"),b.appendChild(c),b}function i(){var b=this;if(b.toFinish){b.toFinish=!1;var c=b.key,d=b.table.firstChild;a.Array.each(b.matchData,function(e,f){if(e<=b.MAX_COLUMN)return a.CONTINUE;var g=f.replace(new RegExp(c,"g"),"__strong_start__"+c+"__strong_end__");g=r.encodeHTML(g),g=g.replace(new RegExp("__strong_start__","g"),'<strong unselectable="on">'),g=g.replace(new RegExp("__strong_end__","g"),"</strong>"),g='<span class="nui-menu-item-text" unselectable="on">'+g+"</span>";var h=d.insertRow(-1);h.setAttribute("unselectable","on"),h.name=f,h.className="nui-menu-item";var i=h.insertCell(-1);i.setAttribute("unselectable","on"),i.style.cursor="pointer",i.className="nui-menu-item-link",i.innerHTML=g,a(h).listen("click",a.Function.bind(b._click,b)),a(h).listen("mouseover",a.Function.bind(b._mouseover,b))}),b.matchData=null}}function j(a){var b=this,c=b.selectedIndex;if("undefined"!=typeof c){var d=b.table.rows[c];if(b.div&&d){var e=this.currItem;if(e&&(e.className="nui-menu-item"),d.className="nui-menu-item nui-menu-item-hover",this.currItem=d,!a){var f=200,g=27*c-f+15;b.div.scrollTop=g>0?g+100:0}}}}function k(a){var b=this;b.fill?b.fill(a):b.input.dom.value=a}function l(){var c=this,d=c.div;if(d){try{d.parentNode.removeChild(d)}catch(e){try{d.removeNode(!0)}catch(f){d.style.display="none",d.id=""}}delete this.selectedIndex,d=null,c.div=null,c.table=null}var g=c.isTop?top.document:b.document;c.docClick&&a.Event.unlisten(g,"click",c.docClick),c.removing=!0,setTimeout(function(){c.removing=!1},0)}function m(){var a=this.selectedIndex;if("undefined"!=typeof a){var b=this.table.rows[a];this.groupFill&&b.groupIndex>=0?this.groupFill(b.groupIndex):this._fill(b.name),this._remove()}}function n(b){for(var c=this,d=a.Event.getTarget(b);"TR"!=d.tagName;)d=d.parentNode;if("TR"==d.tagName)for(var e=c.table.rows,f=0,g=e.length;g>f;f++)if(e[f]==d){c.selectedIndex=f,j.call(c,!0);break}}function o(){a.Event.cancel()}var p=new $I18N("util.AutoComplete"),q=a.Object,r=a.String,s=a.createClass($N("util.AutoComplete")),t={initialize:c,listen:d,createMenu:f,finishMenu:i,createMenuContainer:g,createMenuBody:h,operate:e,_remove:l,_click:m,_mouseover:n,_mousedown:o,_fill:k,product:"",MAX_COLUMN:20,_timer:0,nostore:!1,match:null,input:null,last:null,data:null,outerKey:null};q.extend(s.prototype,t)}($,window),function(a){function b(a,b){var d=a.toString(),e=c.items,f=(new Date).getTime();for(var g in e){var h=e[g],i=h.time,j=h.diff;f-i>=j&&delete e[g]}var k=e[d];return k||b>0&&(e[d]={time:f,diff:b}),k}var c=a.createClass($N("util.TimeFlag"));a.Object.extend(c,{items:{},handle:b})}($,window),function(a,b,c){function d(b){var c=this,d=("Win32"==navigator.platform||"Windows"==navigator.platform)&&(navigator.userAgent.indexOf("Windows NT 6.1")>-1||navigator.userAgent.indexOf("Windows 7")>-1);if(!d)return b;String.prototype.codePointAt||e();try{var g=/([\u0023-\u0040]\u20e3)|(\ud83c[\udde0-\uddff]\ud83c[\udde0-\uddff])|(\ud83c[\udd00-\udfff])|(\ud83d[\udc00-\udf0d])|[\u203c-\u3299]/g;b=b.replace(g,function(b){var d;return d=/([\u0023-\u0040]\u20e3)/g.exec(b)?f(b.codePointAt(0).toString(16))+"-"+f(b.codePointAt(1).toString(16)):/(\ud83c[\udde0-\uddff]\ud83c[\udde0-\uddff])/g.exec(b)?f(b.codePointAt(0).toString(16))+"-"+f(b.codePointAt(2).toString(16)):f(b.codePointAt().toString(16)),d&&a.Array.has(c.CODEMAP,d)?'<img width="16" height="16" src="'+c.DIST+d+'.png">':b})}catch(h){}return b}function e(){!function(){"use strict";var a=function(){try{var a={},b=Object.defineProperty,c=b(a,a,a)&&b}catch(d){}return c}(),b=function(a){if(null===this)throw new TypeError;var b=String(this),d=b.length,e=a?Number(a):0;if(e!=e&&(e=0),0>e||e>=d)return c;var f,g=b.charCodeAt(e);return g>=55296&&56319>=g&&d>e+1&&(f=b.charCodeAt(e+1),f>=56320&&57343>=f)?1024*(g-55296)+f-56320+65536:g};a?a(String.prototype,"codePointAt",{value:b,configurable:!0,writable:!0}):String.prototype.codePointAt=b}()}function f(a){var b=a.length;if(4>b)for(var c=0;4-b>c;c++)a="0"+a;return a}var g=a.createClass($N("util.Emoji"));a.Object.extend(g,{DIST:"//mimg.127.net/ggimg/all/emoji/apple-dist/",fix:d}),g.CODEMAP=["1f601","1f602","1f603","1f604","1f605","1f606","1f609","1f60a","1f60b","1f60c","1f60d","1f60f","1f612","1f613","1f614","1f616","1f618","1f61a","1f61c","1f61d","1f61e","1f620","1f621","1f622","1f623","1f624","1f625","1f628","1f629","1f62a","1f62b","1f62d","1f630","1f631","1f632","1f633","1f635","1f637","1f638","1f639","1f63a","1f63b","1f63c","1f63d","1f63e","1f63f","1f640","1f645","1f646","1f647","1f648","1f649","1f64a","1f64b","1f64c","1f64d","1f64e","1f64f","2702","2705","2708","2709","270a","270b","270c","270f","2712","2714","2716","2728","2733","2734","2744","2747","274c","274e","2753","2754","2755","2757","2764","2795","2796","2797","27a1","27b0","1f680","1f683","1f684","1f685","1f687","1f689","1f68c","1f68f","1f691","1f692","1f693","1f695","1f697","1f699","1f69a","1f6a2","1f6a4","1f6a5","1f6a7","1f6a8","1f6a9","1f6aa","1f6ab","1f6ac","1f6ad","1f6b2","1f6b6","1f6b9","1f6ba","1f6bb","1f6bc","1f6bd","1f6be","1f6c0","24c2","1f170","1f171","1f17e","1f17f","1f18e","1f191","1f192","1f193","1f194","1f195","1f196","1f197","1f198","1f199","1f19a","1f1e9-1f1ea","1f1ec-1f1e7","1f1e8-1f1f3","1f1ef-1f1f5","1f1eb-1f1f7","1f1f0-1f1f7","1f1ea-1f1f8","1f1ee-1f1f9","1f1f7-1f1fa","1f1fa-1f1f8","1f201","1f202","1f21a","1f22f","1f232","1f233","1f234","1f235","1f236","1f237","1f238","1f239","1f23a","1f250","1f251","00a9","00ae","203c","2049","0023-20e3","0038-20e3","0039-20e3","0037-20e3","0030-20e3","0036-20e3","0035-20e3","0034-20e3","0033-20e3","0032-20e3","0031-20e3","2122","2139","2194","2195","2196","2197","2198","2199","21a9","21aa","231a","231b","23e9","23ea","23eb","23ec","23f0","23f3","25aa","25ab","25b6","25c0","25fb","25fc","25fd","25fe","2600","2601","260e","2611","2614","2615","261d","263a","2648","2649","264a","264b","264c","264d","264e","264f","2650","2651","2652","2653","2660","2663","2665","2666","2668","267b","267f","2693","26a0","26a1","26aa","26ab","26bd","26be","26c4","26c5","26ce","26d4","26ea","26f2","26f3","26f5","26fa","26fd","2934","2935","2b05","2b06","2b07","2b1b","2b1c","2b50","2b55","3030","303d","3297","3299","1f004","1f0cf","1f300","1f301","1f302","1f303","1f304","1f305","1f306","1f307","1f308","1f309","1f30a","1f30b","1f30c","1f30f","1f311","1f313","1f314","1f315","1f319","1f31b","1f31f","1f320","1f330","1f331","1f334","1f335","1f337","1f338","1f339","1f33a","1f33b","1f33c","1f33d","1f33e","1f33f","1f340","1f341","1f342","1f343","1f344","1f345","1f346","1f347","1f348","1f349","1f34a","1f34c","1f34d","1f34e","1f34f","1f351","1f352","1f353","1f354","1f355","1f356","1f357","1f358","1f359","1f35a","1f35b","1f35c","1f35d","1f35e","1f35f","1f360","1f361","1f362","1f363","1f364","1f365","1f366","1f367","1f368","1f369","1f36a","1f36b","1f36c","1f36d","1f36e","1f36f","1f370","1f371","1f372","1f373","1f374","1f375","1f376","1f377","1f378","1f379","1f37a","1f37b","1f380","1f381","1f382","1f383","1f384","1f385","1f386","1f387","1f388","1f389","1f38a","1f38b","1f38c","1f38d","1f38e","1f38f","1f390","1f391","1f392","1f393","1f3a0","1f3a1","1f3a2","1f3a3","1f3a4","1f3a5","1f3a6","1f3a7","1f3a8","1f3a9","1f3aa","1f3ab","1f3ac","1f3ad","1f3ae","1f3af","1f3b0","1f3b1","1f3b2","1f3b3","1f3b4","1f3b5","1f3b6","1f3b7","1f3b8","1f3b9","1f3ba","1f3bb","1f3bc","1f3bd","1f3be","1f3bf","1f3c0","1f3c1","1f3c2","1f3c3","1f3c4","1f3c6","1f3c8","1f3ca","1f3e0","1f3e1","1f3e2","1f3e3","1f3e5","1f3e6","1f3e7","1f3e8","1f3e9","1f3ea","1f3eb","1f3ec","1f3ed","1f3ee","1f3ef","1f3f0","1f40c","1f40d","1f40e","1f411","1f412","1f414","1f417","1f418","1f419","1f41a","1f41b","1f41c","1f41d","1f41e","1f41f","1f420","1f421","1f422","1f423","1f424","1f425","1f426","1f427","1f428","1f429","1f42b","1f42c","1f42d","1f42e","1f42f","1f430","1f431","1f432","1f433","1f434","1f435","1f436","1f437","1f438","1f439","1f43a","1f43b","1f43c","1f43d","1f43e","1f440","1f442","1f443","1f444","1f445","1f446","1f447","1f448","1f449","1f44a","1f44b","1f44c","1f44d","1f44e","1f44f","1f450","1f451","1f452","1f453","1f454","1f455","1f456","1f457","1f458","1f459","1f45a","1f45b","1f45c","1f45d","1f45e","1f45f","1f460","1f461","1f462","1f463","1f464","1f466","1f467","1f468","1f469","1f46a","1f46b","1f46e","1f46f","1f470","1f471","1f472","1f473","1f474","1f475","1f476","1f477","1f478","1f479","1f47a","1f47b","1f47c","1f47d","1f47e","1f47f","1f480","1f481","1f482","1f483","1f484","1f485","1f486","1f487","1f488","1f489","1f48a","1f48b","1f48c","1f48d","1f48e","1f48f","1f490","1f491","1f492","1f493","1f494","1f495","1f496","1f497","1f498","1f499","1f49a","1f49b","1f49c","1f49d","1f49e","1f49f","1f4a0","1f4a1","1f4a2","1f4a3","1f4a4","1f4a5","1f4a6","1f4a7","1f4a8","1f4a9","1f4aa","1f4ab","1f4ac","1f4ae","1f4af","1f4b0","1f4b1","1f4b2","1f4b3","1f4b4","1f4b5","1f4b8","1f4b9","1f4ba","1f4bb","1f4bc","1f4bd","1f4be","1f4bf","1f4c0","1f4c1","1f4c2","1f4c3","1f4c4","1f4c5","1f4c6","1f4c7","1f4c8","1f4c9","1f4ca","1f4cb","1f4cc","1f4cd","1f4ce","1f4cf","1f4d0","1f4d1","1f4d2","1f4d3","1f4d4","1f4d5","1f4d6","1f4d7","1f4d8","1f4d9","1f4da","1f4db","1f4dc","1f4dd","1f4de","1f4df","1f4e0","1f4e1","1f4e2","1f4e3","1f4e4","1f4e5","1f4e6","1f4e7","1f4e8","1f4e9","1f4ea","1f4eb","1f4ee","1f4f0","1f4f1","1f4f2","1f4f3","1f4f4","1f4f6","1f4f7","1f4f9","1f4fa","1f4fb","1f4fc","1f503","1f50a","1f50b","1f50c","1f50d","1f50e","1f50f","1f510","1f511","1f512","1f513","1f514","1f516","1f517","1f518","1f519","1f51a","1f51b","1f51c","1f51d","1f51e","1f51f","1f520","1f521","1f522","1f523","1f524","1f525","1f526","1f527","1f528","1f529","1f52a","1f52b","1f52e","1f52f","1f530","1f531","1f532","1f533","1f534","1f535","1f536","1f537","1f538","1f539","1f53a","1f53b","1f53c","1f53d","1f550","1f551","1f552","1f553","1f554","1f555","1f556","1f557","1f558","1f559","1f55a","1f55b","1f5fb","1f5fc","1f5fd","1f5fe","1f5ff","1f600","1f607","1f608","1f60e","1f610","1f611","1f615","1f617","1f619","1f61b","1f61f","1f626","1f627","1f62c","1f62e","1f62f","1f634","1f636","1f681","1f682","1f686","1f688","1f68a","1f68d","1f68e","1f690","1f694","1f696","1f698","1f69b","1f69c","1f69d","1f69e","1f69f","1f6a0","1f6a1","1f6a3","1f6a6","1f6ae","1f6af","1f6b0","1f6b1","1f6b3","1f6b4","1f6b5","1f6b7","1f6b8","1f6bf","1f6c1","1f6c2","1f6c3","1f6c4","1f6c5","1f30d","1f30e","1f310","1f312","1f316","1f317","1f318","1f31a","1f31c","1f31d","1f31e","1f332","1f333","1f34b","1f350","1f37c","1f3c7","1f3c9","1f3e4","1f400","1f401","1f402","1f403","1f404","1f405","1f406","1f407","1f408","1f409","1f40a","1f40b","1f40f","1f410","1f413","1f415","1f416","1f42a","1f465","1f46c","1f46d","1f4ad","1f4b6","1f4b7","1f4ec","1f4ed","1f4ef","1f4f5","1f500","1f501","1f502","1f504","1f505","1f506","1f507","1f509","1f515","1f52c","1f52d","1f55c","1f55d","1f55e","1f55f","1f560","1f561","1f562","1f563","1f564","1f565","1f566","1f567"]}($,window),function(a){function b(a){if(!a)return"";for(var b=0;f>b;b++)if(-1!==e[b][1].indexOf(a))return e[b][0];return/[\u0020-\u007e]/.test(a)?a:null}function c(a,b){for(var c,d=a.length,e="",f=this.pydic,g=0;d>g;g++)c=a.charAt(g),f[c]||(f[c]=this.han2py(c)),b?f[c]&&(e+=f[c].charAt(0)):e+=f[c]||"";return e}var d=a.createClass($N("support.PyDict"));a.Object.extend(d,{pydic:{},han2py:b,getPy:c});var e=[["a","啊阿吖嗄锕"],["ai","埃挨哎唉哀皑癌蔼矮艾碍爱隘捱嗳嫒瑷暧砹锿霭"],["an","鞍氨安俺按暗岸胺案谙埯揞庵桉铵鹌黯"],["ang","肮昂盎"],["ao","凹敖熬翱袄傲奥懊澳坳拗嗷岙廒遨媪骜獒聱螯鏊鳌鏖"],["ba","芭捌扒叭吧笆八疤巴拔跋靶把坝霸罢爸茇菝岜灞钯粑鲅魃"],["bai","白柏百摆佰败拜稗捭掰"],["ban","斑班搬扳般颁板版扮拌伴瓣半办绊阪坂钣瘢癍舨"],["bang","邦帮梆榜膀绑棒磅蚌镑傍谤蒡浜"],["bao","苞胞包褒薄雹保堡饱宝抱报暴豹鲍爆曝勹葆孢煲鸨褓趵龅"],["bei","杯碑悲卑北辈背贝钡倍狈备惫焙被孛陂邶蓓呗悖碚鹎褙鐾鞴"],["ben","奔苯本笨畚坌锛"],["beng","崩绷甭泵蹦迸嘣甏"],["bi","逼鼻比鄙笔彼碧蓖蔽毕毙毖币庇痹闭敝弊必壁臂避陛匕俾荜荸萆薜吡哔狴庳愎滗濞弼妣婢嬖璧贲睥畀铋秕裨筚箅篦舭襞跸髀"],["bian","鞭边编贬扁便变卞辨辩辫遍匾弁苄忭汴缏煸砭碥窆褊蝙笾鳊"],["biao","标彪膘表婊骠飑飙飚镖镳瘭裱鳔"],["bie","鳖憋别瘪蹩"],["bin","彬斌濒滨宾摈傧豳缤玢殡膑镔髌鬓"],["bing","兵冰柄丙秉饼炳病并禀邴摒槟"],["bo","剥玻菠播拨钵波博勃搏铂箔伯帛舶脖膊渤泊驳卜亳啵饽檗擘礴钹鹁簸跛踣"],["bu","捕哺补埠不布步簿部怖卟逋瓿晡钚钸醭"],["ca","擦礤"],["cai","猜裁材才财睬踩采彩菜蔡"],["can","餐参蚕残惭惨灿孱骖璨粲黪"],["cang","苍舱仓沧藏伧"],["cao","操糙槽曹草嘈漕螬艚"],["ce","厕策侧册测恻"],["cen","岑涔"],["ceng","层蹭曾噌"],["cha","插叉茬茶查碴搽察岔差诧嚓猹馇汊姹杈槎檫锸镲衩"],["chai","拆柴豺侪钗瘥虿"],["chan","搀掺蝉馋谗缠铲产阐颤冁谄蒇廛忏潺澶羼婵骣觇禅蟾躔"],["chang","昌猖场尝常长偿肠厂敞畅唱倡伥鬯苌菖徜怅阊娼嫦昶氅鲳"],["chao","超抄钞朝嘲潮巢吵炒怊晁焯耖"],["che","车扯撤掣彻澈坼砗"],["chen","郴臣辰尘晨忱沉陈趁衬谌谶抻嗔宸琛榇碜龀"],["cheng","撑称城橙成呈乘程惩澄诚承逞骋秤丞埕枨柽塍瞠铖裎蛏酲"],["chi","吃痴持池迟弛驰耻齿侈尺赤翅斥炽傺墀茌叱哧啻嗤彳饬媸敕眵鸱瘛褫蚩螭笞篪豉踟魑"],["chong","充冲虫崇宠茺忡憧铳舂艟"],["chou","抽酬畴踌稠愁筹仇绸瞅丑臭俦帱惆瘳雠"],["chu","初出橱厨躇锄雏滁除楚础储矗搐触处畜亍刍怵憷绌杵楮樗褚蜍蹰黜"],["chuai","揣搋啜膪踹"],["chuan","川穿椽传船喘串舛遄氚钏舡"],["chuang","疮窗床闯创怆"],["chui","吹炊捶锤垂陲棰槌"],["chun","春椿醇唇淳纯蠢莼鹑蝽"],["chuo","戳绰辍踔龊"],["ci","疵茨磁雌辞慈瓷词此刺赐次茈祠鹚糍"],["cong","聪葱囱匆从丛苁淙骢琮璁枞"],["cou","凑楱辏腠"],["cu","粗醋簇促蔟徂猝殂蹙蹴"],["cuan","蹿篡窜汆撺爨镩"],["cui","摧崔催脆瘁粹淬翠萃啐悴璀榱毳"],["cun","村存寸忖皴"],["cuo","磋撮搓措挫错厝嵯脞锉矬痤鹾蹉"],["da","搭达答瘩打大耷哒嗒怛妲沓褡笪靼鞑"],["dai","呆歹傣戴带殆代贷袋待逮怠埭甙呔岱迨绐玳黛"],["dan","耽担丹单郸掸胆旦氮但惮淡诞弹蛋儋凼萏菪啖澹宕殚赕眈疸瘅聃箪"],["dang","当挡党荡档谠砀铛裆"],["dao","刀捣蹈倒岛祷导到稻悼道盗叨氘焘纛"],["de","德得的锝"],["deng","蹬灯登等瞪凳邓噔嶝戥磴镫簦"],["di","堤低滴迪敌笛狄涤翟嫡抵底地蒂第帝弟递缔氐籴诋谛邸坻荻嘀娣柢棣觌祗砥碲睇镝羝骶"],["dia","嗲"],["dian","颠掂滇碘点典靛垫电佃甸店惦奠淀殿丶阽坫巅玷钿癜癫簟踮"],["diao","碉叼雕凋刁掉吊钓调铞貂鲷"],["die","跌爹碟蝶迭谍叠垤堞揲喋牒瓞耋鲽"],["ding","丁盯叮钉顶鼎锭定订仃啶玎腚碇町疔耵酊"],["diu","丢铥"],["dong","东冬董懂动栋侗恫冻洞垌咚岽峒氡胨胴硐鸫"],["dou","兜抖斗陡豆逗痘都蔸钭窦蚪篼"],["du","督毒犊独读堵睹赌杜镀肚度渡妒芏嘟渎椟牍蠹笃髑黩"],["duan","端短锻段断缎椴煅簖"],["dui","堆兑队对怼憝碓镦"],["dun","墩吨蹲敦顿钝盾遁沌炖砘礅盹趸"],["duo","掇哆多夺垛躲朵跺舵剁惰堕咄哚沲缍铎裰踱"],["e","蛾峨鹅俄额讹娥恶厄扼遏鄂饿噩谔垩苊莪萼呃愕屙婀轭腭锇锷鹗颚鳄"],["ei","诶"],["en","恩蒽摁嗯"],["er","而儿耳尔饵洱二贰迩珥铒鸸鲕"],["fa","发罚筏伐乏阀法珐垡砝"],["fan","藩帆番翻樊矾钒繁凡烦反返范贩犯饭泛蕃蘩幡梵燔畈蹯"],["fang","坊芳方肪房防妨仿访纺放邡枋钫舫鲂"],["fei","菲非啡飞肥匪诽吠肺废沸费芾狒悱淝妃绯榧腓斐扉砩镄痱蜚篚翡霏鲱"],["fen","芬酚吩氛分纷坟焚汾粉奋份忿愤粪偾瀵棼鲼鼢"],["feng","丰封枫蜂峰锋风疯烽逢冯缝讽奉凤俸酆葑唪沣砜"],["fo","佛"],["fou","否缶"],["fu","夫敷肤孵扶拂辐幅氟符伏俘服浮涪福袱弗甫抚辅俯釜斧脯腑府腐赴副覆赋复傅付阜父腹负富讣附妇缚咐匐凫郛芙苻茯莩菔拊呋呒幞怫滏艴孚驸绂绋桴赙祓黻黼罘稃馥蚨蜉蝠蝮麸趺跗鲋鳆"],["ga","噶嘎垓尬尕尜旮钆"],["gai","该改概钙盖溉丐陔戤赅"],["gan","干甘杆柑竿肝赶感秆敢赣坩苷尴擀泔淦澉绀橄旰矸疳酐"],["gang","冈刚钢缸肛纲岗港杠戆罡筻"],["gao","篙皋高膏羔糕搞镐稿告睾诰郜藁缟槔槁杲锆"],["ge","哥歌搁戈鸽胳疙割革葛格蛤阁隔铬个各咯鬲仡哿圪塥嗝纥搿膈硌镉袼虼舸骼"],["gei","给"],["gen","根跟亘茛哏艮"],["geng","耕更庚羹埂耿梗哽赓绠鲠"],["gong","工攻功恭龚供躬公宫弓巩汞拱贡共珙肱蚣觥"],["gou","钩勾沟苟狗垢构购够佝诟岣遘媾缑枸觏彀笱篝鞲"],["gu","辜菇咕箍估沽孤姑鼓古蛊骨谷股故顾固雇嘏诂菰崮汩梏轱牯牿臌毂瞽罟钴锢鸪痼蛄酤觚鲴"],["gua","刮瓜剐寡挂褂卦诖呱栝胍鸹"],["guai","乖拐怪"],["guan","棺关官冠观管馆罐惯灌贯倌莞掼涫盥鹳鳏"],["guang","光广逛咣犷桄胱"],["gui","瑰规圭硅归龟闺轨鬼诡癸桂柜跪贵刽匦刿庋宄妫炅晷皈簋鲑鳜"],["gun","辊滚棍衮绲磙鲧"],["guo","锅郭国果裹过馘埚掴呙帼崞猓椁虢聒蜾蝈"],["ha","哈铪"],["hai","骸孩海氦亥害骇嗨胲醢"],["han","酣憨邯韩含涵寒函喊罕翰撼捍旱憾悍焊汗汉邗菡撖犴阚瀚晗焓顸颔蚶鼾"],["hang","夯杭航沆绗颃"],["hao","壕嚎豪毫郝好耗号浩蒿薅嗥嚆濠灏昊皓颢蚝"],["he","呵喝荷菏核禾和何合盒貉阂河涸赫褐鹤贺诃劾壑嗬阖曷盍颌蚵翮"],["hei","嘿黑"],["hen","痕很狠恨"],["heng","哼亨横衡恒蘅珩桁"],["hong","轰哄烘虹鸿洪宏弘红黉訇讧荭蕻薨闳泓"],["hou","喉侯猴吼厚候后堠後逅瘊篌糇鲎骺"],["hu","呼乎忽瑚壶葫胡蝴狐糊湖弧虎唬护互沪户冱唿囫岵猢怙惚浒滹琥槲轷觳烀煳戽扈祜瓠鹄鹕鹱笏醐斛鹘"],["hua","花哗华猾滑画划化话骅桦砉铧"],["huai","槐徊怀淮坏踝"],["huan","欢环桓还缓换患唤痪豢焕涣宦幻奂擐獾洹浣漶寰逭缳锾鲩鬟"],["huang","荒慌黄磺蝗簧皇凰惶煌晃幌恍谎隍徨湟潢遑璜肓癀蟥篁鳇"],["hui","灰挥辉徽恢蛔回毁悔慧卉惠晦贿秽会烩汇讳诲绘诙茴荟蕙咴喙隳洄彗缋桧晖恚虺蟪麾"],["hun","荤昏婚魂浑混诨馄阍溷珲"],["huo","豁活伙火获或惑霍货祸劐藿攉嚯夥钬锪镬耠蠖"],["ji","击圾基机畸稽积箕肌饥迹激讥鸡姬绩缉吉极棘辑籍集及急疾汲即嫉级挤几脊己蓟技冀季伎祭剂悸济寄寂计记既忌际妓继纪藉亟乩剞佶偈墼芨芰荠蒺蕺掎叽咭哜唧岌嵴洎屐骥畿玑楫殛戟戢赍觊犄齑矶羁嵇稷瘠虮笈笄暨跻跽霁鲚鲫髻麂"],["jia","嘉枷夹佳家加荚颊贾甲钾假稼价架驾嫁伽郏葭岬浃迦珈戛胛恝铗镓痂瘕蛱笳袈跏"],["jian","歼监坚尖笺间煎兼肩艰奸缄茧检柬碱硷拣捡简俭剪减荐槛鉴践贱见键箭件健舰剑饯渐溅涧建僭谏谫菅蒹搛湔蹇謇缣枧楗戋戬牮犍毽腱睑锏鹣裥笕翦踺鲣鞯"],["jiang","僵姜将浆江疆蒋桨奖讲匠酱降茳洚绛缰犟礓耩糨豇"],["jiao","蕉椒礁焦胶交郊浇骄娇嚼搅铰矫侥脚狡角饺缴绞剿教酵轿较叫窖佼僬艽茭挢噍徼姣敫皎鹪蛟醮跤鲛"],["jie","揭接皆秸街阶截劫节桔杰捷睫竭洁结解姐戒芥界借介疥诫届讦诘拮喈嗟婕孑桀碣疖颉蚧羯鲒骱"],["jin","巾筋斤金今津襟紧锦仅谨进靳晋禁近烬浸尽劲卺荩堇噤馑廑妗缙瑾槿赆觐衿矜"],["jing","荆兢茎睛晶鲸京惊精粳经井警景颈静境敬镜径痉靖竟竞净刭儆阱菁獍憬泾迳弪婧肼胫腈旌箐"],["jiong","炯窘迥扃"],["jiu","揪究纠玖韭久灸九酒厩救旧臼舅咎就疚僦啾阄柩桕鸠鹫赳鬏"],["ju","鞠拘狙疽居驹菊局咀矩举沮聚拒据巨具距踞锯俱句惧炬剧倨讵苣苴莒掬遽屦琚椐榘榉橘犋飓钜锔窭裾醵踽龃雎鞫"],["juan","捐鹃娟倦眷卷绢鄄狷涓桊蠲锩镌隽"],["jue","撅攫抉掘倔爵觉决诀绝厥劂谲矍蕨噘崛獗孓珏桷橛爝镢蹶觖"],["jun","均菌钧军君峻俊竣浚郡骏捃皲"],["ka","喀咖卡佧咔胩"],["kai","开揩楷凯慨剀垲蒈忾恺铠锎锴"],["kan","刊堪勘坎砍看侃莰戡龛瞰"],["kang","康慷糠扛抗亢炕伉闶钪"],["kao","考拷烤靠尻栲犒铐"],["ke","坷苛柯棵磕颗科壳咳可渴克刻客课嗑岢恪溘骒缂珂轲氪瞌钶锞稞疴窠颏蝌髁"],["ken","肯啃垦恳裉"],["keng","坑吭铿"],["kong","空恐孔控倥崆箜"],["kou","抠口扣寇芤蔻叩囗眍筘"],["ku","枯哭窟苦酷库裤刳堀喾绔骷"],["kua","夸垮挎跨胯侉"],["kuai","块筷侩快蒯郐哙狯浍脍"],["kuan","宽款髋"],["kuang","匡筐狂框矿眶旷况诓诳邝圹夼哐纩贶"],["kui","亏盔岿窥葵奎魁傀馈愧溃馗匮夔隗蒉揆喹喟悝愦逵暌睽聩蝰篑跬"],["kun","坤昆捆困悃阃琨锟醌鲲髡"],["kuo","括扩廓阔蛞"],["la","垃拉喇蜡腊辣啦剌邋旯砬瘌"],["lai","莱来赖崃徕涞濑赉睐铼癞籁"],["lan","蓝婪栏拦篮阑兰澜谰揽览懒缆烂滥岚漤榄斓罱镧褴"],["lang","琅榔狼廊郎朗浪蒗啷阆稂螂"],["lao","捞劳牢老佬姥酪烙涝唠崂忉栳铑铹痨耢醪"],["le","勒乐了仂叻泐鳓"],["lei","雷镭蕾磊累儡垒擂肋类泪羸诔嘞嫘缧檑耒酹"],["leng","棱楞冷塄愣"],["li","厘梨犁黎篱狸离漓理李里鲤礼莉荔吏栗丽厉励砾历利傈例俐痢立粒沥隶力璃哩俪俚郦坜苈莅蓠藜呖唳喱猁溧澧逦娌嫠骊缡枥栎轹膦戾砺詈罹锂鹂疠疬蛎蜊蠡笠篥粝醴跞雳鲡鳢黧"],["lian","联莲连镰廉怜涟帘敛脸链恋炼练蔹奁潋濂琏楝殓臁裢裣蠊鲢"],["liang","俩粮凉梁粱良两辆量晾亮谅墚莨椋锒踉靓魉"],["liao","撩聊僚疗燎寥辽潦撂镣廖料蓼尥嘹獠寮缭钌鹩"],["lie","列裂烈劣猎冽埒捩咧洌趔躐鬣"],["lin","琳林磷霖临邻鳞淋凛赁吝拎蔺啉嶙廪懔遴檩辚瞵粼躏麟"],["ling","玲菱零龄铃伶羚凌灵陵岭领另令酃苓呤囹泠绫柃棂瓴聆蛉翎鲮"],["liu","溜琉榴硫馏留刘瘤流柳六浏遛骝绺旒熘锍镏鹨鎏"],["long","龙聋咙笼窿隆垄拢陇垅茏泷珑栊胧砻癃"],["lou","楼娄搂篓漏陋偻蒌喽嵝镂瘘耧蝼髅"],["lu","芦卢颅庐炉掳卤虏鲁麓碌露路赂鹿潞禄录陆戮垆撸噜泸渌漉逯璐栌橹轳辂辘氇胪镥鸬鹭簏舻鲈"],["luan","峦挛孪滦卵乱脔娈栾鸾銮"],["lue","掠略锊"],["lun","抡轮伦仑沦纶论囵"],["luo","萝螺罗逻锣箩骡裸落洛骆络倮蠃荦摞猡泺漯珞椤脶镙瘰雒"],["lv","驴吕铝侣旅履屡缕虑氯律滤绿捋闾榈膂稆褛"],["ma","妈麻玛码蚂马骂嘛吗唛犸杩蟆"],["mai","埋买麦卖迈脉劢荬霾"],["man","瞒馒蛮满蔓曼慢漫谩墁幔缦熳镘颟螨鳗鞔"],["mang","芒茫盲氓忙莽邙漭硭蟒"],["mao","猫茅锚毛矛铆卯茂冒帽貌贸袤茆峁泖瑁昴牦耄旄懋瞀蝥蟊髦"],["me","么麽"],["mei","玫枚梅酶霉煤没眉媒镁每美昧寐妹媚莓嵋猸浼湄楣镅鹛袂魅"],["men","门闷们扪焖懑钔"],["meng","萌蒙檬盟锰猛梦孟勐甍瞢懵朦礞虻蜢蠓艋艨"],["mi","眯醚靡糜迷谜弥米秘觅泌蜜密幂芈谧咪嘧猕汨宓弭脒祢敉縻麋"],["mian","棉眠绵冕免勉娩缅面沔渑湎腼眄"],["miao","苗描瞄藐秒渺庙妙喵邈缈杪淼眇鹋"],["mie","蔑灭乜咩蠛篾"],["min","民抿皿敏悯闽苠岷闵泯缗玟珉愍黾鳘"],["ming","明螟鸣铭名命冥茗溟暝瞑酩"],["miu","谬缪"],["mo","摸摹蘑模膜磨摩魔抹末莫墨默沫漠寞陌谟茉蓦馍嫫嬷殁镆秣瘼耱貊貘"],["mou","谋牟某侔哞眸蛑鍪"],["mu","拇牡亩姆母墓暮幕募慕木目睦牧穆仫坶苜沐毪钼"],["na","拿哪呐钠那娜纳讷捺肭镎衲"],["nai","氖乃奶耐奈鼐佴艿萘柰"],["nan","南男难喃囝囡楠腩蝻赧"],["nang","囊攮囔馕曩"],["nao","挠脑恼闹淖孬垴呶猱瑙硇铙蛲"],["ne","呢"],["nei","馁内"],["nen","嫩恁"],["neng","能"],["ni","妮霓倪泥尼拟你匿腻逆溺伲坭蘼猊怩昵旎睨铌鲵"],["nian","蔫拈年碾撵捻念廿埝辇黏鲇鲶"],["niang","娘酿"],["niao","鸟尿茑嬲脲袅"],["nie","捏聂孽啮镊镍涅陧蘖嗫颞臬蹑"],["nin","您"],["ning","柠狞凝宁拧泞佞咛甯聍"],["niu","牛扭钮纽狃忸妞"],["nong","脓浓农弄侬哝"],["nou","耨"],["nu","奴努怒弩胬孥驽"],["nuan","暖"],["nue","虐疟挪"],["nuo","懦糯诺傩搦喏锘"],["nv","女恧钕衄"],["o","哦噢"],["ou","欧鸥殴藕呕偶沤讴怄瓯耦"],["pa","耙啪趴爬帕怕琶葩杷筢"],["pai","拍排牌徘湃派俳蒎哌"],["pan","攀潘盘磐盼畔判叛拚爿泮袢襻蟠蹒"],["pang","乓庞旁耪胖彷滂逄螃"],["pao","抛咆刨炮袍跑泡匏狍庖脬疱"],["pei","呸胚培裴赔陪配佩沛辔帔旆锫醅霈"],["pen","喷盆湓"],["peng","砰抨烹澎彭蓬棚硼篷膨朋鹏捧碰堋嘭怦蟛"],["pi","辟坯砒霹批披劈琵毗啤脾疲皮匹痞僻屁譬丕仳陴邳郫圮埤鼙芘擗噼庀淠媲纰枇甓罴铍癖疋蚍蜱貔"],["pian","篇偏片骗谝骈犏胼翩蹁"],["piao","飘漂瓢票剽嘌嫖缥殍瞟螵"],["pie","撇瞥丿苤氕"],["pin","拼频贫品聘姘嫔榀牝颦"],["ping","乒坪苹萍平凭瓶评屏俜娉枰鲆"],["po","坡泼颇婆破魄迫粕叵鄱珀钋钷皤笸"],["pou","剖裒掊"],["pu","扑铺仆莆葡菩蒲埔朴圃普浦谱瀑匍噗溥濮璞氆镤镨蹼"],["qi","期欺戚妻七凄漆柒沏其棋奇歧畦崎脐齐旗祈祁骑起岂乞企启契砌器气迄弃汽泣讫亓圻芑芪萁萋葺蕲嘁屺岐汔淇骐绮琪琦杞桤槭耆祺憩碛颀蛴蜞綦鳍麒"],["qia","掐恰洽葜袷髂"],["qian","牵扦钎铅千迁签仟谦乾黔钱钳前潜遣浅谴堑嵌欠歉倩佥阡芊芡掮岍悭慊骞搴褰缱椠肷愆钤虔箝"],["qiang","枪呛腔羌墙蔷强抢戕嫱樯戗炝锖锵镪襁蜣羟跄"],["qiao","橇锹敲悄桥瞧乔侨巧鞘撬翘峭俏窍劁诮谯荞峤愀憔缲樵硗跷鞒"],["qie","切茄且怯窃郄惬妾挈锲箧趄"],["qin","钦侵亲秦琴勤芹擒禽寝沁芩揿吣嗪噙溱檎锓螓衾"],["qing","青轻氢倾卿清擎晴氰情顷请庆苘圊檠磬蜻罄綮謦鲭黥"],["qiong","琼穷邛茕穹蛩筇跫銎"],["qiu","秋丘邱球求囚酋泅俅巯犰湫逑遒楸赇虬蚯蝤裘糗鳅鼽"],["qu","趋区蛆曲躯屈驱渠取娶龋趣去诎劬蕖蘧岖衢阒璩觑氍朐祛磲鸲癯蛐蠼麴瞿黢"],["quan","圈颧权醛泉全痊拳犬券劝诠荃犭悛绻辁畎铨蜷筌鬈"],["que","缺炔瘸却鹊榷确雀阕阙悫"],["qun","裙群逡麇"],["ran","然燃冉染苒蚺髯"],["rang","瓤壤攘嚷让禳穰"],["rao","饶扰绕荛娆桡"],["re","惹热"],["ren","壬仁人忍韧任认刃妊纫仞荏饪轫稔衽"],["reng","扔仍"],["ri","日"],["rong","戎茸蓉荣融熔溶容绒冗嵘狨榕肜蝾"],["rou","揉柔肉糅蹂鞣"],["ru","茹蠕儒孺如辱乳汝入褥蓐薷嚅洳溽濡缛铷襦颥"],["ruan","软阮朊"],["rui","蕊瑞锐芮蕤枘睿蚋"],["run","闰润"],["ruo","若弱偌箬"],["sa","撒洒萨卅挲脎飒"],["sai","腮鳃塞赛噻"],["san","三叁伞散仨彡馓毵"],["sang","桑嗓丧搡磉颡"],["sao","搔骚扫嫂埽缫臊瘙鳋"],["se","瑟色涩啬铯穑"],["sen","森"],["seng","僧"],["sha","莎砂杀刹沙纱傻啥煞唼歃铩痧裟霎鲨"],["shai","筛晒酾"],["shan","珊苫杉山删煽衫闪陕擅赡膳善汕扇缮栅讪鄯芟潸姗嬗骟膻钐疝蟮舢跚鳝"],["shang","墒伤商赏晌上尚裳垧绱殇熵觞"],["shao","梢捎稍烧芍勺韶少哨邵绍劭潲杓蛸筲艄"],["she","奢赊蛇舌舍赦摄射慑涉社设厍佘猞滠畲麝"],["shen","砷申呻伸身深娠绅神沈审婶甚肾慎渗什诜谂莘葚哂渖胂矧蜃糁"],["sheng","声生甥牲升绳省盛剩胜圣嵊晟眚笙"],["shi","匙师失狮施湿诗尸虱十石拾时食蚀实识史矢使屎驶始式示士世柿事拭誓逝势是嗜噬适仕侍释饰氏市恃室视试谥埘莳蓍弑轼贳炻礻铈舐筮豕鲥鲺"],["shou","收手首守寿授售受瘦兽狩绶艏"],["shu","蔬枢梳殊抒输叔舒淑疏书赎孰熟薯暑曙署蜀黍鼠属术述树束戍竖墅庶数漱恕丨倏塾菽摅沭澍姝纾毹腧殳秫"],["shua","刷耍唰"],["shuai","率摔衰甩帅蟀"],["shuan","栓拴闩涮"],["shuang","霜双爽孀"],["shui","谁水睡税"],["shun","吮瞬顺舜"],["shuo","说硕朔烁蒴搠妁槊铄"],["si","斯撕嘶思私司丝死肆寺嗣四伺似饲巳厮俟兕厶咝汜泗澌姒驷缌祀锶鸶耜蛳笥"],["song","松耸怂颂送宋讼诵凇菘崧嵩忪悚淞竦"],["sou","搜艘擞嗽叟薮嗖嗾馊溲飕瞍锼螋"],["su","苏酥俗素速粟僳塑溯宿诉肃夙谡蔌嗉愫涑簌觫稣"],["suan","酸蒜算狻"],["sui","虽隋随绥髓碎岁穗遂隧祟谇荽濉邃燧眭睢"],["sun","孙损笋荪狲飧榫隼"],["suo","蓑梭唆缩琐索锁所唢嗦嗍娑桫睃羧"],["ta","塌他它她塔獭挞蹋踏闼溻遢榻铊趿鳎"],["tai","胎苔抬台泰酞太态汰邰薹骀肽炱钛跆鲐"],["tan","坍摊贪瘫滩坛檀痰潭谭谈坦毯袒碳探叹炭郯昙忐钽锬覃"],["tang","汤塘搪堂棠膛唐糖倘躺淌趟烫傥帑惝溏瑭樘铴镗耥螗螳羰醣"],["tao","掏涛滔绦萄桃逃淘陶讨套鼗啕洮韬饕"],["te","特忒忑慝铽"],["teng","藤腾疼誊滕"],["ti","梯剔踢锑提题蹄啼体替嚏惕涕剃屉倜悌逖绨缇鹈醍"],["tian","天添填田甜恬舔腆掭忝阗殄畋"],["tiao","挑条迢眺跳佻苕祧窕蜩笤粜龆鲦髫"],["tie","贴铁帖萜餮"],["ting","厅听烃汀廷停亭庭挺艇莛葶婷梃铤蜓霆"],["tong","通桐酮瞳同铜彤童桶捅筒统痛佟仝茼嗵恸潼砼"],["tou","偷投头透骰"],["tu","凸秃突图徒途涂屠土吐兔堍荼菟钍酴"],["tuan","湍团抟彖疃"],["tui","推颓腿蜕褪退煺"],["tun","囤吞屯臀氽饨暾豚"],["tuo","拖托脱鸵陀驮驼椭妥拓唾佗坨庹沱柝柁橐砣箨酡跎鼍"],["wa","挖哇蛙洼娃瓦袜佤娲腽"],["wai","歪外崴"],["wan","豌弯湾玩顽丸烷完碗挽晚皖惋宛婉万腕剜芄菀纨绾琬脘畹蜿"],["wang","汪王亡枉网往旺望忘妄罔惘辋魍"],["wei","威巍微危韦违桅围唯惟为潍维苇萎委伟伪尾纬未蔚味畏胃喂魏位渭谓尉慰卫偎诿隈圩葳薇帏帷嵬猥猬闱沩洧涠逶娓玮韪軎炜煨痿艉鲔"],["wen","瘟温蚊文闻纹吻稳紊问刎夂阌汶璺攵雯"],["weng","嗡翁瓮蓊蕹"],["wo","挝蜗涡窝我斡卧握沃倭莴喔幄渥肟硪龌"],["wu","巫呜钨乌污诬屋无芜梧吾吴毋武五捂午舞伍侮坞戊雾晤物勿务悟误兀仵阢邬圬芴唔庑怃忤寤迕妩婺骛杌牾焐鹉鹜痦蜈鋈鼯"],["xi","栖昔熙析西硒矽晰嘻吸锡牺稀息希悉膝夕惜熄烯溪汐犀檄袭席习媳喜铣洗系隙戏细僖兮隰郗茜菥葸蓰奚唏徙饩阋浠淅屣嬉玺樨曦觋欷歙熹禊禧皙穸裼蜥螅蟋舄舾羲粞翕醯蹊鼷"],["xia","瞎虾匣霞辖暇峡侠狭下厦夏吓呷狎遐瑕柙硖罅黠"],["xian","掀锨先仙鲜纤咸贤衔舷闲涎弦嫌显险现献县腺馅羡宪陷限线冼苋莶藓岘猃暹娴氙燹祆鹇痫蚬筅籼酰跣跹霰"],["xiang","相厢镶香箱襄湘乡翔祥详想响享项巷橡像向象芗葙饷庠骧缃蟓鲞飨"],["xiao","萧硝霄削哮嚣销消宵淆晓小孝校肖啸笑效哓崤潇逍骁绡枭枵筱箫魈"],["xie","楔些歇蝎鞋协挟携邪斜胁谐写械卸蟹懈泄泻谢屑偕亵勰燮薤撷獬廨渫瀣邂绁缬榭榍蹀躞"],["xin","薪芯锌欣辛新忻心信衅囟馨昕歆镡鑫"],["xing","星腥猩惺兴刑型形邢行醒幸杏性姓陉荇荥擤饧悻硎"],["xiong","兄凶胸匈汹雄熊芎"],["xiu","休修羞朽嗅锈秀袖绣咻岫馐庥溴鸺貅髹"],["xu","墟戌需虚嘘须徐许蓄酗叙旭序恤絮婿绪续吁诩勖蓿洫溆顼栩煦盱胥糈醑"],["xuan","轩喧宣悬旋玄选癣眩绚儇谖萱揎泫渲漩璇楦暄炫煊碹铉镟痃"],["xue","靴薛学穴雪血谑噱泶踅鳕"],["xun","勋熏循旬询寻驯巡殉汛训讯逊迅巽郇埙荀荨蕈薰峋徇獯恂洵浔曛醺鲟"],["ya","压押鸦鸭呀丫芽牙蚜崖衙涯雅哑亚讶伢垭揠岈迓娅琊桠氩砑睚痖"],["yan","焉咽阉烟淹盐严研蜒岩延言颜阎炎沿奄掩眼衍演艳堰燕厌砚雁唁彦焰宴谚验厣赝剡俨偃兖谳郾鄢埏菸崦恹闫阏湮滟妍嫣琰檐晏胭腌焱罨筵酽趼魇餍鼹"],["yang","殃央鸯秧杨扬佯疡羊洋阳氧仰痒养样漾徉怏泱炀烊恙蛘鞅"],["yao","邀腰妖瑶摇尧遥窑谣姚咬舀药要耀钥夭爻吆崾徭幺珧杳轺曜肴铫鹞窈繇鳐"],["ye","椰噎耶爷野冶也页掖业叶曳腋夜液靥谒邺揶晔烨铘"],["yi","一壹医揖铱依伊衣颐夷遗移仪胰疑沂宜姨彝椅蚁倚已乙矣以艺抑易邑屹亿役臆逸肄疫亦裔意毅忆义益溢诣议谊译异翼翌绎刈劓佚佾诒圯埸懿苡荑薏弈奕挹弋呓咦咿嗌噫峄嶷猗饴怿怡悒漪迤驿缢殪轶贻欹旖熠眙钇镒镱痍瘗癔翊蜴舣羿翳酏黟"],["yin","茵荫因殷音阴姻吟银淫寅饮尹引隐印胤鄞垠堙茚吲喑狺夤洇氤铟瘾窨蚓霪龈"],["ying","英樱婴鹰应缨莹萤营荧蝇迎赢盈影颖硬映嬴郢茔莺萦蓥撄嘤膺滢潆瀛瑛璎楹媵鹦瘿颍罂"],["yo","哟唷"],["yong","拥佣臃痈庸雍踊蛹咏泳涌永恿勇用俑壅墉喁慵邕镛甬鳙饔"],["you","幽优悠忧尤由邮铀犹油游酉有友右佑釉诱又幼卣攸侑莠莜莸尢呦囿宥柚猷牖铕疣蚰蚴蝣鱿黝鼬"],["yu","迂淤于盂榆虞愚舆余俞逾鱼愉渝渔隅予娱雨与屿禹宇语羽玉域芋郁遇喻峪御愈欲狱育誉浴寓裕预豫驭禺毓伛俣谀谕萸蓣揄圄圉嵛狳饫馀庾阈鬻妪妤纡瑜昱觎腴欤於煜燠聿钰鹆鹬瘐瘀窬窳蜮蝓竽臾舁雩龉"],["yuan","鸳渊冤元垣袁原援辕园员圆猿源缘远苑愿怨院垸塬芫掾圜沅媛瑗橼爰眢鸢螈箢鼋"],["yue","曰约越跃岳粤月悦阅龠哕瀹樾刖钺"],["yun","耘云郧匀陨允运蕴酝晕韵孕郓芸狁恽愠纭韫殒昀氲熨筠"],["za","匝砸杂咋拶咂"],["zai","栽哉灾宰载再在崽甾"],["zan","咱攒暂赞瓒昝簪糌趱錾"],["zang","赃脏葬奘驵臧"],["zao","遭糟凿藻枣早澡蚤躁噪造皂灶燥唣"],["ze","责择则泽仄赜啧帻迮昃笮箦舴"],["zei","贼"],["zen","怎谮"],["zeng","增憎赠缯甑罾锃"],["zha","扎喳渣札轧铡闸眨榨乍炸诈柞揸吒咤哳楂砟痄蚱齄"],["zhai","摘斋宅窄债寨砦瘵"],["zhan","瞻毡詹粘沾盏斩辗崭展蘸栈占战站湛绽谵搌旃"],["zhang","樟章彰漳张掌涨杖丈帐账仗胀瘴障仉鄣幛嶂獐嫜璋蟑"],["zhao","招昭找沼赵照罩兆肇召诏棹钊笊"],["zhe","遮折哲蛰辙者锗蔗这浙着乇谪摺柘辄磔鹧褶蜇螫赭"],["zhen","珍斟真甄砧臻贞针侦枕疹诊震振镇阵帧圳蓁浈缜桢椹榛轸赈胗朕祯畛稹鸩箴"],["zheng","蒸挣睁征狰争怔整拯正政症郑证诤峥徵钲铮筝"],["zhi","芝枝支吱蜘知肢脂汁之织职直植殖执值侄址指止趾只旨纸志挚掷至致置帜峙制智秩稚质炙痔滞治窒卮陟郅埴芷摭帙忮彘咫骘栉枳栀桎轵轾贽胝膣祉黹雉鸷痣蛭絷酯跖踬踯豸觯"],["zhong","中盅忠钟衷终种肿重仲众冢锺螽舯踵"],["zhou","舟周州洲诌粥轴肘帚咒皱宙昼骤荮啁妯纣绉胄碡籀酎"],["zhu","珠株蛛朱猪诸诛逐竹烛煮拄瞩嘱主著柱助蛀贮铸筑住注祝驻伫侏邾苎茱洙渚潴杼槠橥炷铢疰瘃竺箸舳翥躅麈"],["zhua","抓爪"],["zhuai","拽"],["zhuan","专砖转撰赚篆啭馔颛"],["zhuang","幢桩庄装妆撞壮状僮"],["zhui","椎锥追赘坠缀萑惴骓缒隹"],["zhun","谆准肫窀"],["zhuo","捉拙卓桌琢茁酌啄灼浊倬诼擢浞涿濯禚斫镯"],["zi","兹咨资姿滋淄孜紫仔籽滓子自渍字谘呲嵫姊孳缁梓辎赀恣眦锱秭耔笫粢趑訾龇鲻髭"],["zong","鬃棕踪宗综总纵偬腙粽"],["zou","邹走奏揍诹陬鄹驺鲰"],["zu","租足卒族祖诅阻组俎菹镞"],["zuan","钻纂攥缵躜"],["zui","嘴醉最罪蕞觜"],["zun","尊遵撙樽鳟"],["zuo","昨左佐做作坐座阼唑嘬怍胙祚酢"]],f=e.length
}($,window),function(a,b,c){function d(a){var b=this;z.superClass.initialize.call(b),b._support=a}function e(a,b,c){var d,e=this,f=a.data;return f&&(d=f.order,d&&(e._support.orderParam=d)),"splitName"===a.command||"splitAddr"===a.command?(a.call&&a.call({requestParam:a,responseData:b,returns:c}),void 0):(e._support.resetData(a,b,c,function(){a.call&&a.call({requestParam:a,responseData:b,returns:c})}),void 0)}function f(a){this._request({command:"getVer",call:a.call})}function g(a){var b=this;a=a||{};var c=a.data||{};a.extData=a.extData||{},a.extData._realCommand="getCon";var d={vcardver:"3.0",ctype:"all",attachinfos:"yellowpage,frequentContacts",freContLim:20};c.order=c.order||b._support.orderParam||[{field:"N",desc:"false"}],$S("isVip")&&(d.limitinfo="get"),b._request({command:"getCon",call:a.call,data:c,ext:d,error:a.error,extData:a.extData})}function h(a){var b=this,c={vcardver:"3.0"};a.extData=a.extData||{},a.extData._realCommand="addCon",a.returnType&&(c.cType=a.returnType),b._request({command:"addCon",requireNewData:!0,data:a.data,call:a.call,error:a.error,ext:c,extData:a.extData})}function i(a){var b=this,c={vcardver:"3.0"};a.extData=a.extData||{},a.extData._realCommand="removeCon",a.returnType&&(c.cType=a.returnType),b._request({command:"removeCon",requireNewData:!0,data:a.data,call:a.call,ext:c,error:a.error,extData:a.extData})}function j(a){var b=this,c={vcardver:"3.0"};a.extData=a.extData||{},a.extData._realCommand="updateCon",a.returnType&&(c.cType=a.returnType),b._request({command:"updateCon",requireNewData:!0,data:a.data,ext:c,call:a.call,error:a.error,extData:a.extData})}function k(a){var b=this,c={vcardver:"3.0"};a.extData=a.extData||{},a.extData._realCommand="updateGrp",a.returnType&&(c.cType=a.returnType),b._request({command:"updateGrp",requireNewData:!0,data:a.data,ext:c,call:a.call,error:a.error,extData:a.extData})}function l(b){var c=this,d={vcardver:"3.0"};b.extData=b.extData||{},b.extData._realCommand="updateGrp",b.returnType&&(d.cType=b.returnType);var e={contacts:[]};a.Array.each(b.data.groups.groups,function(a,b){b.CONTACTS&&(b=x.clone(b),delete b.CONTACTS),e.contacts.push(b)}),c._request({command:"updateCon",requireNewData:!0,data:e,ext:d,call:b.call,error:b.error,extData:b.extData})}function m(b){var c=this,d={vcardver:"3.0"};b.extData=b.extData||{},b.extData._realCommand="updateGrp",b.returnType&&(d.cType=b.returnType);var e={contacts:[]};a.Array.each(b.data.groups.groups,function(a,b){b.CONTACTS&&(b=x.clone(b),delete b.CONTACTS),b["X-TYPE"]="GROUP",e.contacts.push(b)}),c._request({command:"addCon",requireNewData:!0,data:e,call:b.call,error:b.error,ext:d,extData:b.extData})}function n(a){var b=a.extData||{},c={vcardver:"3.0",recurse:a.deleteContact||!1};a.extData=a.extData||{},a.extData._realCommand="removeGrp",a.returnType&&(c.cType=a.returnType),this._request({command:"removeGrp",requireNewData:!0,data:a.data,call:a.call,ext:c,error:a.error,extData:b})}function o(a){var b=this;b._request({url:b._recentContactURL,command:"getRecent",call:a.call,ext:{limit:a.limit||20},error:a.error})}function p(d){function e(a){var b=a.responseData||a.data;b&&(g[h]=b,d.call&&d.call())}var f=this,g=f._support.data.cache.nameCache,h=d.name;return!h||g[h]!==c&&null!==g[h]?void 0:(g[h]=null,$S("isVip")?(f._request({requestType:a.Ajax.SCRIPT,method:a.Ajax.GET,url:f._smartSplitURL,command:"splitName",paddingFunc:e,paddingParam:"call",ext:{name:b.encodeURIComponent(h)},error:d.error}),void 0):(f._request({url:f._smartSplitURL,command:"splitName",call:e,data:{name:h},error:d.error}),void 0))}function q(d){function e(a){var b=a.responseData||a.data;b&&(g[h]=b,d.call&&d.call())}var f=this,g=f._support.data.cache.addrCache,h=d.addr;return!h||g[h]!==c&&null!==g[h]?void 0:(g[h]=null,$S("isVip")?(f._request({requestType:a.Ajax.SCRIPT,method:a.Ajax.GET,url:f._smartSplitURL,command:"splitAddr",paddingFunc:e,paddingParam:"call",ext:{address:b.encodeURIComponent(h)},error:d.error}),void 0):(f._request({url:f._smartSplitURL,command:"splitAddr",call:e,data:{address:h},error:d.error}),void 0))}function r(d){var e=this,f="&cookiestr="+b.encodeURIComponent("Coremail="+a.Cookie.get("Coremail",!0)),g="&inmode="+d.inmode,h="&group="+d.group,i="&exportuser="+b.encodeURIComponent(d.username);if("gmail.com"===d.username.split("@").pop()){var j=function(){var b=y.getUrl("address_clone_gmail",!0)+f+g+h+i,j=new a.Msgbox({contentType:"wide",header:w.t("复制Gmail通讯录"),noFooter:!0,content:'<iframe src="'+b+'" frameborder="0" style="width:100%;height:100%;border:0;"></iframe>',close:function(){a.Tips.loading()}});$S("gmailCloneCall",function(b){try{j.destroy()}catch(f){}b?e.getData({call:function(){d.callback&&d.callback({suc:!0})}}):a.Tips.loading(),$S("gmailCloneCall",c)})};d.confirmed?j():a.Msgbox.show({title:w.t("Gmail邮箱需要申请授权才可进行复制"),content:w.t("如需复制其他Gmail帐号的通讯录，请先退出当前登录的Gmail帐号"),icon:"alert",cancelText:w.t("取消"),okText:w.t("申请授权复制Gmail通讯录"),ok:j,cancel:function(){a.Tips.loading()},close:function(){a.Tips.loading()}})}else{var k=this._support,l=y.getUrl("address_clone_ssl"),m=$S("fullDomain");l&&l.indexOf("$fullDomain$")>-1&&(l=l.replace("$fullDomain$",m)),l+=f,l+=g,l+=i,d.password&&(l+="&password="+b.encodeURIComponent(d.password)),d.verifyCode&&(l+="&validcode="+d.verifyCode),l+=h,l+="&rnd="+(new Date).getTime(),a.Ajax.request({requestType:a.Ajax.SCRIPT,url:l,paddingFunc:a.Function.bind(k.cloneResponse,k,d),paddingParam:"callback"})}}function s(a){var b={vcardver:"3.0"};a.extData=a.extData||{},a.extData._realCommand="batchDeal",a.returnType&&(b.cType=a.returnType),this._request({command:"batchDeal",requireNewData:!0,data:a.data,call:a.call,error:a.error,ext:b,extData:a.extData})}try{var t=$L("core.ContactDataAction")}catch(u){return u}var v,w=new $I18N("support.AddressSupportAction"),x=a.Object,y=a.Uri;v=t;var z=a.createClass($N("support.AddressSupportAction"));x.mix(z,v,null,{_support:null,_response:e,initialize:d,getVersion:f,getData:g,addContact:h,removeContact:i,updateContact:j,updateGroup:k,updateGroupAll:l,addGroupAll:m,removeGroup:n,getRecentContact:o,splitName:p,splitAddr:q,contactClone:r,batchDeal:s})}($,window),function(a,b,c){function d(){var b=this,c=!0;a.Ext.localStorage||b.forceUseLocalStorage?b.readLocalData()&&(b._formatData(),c=!1):b.clearLocalData(),c&&($S("isVip")?b._action.getData({call:function(a){b.data.rawDataArray.limitinfo=a.responseData.limitinfo||{}},error:function(){}}):b._action.getData({error:function(){}}))}function e(a){var b=this,c=b._initCalls;b._formatGroupData(),b._formatContactData(function(){if(b._formatFrequentContacts(),!b.dataInited){b.dataInited=!0;try{tb.fire("addr:dataInit")}catch(d){}}for(var e=0,f=c.length;f>e;e++)try{c.shift().call()}catch(d){}a&&a()})}function f(){var a=this,b=a.data,c=b.rawDataArray.group,d=b.rawDataArray.contact,e=[],f=[],g=b.extDataMap.groupMark,h=b.extDataMap.group={},i=b.extDataMap.groupArray;g.length=0,i.length=0;var j,k,l,m,n,o,p,q;for(n=0,o=c.length;o>n;n++)q=c[n],p=q.N||"",p?"SYSTEM"===q["X-TYPE1"]?"RECENT"===q.UID?j=q:e.push(q):p===kb.t("我的邮件列表")?k=q:(q.PRODID&&q.PRODID.indexOf("Apple Inc.")>-1&&(q.N=q.N.replace(/\\;/gi,";")),f.push(q)):(q.error=!0,c.splice(n,1),n--,o--);for(j&&e.unshift(j),k&&e.push(k),f.sort(function(a,b){return a.N.localeCompare(b.N)}),c=b.rawDataArray.group=e.concat(f),l={CID:"ALL",UID:"ALL",N:kb.t("所有"),CONTACTS:d},h[l.CID]=l,i.push(l),n=0,o=c.length;o>n;n++)q=lb.clone(c[n]),q.CONTACTS||(q.CONTACTS=[]),h[q.CID]=q,i.push(q),q.MARKED&&g.push(q);m={CID:"OTHERS",UID:"OTHERS",N:kb.t("未分组"),CONTACTS:[]},h[m.CID]=m,i.push(m),e.length=0,f.length=0}function g(c){function d(a){var c,d,g,p,q,r,s,t,u,v,w,x=a.CID,y=a.N,z=a.FN,A=[];for(y=lb.isString(y)?y:";;;;",lb.isArray(z)&&(a.FN=z=z.join("")),g=y.split(";"),""===g.join("")&&(g[1]=(z||"").replace(";",""));g.length<5;)g.push("");for(a.N=g.join(";"),q=e.getGivenName(a),l[x]=a,c=e.getContactEmails(a),s=0,t=c.length;t>s;s++){var B={};v=mb.trim(c[s]),qb.matchEmail(v)&&(w=k[v],w||(k[v]=w=[]),w.push(a),B={email:v,name:q,cid:x},n.push(B),A.push(v))}if(A.length>0&&(r={email:A,name:q,yellowPage:o[x]||null},m[x]=r),a.MARKED&&(j.push(a),f.maxMarkSort=Math.max(b.parseInt(a.MARKED)||0,f.maxMarkSort)),p=a.GROUPING||a.Grouping||"",a.GROUPING=p,delete a.Grouping,d=p.split(";"),p.length>0)for(s=0,t=d.length,u;t>s;s++)u=h[d[s]],u&&u.CONTACTS.push(a);else i.CONTACTS.push(a)}var e=this,f=e.data,g=f.rawDataArray.contact,h=f.extDataMap.group,i=h.OTHERS,j=f.extDataMap.contactMark,k=f.extDataMap.email={},l=f.extDataMap.contact={},m=f.extDataMap.contactLite={},n=f.extDataMap.contactLiteArray,o=f.extDataMap.yellowPage;j.length=0,n.length=0;var p=g.length,q=Math.floor(p/8),r=p%8,s=0;if(r)do d(g[s++]);while(--r);var t=++e._formatTimerId,u=e.dataInited,v=u?25:50,w=25;if(q){if(a.Browser.ie()||!u)setTimeout(function(){if(!(t<e._formatTimerId)){var a=0;do d(g[s++]),d(g[s++]),d(g[s++]),d(g[s++]),d(g[s++]),d(g[s++]),d(g[s++]),d(g[s++]);while(--q&&++a<w);0===q?c&&c():setTimeout(arguments.callee,v)}},u?50:0);else if(q){do d(g[s++]),d(g[s++]),d(g[s++]),d(g[s++]),d(g[s++]),d(g[s++]),d(g[s++]),d(g[s++]);while(--q);c&&c()}}else c&&c()}function h(c,d,e){function f(a){for(var b,c,d,e={GROUPING:"",__FORNEW:!0},f=0,g=a.length;g>f;f++)b=a[f],c=A[b],c.MARKED&&(y.change=!0),e.CID=b,d=c.GROUPING,c.GROUPING+=""===d?"OTHERS;ALL":";ALL",u.contact[b]=c,l(e,c),m(e,c),n(e,c),c.GROUPING=d}function g(a){for(var b,c,d,e={GROUPING:"",__FORDEL:!0},f=0,g=a.length;g>f;f++)b=a[f],c=u.contact[b],c&&(c.MARKED&&(y.change=!0),d=c.GROUPING,c.GROUPING+=""===c.GROUPING?"OTHERS;ALL":";ALL",e.CID=b,delete u.contact[b],l(c,e),m(c,e),n(c,e),c.GROUPING=d)}function h(a){for(var b,c,d,e,f=u.contactLite,g=u.contactLiteArray,h=g.length,i=0,j=a.length;j>i;i++)if(b=a[i],c=u.contact[b],d=A[b],d&&c){(d.MARKED||c.MARKED)&&(y.change=!0,y.contactNameChange=d.N!==c.N);var k={};if(lb.each(c,function(a,b){k[a]=b,delete c[a]}),lb.extend(c,d),c=k,l(c,d),m(c,d),n(c,d),c.N!=d.N){e=t.getGivenName(d),f[c.CID]&&(f[c.CID].name=e);for(var o=0;h>o;o++)g[o].cid==c.CID&&(g[o].name=e)}}}function i(a){for(var b,c,d,e,f=0,g=a.length;g>f;f++){if(b=a[f],c=u.group[b],d=z[b],u.group[b]=d,(d&&d.MARKED||c&&c.MARKED)&&(y.change=!0,y.contactNameChange=(d||{}).N!==(c||{}).N),c)d.CONTACTS=c.CONTACTS,o(c,d);else{e=!1,d.CONTACTS=[];for(var h=0,i=u.groupArray.length;i>h;h++)if(c=u.groupArray[h],"ALL"!==c.CID&&"OTHERS"!==c.CID&&"SYSTEM"!==c["X-TYPE1"]&&c.N!==kb.t("我的邮件列表")&&-1==d.N.localeCompare(c.N)){u.groupArray.splice(h,0,d),e=!0;break}e||u.groupArray.push(d),c={}}p(c,d)}}function j(b){for(var d,e,f=(c.ext||{}).recurse,i=a.Array.map(c.extData.contacts,function(a,b){return b.CID}),j=0,k=b.length;k>j;j++)if(d=b[j],e=u.group[d]){e.MARKED&&(y.change=!0),delete u.group[d];for(var l=0,m=u.groupArray.length;m>l;l++)if(u.groupArray[l].CID==d){u.groupArray.splice(l,1);break}p(e,{})}f?g(i):h(i)}function k(a){var c=a.N,d=a.FN;c="string"==typeof c?c:";;;;",d instanceof b.Array&&(a.FN=d=d.join(""));var e=c.split(";");for(""===e.join("")&&(e[1]=(d||"").replace(";",""));e.length<5;)e.push("");a.N=e.join(";");var f=a.GROUPING||a.Grouping||"";a.GROUPING=f,delete a.Grouping}function l(a,b){var c=a.GROUPING,d=b.GROUPING;if(c!==d){""!==c||a.__FORNEW||(c="OTHERS"),""!==d||b.__FORDEL||(d="OTHERS");var e,f,g=c.split(";"),h=d.split(";"),i=q(g,h),j=i.add,k=i.del;if(0!==j.length+k.length){for(r=0,s=j.length;s>r;r++)e=j[r],f=u.group[e],f&&(f.MARKED&&(y.groupChange=!0),f.CONTACTS.push(b));for(r=0,s=k.length;s>r;r++)if(e=k[r],f=u.group[e]){f.MARKED&&(y.groupChange=!0);for(var l=0,m=f.CONTACTS.length;m>l;l++)if(f.CONTACTS[l].CID==b.CID){f.CONTACTS.splice(l,1);break}}}}}function m(a,b){var c,d,e,f,g=u.email,h=u.contactLiteArray,i=u.contactLite,j=u.yellowPage,k=b.CID,l=t.getContactEmails(a),m=t.getContactEmails(b),n=q(l,m),o=n.add,p=n.del,r=t.getGivenName(b),s=[];if(0!==o.length+p.length){for(b.MARKED&&(y.contactEmailChange=!0),c=0,d=m.length;d>c;c++)e=mb.trim(m[c]),qb.matchEmail(e)&&s.push(e);for(i[k]={email:s,name:r,yellowPage:j[k]||null},c=0,d=o.length;d>c;c++)e=mb.trim(o[c]),qb.matchEmail(e)&&(f=g[e],f||(g[e]=f=[]),f.push(b),h.push({email:e,name:r,cid:k}));for(c=0,d=p.length;d>c;c++)if(e=mb.trim(p[c]),qb.matchEmail(e)){var v,w;for(f=g[e]||[],v=0,w=f.length;w>v;v++)if(f[v].CID==k){f.splice(v,1);break}for(v=0,w=h.length;w>v;v++){var x=h[v];if(x.email===e&&x.cid===k){h.splice(v,1);break}}}}}function n(a,b){var c=u.contactMark;if(a.MARKED!=b.MARKED){if(!("MARKED"in a)&&"MARKED"in b)return y.statusChange=!0,c.push(b),void 0;if("MARKED"in a&&!("MARKED"in b)){y.statusChange=!0;for(var d=0,e=c.length;e>d;d++)if(c[d].CID==a.CID){c.splice(d,1);break}}}}function o(a,b){for(var c=u.groupArray,d=0,e=c.length;e>d;d++)if(c[d].CID==a.CID){c.splice(d,1,b);break}}function p(a,b){var c=u.groupMark;if(a.MARKED!=b.MARKED){if(!("MARKED"in a)&&"MARKED"in b)return y.statusChange=!0,c.push(b),void 0;if("MARKED"in a&&!("MARKED"in b)){y.statusChange=!0;for(var d=0,e=c.length;e>d;d++)if(c[d].CID==a.CID){c.splice(d,1);break}}else for(var d=0,e=c.length;e>d;d++)if(c[d].CID==a.CID){c.splice(d,1,b);break}}}function q(a,b){if(a=a||[],b=b||[],0===a.length)return{add:b.slice(0),del:[]};if(0===b.length)return{add:[],del:a.slice(0)};var c,d,e,f={},g=[];for(c=0,d=a.length;d>c;c++)e=mb.trim(a[c]+""),""!==e&&(f[a[c]]=!0);for(c=0,d=b.length;d>c;c++)e=mb.trim(b[c]+""),""!==e&&(f[e]?delete f[e]:g.push(e));var h=lb.keys(f);return{add:g,del:h}}var r,s,t=this,u=t.data.extDataMap,v=t.data.rawDataArray.contact,w=t.data.rawDataArray.group,x=(c.extData||{})._realCommand,y={statusChange:!1,contactEmailChange:!1,contactNameChange:!1,groupChange:!1,change:!1},z={},A={};if(x){for(r=0,s=v.length;s>r;r++)k(v[r]),A[v[r].CID]=v[r];for(r=0,s=w.length;s>r;r++)z[w[r].CID]=w[r];try{switch(x){case"getCon":break;case"addCon":f(e);break;case"removeCon":g(c.data.contactIds||[]);break;case"updateCon":var B=[],C=[];for(r=0,s=e.length;s>r;r++)z[e[r]]?C.push(e[r]):B.push(e[r]);h(B),i(C);break;case"updateGrp":i(e);break;case"removeGrp":j(c.data.contactIds||[]);break;case"batchDeal":var D=c.data.deals.dels,E=a.Array.map(c.data.deals.updates,function(a,b){return b.CID}),e=q(D.concat(E),e||[]),F=e.add;h(E),g(D),f(F)}}catch(G){}u.dataMark=null;try{t._formatFrequentContacts()}catch(G){}y.change=y.change||y.contactEmailChange||y.contactNameChange||y.groupChange,y.change&&tb.fire("addr:dataMark",y)}}function i(){for(var a,b=this,c=b.data,d=c.rawDataArray.attach||[],e={},f=0,g=d.length;g>f;f++)a=d[f],"yellowpage"===a.type&&(e[a.CID]=a.companyId||-1);c.extDataMap.yellowPage=e}function j(){function b(a){for(var b,c,e=d.data.extDataMap.email,f=[],g=0,h=a.length;h>g;g++)if(b=mb.trim(a[g]),c=e[b],c&&c[0])f.push(c[0]);else{var i={};i[ub]=b,f.push(i)}return f}for(var c,d=this,e=d.data,f=e.rawDataArray.attach||[],g=[],h=0,i=f.length;i>h;h++)if(c=f[h],"frequentContacts"===c.type){g=c.uids;break}return a.Ext.contact_record?(e.recentContacts=b(g),void 0):null}function k(a,b){return a=a.replace("\\","\\\\"),a=a.replace(new RegExp("[$ ( [ { ^ | ) ? * + .]","gi"),function(a){return"\\"+a}),new RegExp(b?"^"+a+"$":a,"gi")}function l(a){this._initCalls.push(a)}function m(){var a=this,b=a.data.maxMarkSort||0;return b+=1,a.data.maxMarkSort=b,b}function n(){var a=this;return a.readLocalData(!0)}function o(){var b=this,c=null;try{return c=a.Storage.get(b._localKey),c?JSON.parse(c,function(a,b){var c;return lb.isString(b)&&(c=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/.exec(b))?new Date(Date.UTC(+c[1],+c[2]-1,+c[3],+c[4],+c[5],+c[6])):b}):null}catch(d){return null}}function p(b){var c=this;try{a.Storage.set(c._localKey,b?JSON.stringify(b):"")}catch(d){}}function q(a){var b,c,d,e,f=this,g=!1,h=f.data.rawDataArray,i=f.getLocalData();if(i)if(i.ver===f._localVer||a)try{if(d=i.data,d&&(e=d[$S("uid")]),e){if(a)return!0;e.ver===f.data.ver&&(b=e.group,c=e.allInfo)}lb.isArray(b)&&lb.isArray(c)&&(a||(h.group=b,h.contact=c),g=!0)}catch(j){}else f.clearLocalData(!0);return g}function r(a,b){var c,d=this,e=d.data.rawDataArray,f=$S("uid");if(!a&&d.dataInited)return d.getDataVersion({call:function(){var a=d.updateLocalData(!0);b&&b(a)}}),!1;try{var g=d.getLocalData(),h={ver:d.data.ver,group:e.group,allInfo:e.contact};if(g&&g.ver===d._localVer&&(c=g.data))return c[f]=h,d.setLocalData(g),!0;g={ver:d._localVer,data:{}},g.data[f]=h,d.setLocalData(g)}catch(i){return!1}return!0}function s(b){var c,d,e,f=this;try{b?(c=f._localKey,a.Storage.get(c)&&a.Storage.set(c,"")):(d=$S("uid"),e=f.getLocalData(),e&&e.data&&e.data[d]&&(e.data[d]=null,delete e.data[d],f.setLocalData(e)))}catch(g){return!1}return!0}function t(a){var b=this;b._action.getVersion({call:function(){a.call&&a.call()}})}function u(a){var b=this;try{"download"===a.type?b.updateLocalData(!1,a.call):a.call&&a.call(b.clearLocalData())}catch(c){return!1}}function v(){function b(){a.Addr._items&&a.Thread.delay(function(){lb.each(a.Addr._items,function(a,b){try{if(b._destroyed===!0)return;b.update({})}catch(c){}})}),a.UserLabel._items&&a.Thread.delay(function(){lb.each(a.UserLabel._items,function(a,b){try{if(b._destroyed===!0)return;b.layer&&(b.layer.destroy(),delete b.layer),b.update({})}catch(c){}})})}var c=this;c._inited||(c._inited=!0,c._action=new pb(c),a.Ext.localStorage&&c.checkLocalState()||c.forceUseLocalStorage?c.getDataVersion({call:a.Function.bind(c._initData,c)}):c._initData(),tb.listen("addr:dataReset",b),tb.listen("options:contactModify",b),tb.listen("options:skinChange",b),tb.listen("addr:dataInit",b))}function w(b,c,d,e){function f(){function c(){if((a.Ext.localStorage&&g.checkLocalState()||g.forceUseLocalStorage)&&g.updateLocalData(!0),i)try{tb.fire("addr:dataReset",j)}catch(b){}e&&e()}if(!b.extData.notAutoRemoveMark){for(var d,k=h.extDataMap.groupMark||[],l=[],m=0,n=k.length;n>m;m++)d=k[m],0===d.CONTACTS.length&&d.MARKED&&l.push({cid:d.CID,ctype:"group"});if(l.length>0)return g.markData({data:l,mark:!1,call:f,error:c}),void 0}c()}var g=this,h=g.data,i=g.dataInited,j={};b.extData||(b.extData={});var k=null===c.rev?0:c.rev,l=c.contacts,m=c.groups,n=c.attachinfos;if(h.extDataMap.dataMark=null,h.extDataMap.dataPhone=null,lb.isNumber(k)&&(h.ver=k),l&&(j.contact=!0,h.rawDataArray.contact=l,g.data.delayedContact={}),m&&(j.group=!0,h.rawDataArray.group=m),n){h.rawDataArray.attach=n;try{g._formatYellowPageData()}catch(o){}}if(l||m){var p=b.extData._realCommand;"getCon"!==p&&i&&!(b.extData||{}).forceUpdate?(g._updateData(b,c,d),f()):g._formatData(f)}else e&&e()}function x(a){var b,c=this,d=mb.trim(a.name||""),e=kb.t("添加联系人分组出错");if(0===d.length)return c.showError({title:e,content:kb.t("请填写联系组名称。"),error:a.error});if(mb.len(d)>40)return c.showError({title:e,content:kb.t("分组名长度超过20个中文或40个字符，请重新输入。"),error:a.error});b=c.data.rawDataArray.group;for(var f,g=0,h=b.length;h>g;g++)if(f=b[g],d===f.N)return c.showError({title:e,content:kb.t("已存在名称为“")+mb.encodeHTML(d)+kb.t("”的分组，请输入其他名称。"),error:a.error});c._action.updateGroup({data:{groups:{groups:[{N:d}]}},call:a.call,error:function(b){c.showError({title:e,content:b.content,error:a.error,reason:"action_error"})}})}function y(b){function c(){for(var a=0,c=j.length;c>a;a++){var e=j[a],f=d.getAddrObj(e[ub]||e.email);e.id=f.CID}d.updateContact({contacts:j,call:b.call,error:b.error})}var d=this,e=d.data.delayedContact,f=!a.Object.isEmpty(e),g="@@",h=b.contacts,i=[],j=[];if(f)for(var k in e){var l=e[k][ub];l&&(g+=l+"@@")}for(var m,n=0,o=h.length;o>n;n++){m=h[n];var p,q=m.name?mb.trim(m.name.replace("&nbsp;"," ").replace(";","")):"",r=(m.email||"").toLowerCase(),s=m.phone,t=m.group||[],u=m.marked&&lb.isNumber(m.marked)?m.marked:null,v={};if(f&&r&&g.indexOf(r)>0)j=j.concat(h.splice(n,1)),o--,n--;else{if(p=qb.matchEmail(r),!p||p.address!==r)return b.error({content:kb.t("请输入正确的Email地址"),type:"email"}),void 0;d.setGivenName(v,q),v[ub]=r,t.length>0&&(v.GROUPING=t.join(";")),lb.isString(s)&&(v["TEL;type=CELL;type=VOICE;type=pref"]=s),u&&(v.MARKED=u),i.push(v)}}if(i.length>0){var w=kb.t("添加联系人");d._action.addContact({data:{contacts:i},call:function(e){j.length>0?c():d.dataCall(!0,w,a.Function.bind(b.call,b,e.returns))},error:function(a){d.dataCall(!1,w,b.error,a)}})}else j.length>0&&d.registerContact({call:c,request:!0});return!0}function z(d){for(var e,f,g,h,i,j,k,l,m,n,o,p,q=this,r=d.contacts,s=q.data.extDataMap.email,t=q.data.extDataMap.contact,u=[],v=[],w=0,x=r.length;x>w;w++)p=r[w],e=p.id,f=mb.trim(p.name||"").replace("&nbsp;"," ").replace(";",""),g=(p.email||"").toLowerCase(),h=p.phone,i=s[g]||[],j=p.group||null,o=p.mark,k=t[e],l=lb.clone(k),k?(k=lb.clone(k),f&&q.setGivenName(k,f),(h!==c||null!==h)&&(m="TEL;type=CELL;type=VOICE;type=pref",n=k[m],d.incremental?n?lb.isString(n)&&h!==n?k[m]=[n,h]:nb.has(n,h)||n.push(h):k[m]=h:!n||lb.isString(n)?k[m]=h:n[0]=h),o===!1?delete k.MARKED:k.MARKED||(o===!0&&(o=q.getMarkSort()),o=b.parseInt(o),b.isNaN(o)||(k.MARKED=o)),j&&(k.GROUPING=j.join(";")),a.Object.isEqual(k,l)||u.push(k)):v.push(p);var y=kb.t("修改联系人");return v.length>0&&q.addContact({contacts:v,call:function(){q.dataCall(!0,y,d.call)},error:function(a){q.dataCall(!1,y,d.error,a)}}),u.length>0&&q._action.updateContact({data:{contacts:u},call:function(a){q.dataCall(!0,y,function(){d.call(a.returns)})},error:function(a){q.dataCall(!1,y,d.error,a)}}),0===v.length+u.length&&q.dataCall(!1,y,null,{content:kb.t("联系人没有修改")}),!0}function A(a){function b(){n++,o+n===m&&(o?d.dataCall(!1,e,a.error):d.dataCall(!0,e,a.call))}function c(b){o++,o+n===m&&d.dataCall(!1,e,a.error,b)}var d=this,e=a.text||kb.t("修改星标联系人"),f=d.data.extDataMap.contact,g=d.data.extDataMap.group,h=a.data;if(!h)return d.dataCall(!1,e,null,{content:kb.t("联系人没有修改")});h=lb.isArray(h)?h:[h];var i,j=a.mark!==!1,k=[],l=[];if(nb.each(h,function(a,b){if(!b.cid&&0!==b.cid){var c=b.email;if(i={name:qb.getDefaultName(c),email:qb.getAddress(c,!0),marked:d.getMarkSort()},!i.email){var e=qb.getEmails(c,"Email",!0);e.match.length>0&&(i.email=e.match[0].address,i.name=e.match[0].defaultName)}return i.name||(i.name=i.email.split("@")[0]),l.push(i),void 0}if(i="group"===b.ctype?g[b.cid]:f[b.cid]){if(i=lb.clone(i),"GROUP"===i["X-TYPE"]||g[i.CID]){if("ALL"===i.CID||"OTHERS"===i.CID||"SYSTEM"===i["X-TYPE1"]||0===i.CONTACTS.length&&j)return;i=lb.clone(i),delete i.CONTACTS,delete i.contacts}if(j){var h=d.getMarkSort();i.MARKED=h}else delete i.MARKED;k.push(i)}}),0===k.length+l.length)return d.dataCall(!1,e,null,{content:kb.t("联系人没有修改")});var m=(k.length>0?1:0)+(l.length>0?1:0),n=0,o=0;k.length>0&&d._action.updateContact({data:{contacts:k},call:b,error:c}),l.length>0&&d.addContact({contacts:l,call:b,error:c})}function B(a){var b=this,c=kb.t("删除联系人");b._action.removeContact({data:{contactIds:a.contacts},call:function(){b.dataCall(!0,c,a.call)},error:function(d){b.dataCall(!1,c,a.error,d)}})}function C(b){var c,d=this,e=d.data.extDataMap.contact[b.id],f=b.value,g=!1;if(e){switch(b.type){case"email":for(var h in e)if(c=e[h],h.indexOf("EMAIL")>=0&&c&&(c===f?(delete e[h],g=!0):c instanceof nb&&nb.each(c,function(b,d){return d===f?(c.splice(b,1),g=!0,a.BREAK):void 0}),g))break}var i=kb.t("修改联系人");g&&d._action.updateContact({data:{contacts:[e]},call:function(a){d.dataCall(!0,i,function(){b.call(a.returns)})},error:function(a){d.dataCall(!1,i,b.error,a)}})}}function D(a){var b=this,c=b.data.rawDataArray.contact;b.data.extDataMap.contact;for(var d,e,f,g,h,i,j=b.data.extDataMap.email,k=b.data.extDataMap.contactLite,l=b.data.extDataMap.contactLiteArray,m=0,n=a.length;n>m;m++)h=a[m],"added"===h.action&&(h=h.item,f=h["EMAIL;PREF"]||"",i={UID:h.id,FN:h.FN,N:h.N||";;;;",GROUPING:""},i[ub]=f,c.unshift(i),e=b.getGivenName(i),l.unshift({name:e,email:f}),k["delay"+i.UID]={name:e,email:[f]},g=j[f],g?g.unshift(i):j[f]=[i],b.data.delayedContact[i.UID]=i,d=!0);if(d)try{tb.fire("addr:dataReset",{contact:!0})}catch(o){}}function E(a){function b(b){var f,g=c.data.rawDataArray.contact;$S("isVip")&&(c.data.rawDataArray.limitinfo=b.responseData.limitinfo||{});for(var h=g.length-1;h>-1;h--)if(f=g[h],e||f.UID===d)return a.call(f),void 0}var c=this,d=a.UID,e=a.request;e||c.data.delayedContact[d]?c._action.getData({call:b,error:function(){}}):b()}function F(b){var c={title:b.title||kb.t("通讯录出错"),content:b.content||kb.t("未知错误"),reason:b.reason||""};if(b.error)b.error(c);else{if(b.noAlert)return;new a.Msgbox(c)}}function G(a){var b=this,c=b.getContactEmails(a)[0]||"",d="",e="",f=a.FN,g=a.N,h=g?g.split(";"):[];return d=b.parseN(h),0===d.length&&(d=f&&f!==c?f:c?new qb(c,qb.type.EMAIL).defaultName||e:e),d}function H(a){var b,c=a,d="",e="";return lb.isString(c)&&(c=c.split(";")),5===c.length&&(d=c.join(";"),b=/[a-zA-Z]+/.test(d),e=b?mb.trim([c[3],c[1],c[2],c[0],c[4]].join(" ")):mb.trim([c[3],c[0],c[2],c[1],c[4]].join(""))),mb.trim(e)}function I(a){var b,c=a,d="",e="";return lb.isString(c)&&(c=c.split(";")),7!==c.length?c.join(" "):(d=c.join(";"),b=/.*[\u4e00-\u9fa5]+.*$/.test(d),e=b?mb.trim([c[0],c[1],c[2],c[3],c[6]].join(" ")):mb.trim([c[3],c[2],c[1],c[0],c[6]].join(" ")),mb.trim(e))}function J(a){var b,c,d=this,e=d.data.extDataMap.email,f=a.name,g=a.address,h=a.force;return f||(f=qb.getDefaultName(g)),g&&(g===$S("uid")?f=kb.t("我"):("2"===rb.get({field:"ntes_option",flag:"sendershow"})||h)&&(b=e[g.toLowerCase()],b&&b.length>0&&(c=d.getGivenName(b[0]),f=c?c:f))),f.replace(/^[+|-]/,"")}function K(a){var b=a.FN||"",c=a.N,d=c?c.split(";"):null;return d?this.parseN(d)||b:mb.trim(b)}function L(a,b){var c=this,d=c.getGivenName(a);b!==d&&(a.N=";"+b+";;;"),a.FN=b}function M(a){var b,c,d,e=[];for(var f in a)d=a[f],d&&f.indexOf("EMAIL")>=0&&("string"==typeof d?c||f!==ub?e.push(d):c=d:lb.isArray(d)&&(d=lb.clone(d),c||f!==ub||(c=d.shift()),e=e.concat(d)));return c&&e.unshift(c),b=e.join("@@").toLowerCase(),b.split("@@")}function N(a,b){var c,d=this.data.extDataMap.email[a.toLowerCase()];if(d)if(b&&d.length>1){for(var e=0,f=d.length;f>e;e++)if(d[e].MARKED){c=d[e];break}c||(c=d[0])}else c=d[0];return c}function O(a,b){var c=this,d=c.data.extDataMap.groupArray,e="";if(a=mb.trim(a)){for(var f,g=0,h=d.length;h>g;g++)if(f=d[g],f.N===a){e=f.CID;break}}else e="zall";e.length>0?b(e):c.addGroup({name:a,call:function(a){if(a){var d=c.data.extDataMap.group[a.returns[0]];d&&("null"===d.UID&&delete d.UID,b(d.CID,!0))}}})}function P(a,b){for(var c,d,e,f,g=this,h=g.data.extDataMap.email,i=0,j=$S("uid"),k=0,l=a.length;l>k;k++)c=a[k],d=(c.address||"undefined").toLowerCase(),e=h[d],e&&(e=e[0]||e,i++,c.exist=!0,b&&(f=d===j?kb.t("我"):g.getGivenName(e),f&&(c.name=f)));return{data:a,exist:i,inexist:a.length-i}}function Q(a,b,c){var d=this,e=d.getGivenName(a);b=b||d.getContactEmails(b)[0]||"";var f="&lt;",g="&gt;";return c&&(f="<",g=">"),e||(e=b.split("@")[0]||""),b===$S("uid")&&(e=kb.t("我")),e+(b?f+b+g:"")}function R(a){var b=this,c=a.key||"",d=[],e=new RegExp("("+c+")","i"),f='<b class="nui-txt-mark">$1</b>';return nb.each(b.data.rawDataArray.contact,function(a,c){var g=!1,h={id:c.CID,name:"",address:"",perAddress:"",contact:c},i=b.getContactEmails(c),j=i[0]||"";h.perAddress=j;var k=c.N;k.split(";");var l=b.getGivenName(c);e.test(l)?(h.name=l.replace(e,f),g=!0):h.name=mb.encodeHTML(l),e.test(j)?(h.address=j.replace(e,f),g=!0):h.address=j;var m;if(g)d.push(h);else for(var n in c)if("CID"!==n&&"GROUPING"!==n)if(m=c[n],lb.isString(m)){if(g=e.test(m)){d.push(h);break}}else if(lb.isArray(m)){for(var o=0,p=m.length;p>o;o++)if(g=e.test(m[o])){d.push(h);break}if(g)break}}),d}function S(a){var b=this,c=b._getReg(a.key),d=b._getReg(a.key,!0),e=a.contact,f=a.fields||[],g=a.extDataMap,h=!1;b.getGivenName(e);var i,j,k,l,m;try{if(f.length>0)for(l=0,m=f.length;m>l;l++){if(i=e[f[l]],lb.isString(i)&&(h=c.test(i))){h=d.test(i)?1:h;break}if(g){k=g[e.CID];try{if(i=k[f[l]],lb.isString(i)&&(h=c.test(i))){h=d.test(i)?1:h;break}}catch(n){}}}else for(var o in e)if(i=e[o],"CID"!==o&&"Grouping"!==o&&"GROUPING"!==o&&"UID"!==o&&"REV"!==o&&"MARKED"!==o){if("string"==typeof i)h=c.test(i);else if(lb.isArray(i))for(l=0,m=i.length;m>l&&(j=i[l],"string"!=typeof j||!(h=c.test(j)));l++);if(h){h=d.test(i)?1:h;break}if(g){k=g[e.CID];try{for(var p in k)if(i=k[p],lb.isString(i)&&(h=c.test(i)))break}catch(n){}}if(h){h=i&&d.test(i)?1:h;break}}}catch(n){}return h}function T(a){var b=this,c=a.contacts||b.data.rawDataArray.contact,d=[];try{for(var e,f=0,g=c.length;g>f;f++){var h=c[f];e=b.search({key:a.key,contact:h,fields:a.fields,extDataMap:a.extDataMap}),e&&d[e===!0?"push":"unshift"](h)}}catch(i){}return d}function U(a){var b,c,d=this.data.extDataMap,e=a.id,f=a.name;if(e){b=d.group;var g=b[e];if(g)return g.CONTACTS.length}else if(f){c=d.groupArray;for(var h,i=0,j=c.length;j>i;i++)if(h=c[i],h.N===f)return h.CONTACTS.length}}function V(b){function c(a){for(var b,c,e=d.data.extDataMap.email,f=[],g=0,h=a.length;h>g;g++)if(b=mb.trim(a[g]),c=e[b])f.push(c[0]);else{var i={};i[ub]=b,f.push(i)}return f}var d=this,e=d.data.recentContacts;if(!a.Ext.contact_record)return null;if(e)b.call(e);else try{d._action||d.init(),d._action.getRecentContact({limit:20,call:function(a){e=a.responseData||[],d.data.recentContacts=c(e),b.call(d.data.recentContacts)},error:function(){}})}catch(f){}}function W(a){var b="|";return(b+this._cloneList.join(b)+b).indexOf(b+a+b)>-1}function X(a){var b=this;a.group===c?b.getGroupId(a.folder,function(c,d){a.group=c,d&&(a.newGroup=!0),b._action.contactClone(a)}):b._action.contactClone(a)}function Y(b,c){var d,e,f=this,g=f.getCloneInfo(c);if(!g){var h=qb.getUrl("address_cloneimg"),i=$S("fullDomain");return h&&h.indexOf("$fullDomain$")>-1&&(h=h.replace("$fullDomain$",i)),d={id:"addrCloneMBox",type:"prompt",inSubject:kb.t("请输入上图中看到的字符"),header:kb.t("输入验证码"),content:'<img alt="'+kb.t("校验码图片")+'" id="imgVerify" src="'+h+"&rnd="+(new Date).valueOf()+'" ></img>',ok:function(a){var c=mb.trim(a);return c?(b.verifyCode=c,f.contactClone(b),void 0):kb.t("(验证码不能为空)")},cancel:function(){a.Tips.loading()},close:function(){a.Tips.loading()}},new a.Msgbox(d),void 0}if(!g.suc){try{g.code,mb.trim(b.username.split("@")[1])}catch(j){}b.newGroup&&f._action.removeGroup({data:{contactIds:[b.group]}}),b.callback(g)}e=f.data.extDataMap[b.group],e&&(g.count+=e.CONTACTS.length),g.suc&&c&&f._action.getData({call:function(){b.callback&&b.callback(g)},error:function(){}})}function Z(a){var b="",c=!1;if(a.code){var d=kb.t("抱歉，"),e=d+kb.t("复制通讯录失败");switch(a.code){case 1:b=kb.t("帐号不存在");break;case 2:b=e;break;case 3:return!1;case 4:b=e;break;case 5:b=kb.t("请求不合法");break;case 6:b=d+kb.t("此邮箱暂时不支持通讯录复制");break;case 7:b=d+kb.t("登录次数过于频繁，请稍候再试");break;case 8:b=a.desc||e;break;case 501:b=d+kb.t("权限不足，请求失败");break;case 502:b=d+kb.t("通讯录已满，暂无法复制更多数据");break;case 503:b=d+kb.t("通讯录已满，暂无法复制更多数据");break;case 505:b=e;break;case 509:b=d+kb.t("没有可以复制的联系人数据");break;default:b=kb.t("链接超时，可能是网络问题引起，请重试")}}else c=!0,b+=a.addedcnt?kb.t("恭喜，成功复制")+a.addedcnt+kb.t("条，保存在通讯录分组中！"):kb.t("本次没有新增记录，您可进入通讯录分组中新建联系人。"),a.existcnt>0&&(b+=kb.t("有")+a.existcnt+kb.t("条联系人已存在于现有通讯录中，"),b+=a.replacedcnt>0?kb.t("已覆盖。"):kb.t("没有再次导入。"));return{code:a.code,suc:c,msg:b,count:a.addedcnt||0}}function $(b){function d(d){var e=$C("contactDialogEmail"),f=$C("contactDialogCell"),h=$C("contactDialogMarked"),j=mb.trim($C("contactDialogName").getValue()),k=mb.trim(e.getValue()),l=mb.trim(f.getValue()),m=h.getChecked(),n=[],o=$C("contactDialogGrps").getValue();e.hideTips();for(var r in o)n.push(o[r]);if(d)return{id:s,name:j,email:k,phone:l,grouping:n.join(";")};if(!k){e.showTips(kb.t("请输入联系人的Email地址"));try{e.focus()}catch(t){}return!0}if(l.length>20){f.showTips(kb.t("手机/电话长度不能超过20个字符"));try{f.focus()}catch(t){}return!0}return j||(j=k.split("@")[0]),i[q?"updateContact":"addContact"]({contacts:[{id:s,name:j,email:p?c:k,phone:l,group:n,mark:m,marked:m?i.getMarkSort():c}],call:function(a){b.callback&&b.callback({id:a[0],name:j,address:k}),g.close()},error:function(c){return"email"===c.type?(e.showTips(c.content),void 0):(a.Msgbox.show({content:kb.t("抱歉，")+c.content,ok:function(){c.dataErr||i.contactDialog(b)}}),void 0)}}),!0}function e(){if(!r){r=!0;var b=$C("contactDialogAddGrpIpt"),c=$C("contactDialogAddGrpSubmit"),d=$C("contactDialogAddGrpCancel"),e="#contactDialogAddGrpInfo";c.hide(),d.hide(),a.fly(e).show(),i.addGroup({name:mb.trim(b.getValue()),call:function(b){a.fly(e).hide(),c.show(),d.show();
var f=b.returns[0],g=i.data.extDataMap.group[f];$C("contactDialogGrps").add({text:mb.encodeHTML(g.N),value:g.CID,checked:!0}),a.fly("#contactDialogAddGrpDiv").hide(),a.fly("#contactDialogAddGrpP").show(),r=!1},error:function(f){a.fly(e).hide(),c.show(),d.show(),b.showTips(f.content),b.select();var g=b.getEl().dom,h=g.parentNode.offsetTop-8;h>0&&(g.parentNode.parentNode.scrollTop=h),r=!1}})}}var f,g,h,i=this,j=b.addr,k=i.data.extDataMap.groupArray,l=i.data.extDataMap.contact,m=i.data.delayedContact,n=[],o=[],p=b.disabled,q="modify"===b.type,r=!1,s="",t="",u="",v="",w=!1;if(!i.dataInited)return i._addInitCall(a.Function.bind(i.contactDialog,i,b)),void 0;if(j){if(s=j.CID||j.id,s&&(m[s]||!l[s]))return i.registerContact({UID:s,call:function(a){j.id=a.CID,i.contactDialog(b)}}),void 0;var x=sb.getModule();if(x&&"contact.ContactModule"===x.mtype){try{var y=$L("interface.AddressInterface",this)}catch(z){return z}return y.contactModify({id:s}),void 0}t=j.name||t,u=j.email||u,v=j.phone||v,w=j.marked||!1}if(q){if(f=l[s],!f)return b.type="add",i.contactDialog(b),void 0;p=!0,h=kb.t("快速修改联系人"),s=f.CID,n=f.GROUPING.split(";"),t=i.getGivenName(f)||t,u=u||i.getContactEmails(f)[0],v=v||f["TEL;type=CELL;type=VOICE;type=pref"],w=f.MARKED}else p=!1,h=kb.t("快速添加联系人");for(var A,B=0,C=k.length;C>B;B+=1)A=k[B],A.N&&"OTHERS"!==A.CID&&"ALL"!==A.CID&&o.push({text:mb.encodeHTML(A.N),value:A.CID,checked:nb.has(n,A.CID)});var D=['<div class="nui-simpleForm nui-form">',"<table>","<tbody>","<tr>",'<th class="nui-form-title">'+kb.t("姓名")+"</th>",'<td class="nui-form-cont">',a.Input.html({id:"contactDialogName",value:t,width:"250px"}),"</td>","</tr>","<tr>",'<th class="nui-form-title">'+kb.t("邮箱地址")+"</th>",'<td class="nui-form-cont">',a.Input.html({id:"contactDialogEmail",value:u,disabled:p,width:"250px"}),"</td>","</tr>","<tr>",'<th class="nui-form-title">'+kb.t("手机/电话")+"</th>",'<td class="nui-form-cont">',a.Input.html({id:"contactDialogCell",value:v,width:"250px"}),"</td>","</tr>","<tr>",'<th class="nui-form-title"></th>','<td class="nui-form-cont">',a.Checkbox.html({id:"contactDialogMarked",checked:w,text:kb.t("设为星标联系人")}),"</td>","</tr>","<tr>",'<th class="nui-form-title">'+kb.t("分组")+"</th>",'<td class="nui-form-cont">','<div class="cE0 nui-scroll">',a.CheckGroup.html({id:"contactDialogGrps",checkType:"checkbox",items:o}),'<p id="contactDialogAddGrpP">',a.Link.html({text:kb.t("添加分组"),cls:"nui-txt-link",click:function(){var b=$C("contactDialogAddGrpIpt");b.hideTips(),b.setValue(""),a.fly("#contactDialogAddGrpP").hide(),a.fly("#contactDialogAddGrpDiv").show();var c=b.getEl().dom,d=c.parentNode.offsetTop-8;d>0&&(c.parentNode.parentNode.scrollTop=d),b.focus()}}),"</p>",'<div id="contactDialogAddGrpDiv" style="padding-bottom:6px;display:none;">',a.Input.html({id:"contactDialogAddGrpIpt",width:$G.environment.isCh?"150px":"120px"}),a.Link.html({id:"contactDialogAddGrpSubmit",text:kb.t("确定"),cls:"nui-txt-link",click:e}),'<span id="contactDialogAddGrpInfo" class="nui-txt-tips" style="display:none;">'+kb.t("通讯中...")+"</span>","&nbsp;&nbsp;",a.Link.html({id:"contactDialogAddGrpCancel",text:kb.t("取消"),cls:"nui-txt-link",click:function(){a.fly("#contactDialogAddGrpDiv").hide(),a.fly("#contactDialogAddGrpP").show()}}),"</div>","</div>","</td>","</tr>","</tbody>","</table>","</div>"].join("");g=new a.Msgbox({type:"confirm",contentType:"normal",header:h,content:D,footer:{xtype:"link",text:kb.t("去通讯录编辑更多&gt;&gt;"),cls:"nui-txt-link",hidden:vb.newwin,click:function(){try{var a=$L("interface.AddressInterface",this)}catch(b){return b}a.contactModify(d(!0)),g.close()}},ok:d}),a.Component.setEvents(10)}function _(b){function c(){var a,b,c=$C("contactSelGroup"),e=c.getValue(),f=[],i=[];for(var j in k){if(j=mb.decodeHTML(j),b=qb.getAddress(j),a={name:qb.getDefaultName(j),email:qb.getAddress(j,!0)},!a.email){var l=qb.getEmails(j,"Email",!0);l.match.length>0&&(a.email=l.match[0].address,a.name=l.match[0].defaultName)}a.name||(a.name=a.email.split("@")[0]),"-1"!==e&&(a.group=[e]),document.getElementById("chk_"+b).checked&&(k[j]||f.push(a),i.push(b))}var m;if(0===f.length+i.length)m=kb.t("请选择需要保存的联系人。");else if("-2"==e){m=kb.t("请选择联系人分组。");try{$C("contactNewGroupInput").focus()}catch(o){}}return m?(n.footer.html('<span class="nui-txt-err">'+m+"</span>"),!0):(f.length>0&&h.addContact({contacts:f,call:g,error:function(a){n.footer.html('<span class="nui-txt-err">'+a.content+"</span>")}}),i.length>0&&d(i,e),void 0)}function d(a,b){if("-1"===b)return j({code:wb}),void 0;var c=h.data.extDataMap.email,d=[];nb.each(a,function(a,e){try{var f,g=c[e];if(g){f=g[0];var i=f.GROUPING.split(";");nb.has(i,b)||(i.push(b),d.push({id:f.CID,group:i,name:h.getGivenName(f)}))}}catch(j){}}),d.length>0?h.updateContact({contacts:d,call:g,error:function(a){n.footer.html('<span class="nui-txt-err">'+a.content+"</span>")}}):g()}function e(a){var b=[],c=h.data.extDataMap.groupArray;return a+="",nb.each(c,function(c,d){"ALL"!==d.CID&&"OTHERS"!==d.CID&&b.push({text:mb.escapeHTML(mb.left(d.N,30))+(mb.len(d.N)>30?"...":""),value:d.CID,checked:d.CID===a})}),b.unshift({text:kb.t("默认分组"),value:"-1"}),b.push({text:kb.t("添加分组"),value:"-2"}),{id:"contactSelGroup",title:kb.t("选择分组"),options:b,selectedchange:f}}function f(a){var b=this,c=$C("contactNewGroupInput"),d=$C("contactNewGroupButton");"-2"===a?(c.setValue(""),c.show(),d.show(),c.focus()):(a||b.setSelected(0),c.hide(),d.hide())}function g(){j({code:wb})}var h=this,i=b.data,j=b.callback,k={},l={},m=$S("uid");h.data.extDataMap.email;var n,o,p,q=[],r=[],s=[];if(!h.dataInited)return h._addInitCall(a.Function.bind(h.contactListDialog,h,b)),void 0;if(!lb.isArray(i)||0===i.length)return g({code:!1,msg:kb.t("没有其他联系人可以添加！")}),void 0;a.Array.each(i,function(b,c){return c=(c+"").toLowerCase(),p=qb.getAddress(c).toLowerCase(),p||(p=qb.getEmails(c,"Email",!0).match[0]),!p||l[p]?a.CONTINUE:(l[p]=!0,k[c]||c===m||(k[c]=!!h.getAddrObj(p)),void 0)});for(o in k)(k[o]?r:q).push('<li class="cV0 nui-txt-'+(k[o]?"aside":"normal")+'"><label class="nui-chk nui-chk-hasText"><input class="nui-chk-symbol" type="checkbox" value="'+qb.getAddress(o)+'"'+(k[o]?"":' checked="true"')+' id="chk_'+qb.getAddress(o)+'"></input><span class="nui-chk-text">'+mb.escapeHTML(o)+(k[o]?kb.t("(已存在)"):"")+"</span></label></li>");s=q.concat(r);var t=['<ul class="cY0 nui-scroll">',s.join(""),"</ul>",'<div class="nui-txt-normal cA0">',kb.t("将以上联系人加入到分组："),'<div class="nui-item nui-item-spc2x ">',"<span>",a.Select.html(e()),"</span>",a.Input.html({id:"contactNewGroupInput",hidden:!0}),a.Button.html({id:"contactNewGroupButton",text:kb.t("添加"),subclass:"inputBtn",click:function(){var a=this,b=$C("contactNewGroupInput"),c=mb.trim(b.getValue());h.addGroup({name:c,call:function(c){a.hide(),b.hide(),$C("contactSelGroup").update(e(c.returns[0])),n.footer.empty()},error:function(a){n.footer.html('<span class="nui-txt-err">'+a.content+"</span>"),b.focus()}})},hidden:!0}),"</div>","</div>"].join("");n=new a.Msgbox({type:"confirm",contentType:"wide",header:kb.t("保存联系人"),content:t,ok:c}),a.Component.setEvents(10)}function ab(b){function c(){var a=this;""===mb.trim(mb.trim(a.getValue()))&&g(a)}function d(b){var c=this;b=a.Event.getEvent(b);var d=b.keyCode.toString();return"27"===d||27===d?(c.setValue(""),!1):void 0}function e(){var b=this,c=mb.trim(b.getValue()),d=a("#"+t);return""===c||c===w?!1:(v||($C(s).hide(),d.show()),d.html('<div class="nui-assistBlock nui-block nui-contacts-search-tit">'+kb.t("正在搜索...")+"</div>"),h(a.String.encodeHTML(c)),b.iconBtn.update({type:"close"}),v=!0,d.destroy(),void 0)}function f(){var a=this;v&&g(a)}function g(b){var c=a("#"+t);b.setValue(""),b.iconBtn.update({type:"search"}),c.hide(),$C(s).show(),c.empty(),x.length=0,w="",v=!1,c.destroy()}function h(b){var c,d=o.data.rawDataArray.contact,e=[],f=[];u={},c=w.length>0&&b.length>0&&0===b.indexOf(w)?x:d;for(var g,h,j,k=0,l=c.length;l>k;k++)g=c[k],j=o.getContactEmails(g)[0]||"",h=o.getGivenName(g)||j.split("@")[0]||"",(h||j)&&(h.indexOf(b)>-1||j.indexOf(b)>-1)&&(e.push(g),u[g.CID]={name:h,email:j},f.push(i(b,{id:g.CID,name:h,email:j})));x=e,w=b,0===f.length&&f.push('<div class="nui-assistBlock nui-block nui-contacts-search-tit">'+kb.t("没有搜索到有关“")+"<strong>"+b+"</strong>"+kb.t("”的联系人")+"</div>"),a.fly("#"+t).html(f.join(""))}function i(a,b){var c=mb.encodeHTML(b.name),d=mb.encodeHTML(b.email),e=o._getReg(a);return['<a id="'+t+"__"+b.id+'" class="nui-contacts-search-item" href="javascript:void(0)" title="&quot;'+c+"&quot;"+"&lt;"+d+"&gt;"+'">','<strong class="nui-tree-item-text">',a?c.replace(e,j):c,"</strong>",'<p class="nui-tree-item-text">&lt;',a?d.replace(e,j):d,"&gt</p>","</a>"].join("")}function j(a){return'<b class="nui-txt-mark">'+a+"</b>"}function k(b,c){var d=b,e="",f=a.Element.create("span");for(f.setClass("txt-info"),f.css({visibility:"hidden"}),a.JS.container.appendChild(f.dom);f&&mb.len(d)>0;){var g=d+e;f.html(mb.escapeHTML(g));var h=parseInt(f.dom.offsetWidth,10);if(c>=h)return f.empty(),f.remove(),g;var i=Math.floor((h-c)/(h/g.length))||1;d=d.substr(0,d.length-i),0!==e.indexOf("..")&&(e="..")}}var l,m,n,o=this,p=o.data.extDataMap.groupArray,q=b.renderTo,r="contactSelector_"+((new Date).getTime()+""),s=r+"_tree",t=r+"_search",u={},v=!1,w="",x=[];if(!o.dataInited)return o._addInitCall(a.Function.bind(o.contactSelector,o,b)),null;if(!(q instanceof a.Element||(q=lb.isString(q)?a("#"+q):a(q),q&&q.append)))return null;l=a.Element.create("div"),m={id:s,items:[],isRoot:!0,extcls:"nui-simpleTree"};for(var y,z,A,B,C=0,D=p.length,E=m.items;D>C;C++)if(y=p[C],"ALL"!==y.CID){z=y.CONTACTS||[],A={text:k(y.N||kb.t("未命名分组"),120),items:[],isFold:!0},B=A.items;for(var F,G,H,I=0,J=z.length;J>I;I++)if(F=z[I]){if(G=o.getGivenName(F)||"",H=o.getContactEmails(F)[0]||"",!G){if(!H)continue;G=H.split("@")[0]}B.push({text:G,click:a.Function.bind(b.call,b,{id:F.CID,name:G,email:H})})}(0!==B.length||"OTHERS"===y.CID)&&(A.extItems=[{xtype:"link",text:"("+B.length+")"}],E.push(A))}1===E.length&&E[0].text===kb.t("未分组")&&(E[0].text=kb.t("所有")),n={placeholder:kb.t("查找联系人"),iconBtn:"search",extcls:"nui-contacts-input",blur:c,keydown:d,keyup:e,iconbtnclick:f},l.setClass("nui-contacts"),l.html([a.Input.html(n),'<div class="nui-contacts-list nui-scroll">',a.Tree.html(m),'<div id="'+t+'" class="nui-contacts-search" style="display:none;"><div class="nui-assistBlock nui-block nui-contacts-search-tit">'+kb.t("正在搜索...")+"</div></div>","</div>"].join("")),q.append(l.dom),a.Component.setEvents(10),a.fly("#"+t).listen("click",function(){var c,d,e,f=a.Event.getTarget();f&&("a"===f.nodeName.toLowerCase()?d=f.id:(c=a(f).findParent("a"),f=c?c.doms[0]:f,c&&(f=c.doms[0],c.destroy()),f&&(d=f.id))),d&&(d=d.split("__")[1],d&&(e=u[d],e.id=d,b.call(e)))}),q.destroy()}function bb(b,c,d,e){var f=kb.t("。");e=e||{},b?a.Tips.show({text:c+kb.t("成功!"),type:"suc"}):(e.dataErr=!0,e.content&&(f="："+e.content),a.Tips.show({text:c+kb.t("失败")+f,type:"err"})),d&&d(e)}function cb(a){var b,c=this,d=c.data.extDataMap.contactLiteArray||[],e=[];if($S("isCorp"))var e=c.entData.rawDataArray.contact||[];var f="corp"===a?e:"all"===a?d.concat(e):d;if(!xb)return f;for(var g=0,h=f.length;h>g;g++)b=f[g],xb&&!b.py&&b.name&&(b.py=ob.getPy(b.name).toLowerCase(),b.fpy=ob.getPy(b.name,!0).toLowerCase());return f}function db(a){var b=this;return b.dataInited?(a(),void 0):(b._addInitCall(a),void 0)}function eb(b){function c(a){var b,c=e.getContactEmails(a)||[],d=c[0]||null,g=a.CID||null;return b=g?e.getGivenName(a)||kb.t("未命名"):d?d.substring(0,d.indexOf("@")):kb.t("未命名"),{cid:g,marked:+a.MARKED||null,email:d,emails:1!==c.length||d?c:[],name:b,yellowPage:g?f.extDataMap.yellowPage[g]||null:null}}function d(a){var b=[];return nb.each(f.extDataMap.group[a.CID].CONTACTS,function(a,d){b.push(c(d))}),{cid:a.CID,marked:+a.MARKED,name:a.N||kb.t("未命名"),ctype:"group",contacts:b}}var e=this,f=e.data;if(!b&&f.extDataMap.dataMark)return f.extDataMap.dataMark;f.extDataMap.contact;var g,h=[],i=[];if(e.dataInited){nb.each(f.extDataMap.contactMark,function(d,e){if(g=c(e),b)i.push(g);else{if(0===g.emails.length)return;var f;nb.each(g.emails,function(b,c){return a.Uri.getEmails(c).wrong.length>0?(f=!0,a.BREAK):void 0}),f||i.push(c(e))}}),nb.each(f.extDataMap.groupMark,function(a,b){i.push(d(b))}),nb.each(f.recentContacts,function(a,b){b.MARKED||h.push(c(b))}),i.sort(function(a,b){return a.marked-b.marked});var j={contact:i,recommend:h,contactCount:f.extDataMap.contactLiteArray.length};return b||(f.extDataMap.dataMark=j),j}}function fb(a){var b=this;b.data.extDataMap.group;var c=a.GROUPING||a.Grouping||"";return c}function gb(b){try{var c=this,d=c.getMarkData(),e=d.contact,f={},g={},h=!1;if(e&&e.length>0)for(var i=0,j=e.length;j>i;i++){var k=e[i],l=k.emails;if(l)for(var m=0,n=l.length;n>m;m++)f[l[m].toLowerCase()]=!0,h=!0}var o={},l=[],p={};try{for(var m=0,n=b.length;n>m;m++)try{var q=b[m],r=q.rawConfig;try{var s=a.String.trim(r.address.toLowerCase());if(s){p[s]||(l.push(s),o[s]=[],p[s]=!0);var t=o[s];t.push(q),f[s]!=r.contact&&(g[s]=!0)}}catch(u){}}catch(u){}}catch(u){}if(l.length>0)for(var i=0,j=l.length;j>i;i++)try{var s=l[i].toLowerCase(),v=g[s];if(v)for(var t=o[s],m=0,n=t.length;n>m;m++){var q=t[m],r=q.rawConfig;r.contact=!r.contact,q.update({})}}catch(u){}}catch(w){}}try{var hb=$L("support.AddressSupportAction")}catch(ib){return ib}try{var jb=$L("support.PyDict")}catch(ib){return ib}var kb=new $I18N("support.AddressSupport"),lb=a.Object,mb=a.String,nb=a.Array;a.Ext;var ob,pb,qb=a.Uri,rb=a.Ud,sb=a.Context,tb=a.Listener,ub=a.EMAIL_ADDRESS,vb=$G.common,wb=a.S_OK,xb=!a.Browser.isIE("<9");pb=hb,ob=jb;var yb=a.createClass($N("support.AddressSupport"));a.AddressSupport=yb,lb.extend(yb,{forceUseLocalStorage:!1,_action:null,_localVer:"5.0.1",_localKey:a.ADDR_LOCAL_KEY,_cloneList:a.ADDR_CLONE_LIST,_initCalls:[],dataInited:!1,_formatTimerId:1,_initData:d,_formatData:e,_formatGroupData:f,_formatContactData:g,_updateData:h,_formatYellowPageData:i,_formatFrequentContacts:j,_getReg:k,_addInitCall:l,getMarkSort:m,data:{ver:null,rawDataArray:{contact:[],group:[],attach:[],limitinfo:{}},extDataMap:{contact:{},contactLite:{},contactLiteArray:[],email:{},group:{},groupArray:[],yellowPage:{},contactMark:[],groupMark:[],dataPhone:{},dataMark:null},cache:{nameCache:{},addrCache:{}},maxMarkSort:0,recentContacts:null,delayedContact:{}},checkLocalState:n,getLocalData:o,setLocalData:p,readLocalData:q,updateLocalData:r,clearLocalData:s,getDataVersion:t,resetLocalStorage:u,init:v,resetData:w,addGroup:x,addContact:y,updateContact:z,markData:A,deleteContact:B,deleteContactAttr:C,addExtContact:D,registerContact:E,showError:F,parseName:G,parseN:H,parseADR:I,getName:J,getGivenName:K,setGivenName:L,getContactEmails:M,getAddrObj:N,getGroupId:O,mappingEmails:P,toAddrString:Q,simpleSearch:R,search:S,searchContacts:T,getGroupLength:U,getRecentContact:V,clonePermitCheck:W,contactClone:X,cloneResponse:Y,getCloneInfo:Z,contactDialog:$,contactListDialog:_,contactSelector:ab,dataCall:bb,getContactLiteArray:cb,dataInitCall:db,getMarkData:eb,fixedGroupingCid:fb,mark:gb})}($,window),function(a){function b(){var b={},c=arguments[arguments.length-1];arguments.length>=3?(b.uid=arguments[0],b.size=arguments[1],b.useCache=4===arguments.length&&arguments[2]):2===arguments.length&&(Object.isObject(arguments[0])?b=arguments[0]:b.uid=arguments[0]);var d=this,e=d._cache,g=a.Ud.udProxy&&a.Ud.udProxy["product.vipMember"]?"//mimg.127.net/p/js6/lib/img/noface_plus.png":"//mimg.127.net/p/js6/lib/img/noface_new.gif",h=b.uid.replace(/@/g,""),i=b.size||32,j=b.useCache;if(!a.Email.checkFree(b.uid))return c(g,!0);try{h=f.encode(h)}catch(k){}var l="https://nos.netease.com/mail-online/"+h+"/mail180x180.jpg?imageView&thumbnail="+i+"x"+i+"&timestamp="+(new Date).getTime();if(j&&h in e)return e[h]?c(l):c(g,!0);if(b.uid===$S("orgUid"))d.has(function(a){e[b.uid]=a,a?c(l):c(g,!0)});else{var m=new Image;m.onload=function(){e[h]=!0,c(l)},m.onerror=function(){e[h]=!1,c(g,!0)},m.src=l}}function c(a){var b=d,c="mail.avt";b.getProxy({field:c,call:function(b){return a(!!b[c])}})}try{var d=$L("util.Ud")}catch(e){return e}try{var f=$L("util.MD5")}catch(e){return e}var g=a.createClass($N("init.Avatar"));a.Object.extend(g,{_cache:{},get:b,has:c})}($,window),function(a){function b(){n=a.Object.clone($G.get("customConf")),o=a.Object.clone($G.get("multiTabConf")),p=a.Object.clone($G.get("dockConf"))}function c(){q=null,t=!0}function d(){return o||(o=a.Object.clone($G.get("multiTabConf"))),a.Object.clone(o)}function e(){return p||(p=a.Object.clone($G.get("dockConf"))),a.Object.clone(p)}function f(b){var c=this,d=$S("domain");b=b||{};var e=b.type,f=b.call,k={"vip.163.com":"vip163","vip.126.com":"vip126","188.com":"188"},l="";if($S("isFree")||(e="url",l=k[d]),"url"!==e&&(e="predefine"),q||b.firstInit)return a.Object.clone(q||[]);var m,o,p,s=$G.attrs.user.ntes_product||"{}",u=$G.attrs.user.ntes_config||"{}",v=$G.attrs.user.ntes_service||"{}",w=a.Ud.get({field:"ntes_buzz",flag:"importedApp"})-0,x=a.Ud.get({field:"ntes_buzz",flag:"importedTab"})-0,y=a.Ud.get({field:"ntes_buzz",flag:"importedDock"})-0,z=s&&s.indexOf("app")>-1;if(a.Ext.appCenter){try{var A=new r,B="uapp:listApps",C={},D=JSON.parse(s).app||[],E=JSON.parse(u).tab||[],F=JSON.parse(v).dock||[],G=!1;if(0===D.length){if(E.length>0){for(var H=0,I=E.length;I>H;H++){var J=E[H],K=J[0]+"";0!==K.indexOf("t")&&1===J[1]&&D.push(J)}G=!0}if(F.length>0){for(var L=0;L<F.length;L++){var M=F[L],N=M[0]+"";0!==N.indexOf("m")&&1===M[1]&&D.push(M)}G=!0}}w||!z&&!G||(B="uapp:updateAppsList",C={ids:h(D),result:!0});var O={func:B,url:"//"+$S("host")+"/appcenter/ftentry.do?sid="+$S("sid"),body:C,voidRetry:!0,error:function(){return q=[],a.Listener.fire("appcenter:init"),!0},call:function(b){var c=b["var"];if(w||(o="ntes_buzz",a.Ud.set({field:o,flag:"importedApp",value:"1",call:function(){}})),x||(sConvertTabData=i(E),m={},m.tab=i(E),a.Ud.set({field:"ntes_config",value:JSON.stringify(m),call:function(){}}),o="ntes_buzz",a.Ud.set({field:o,flag:"importedTab",value:"1",call:function(){}})),!y){p=i(F);var d={};d.dock=p,a.Ud.set({field:"ntes_service",value:JSON.stringify(d),call:function(){}}),o="ntes_buzz",a.Ud.set({field:o,flag:"importedDock",value:"1",call:function(){}})}q=g(c),t=!1,f&&f(q),a.Listener.fire("appcenter:init")}};t||0!==E.length||0!==F.length?($S("useAppCenter",!0),A.wmsvr(O)):(q=[],f&&f(q),a.Listener.fire("appcenter:init"))}catch(P){}return[]}if("url"!==e&&(e="predefine"),"predefine"===e){if(n||(n=a.Object.clone($G.get("customConf"))),q=n[d],x&&(sConvertTabData=j(JSON.parse(u).tab||[]),m={},m.tab=sConvertTabData,a.Ud.set({field:"ntes_config",value:JSON.stringify(m),call:function(){}}),o="ntes_buzz",a.Ud.set({field:o,flag:"importedTab",value:"0",call:function(){}})),y){p=j(JSON.parse(v).dock||[]);var Q={};Q.dock=p,a.Ud.set({field:"ntes_service",value:JSON.stringify(Q),call:function(){}}),o="ntes_buzz",a.Ud.set({field:o,flag:"importedDock",value:"0",call:function(){}})}return a.Listener.fire("appcenter:init"),a.Object.clone(q||[])}if(a.Ext.appCenter);else if(!q&&c._getListOnce){var R=a.Uri.getUrl("appsList",!0),S={requestType:a.Ajax.SCRIPT,charset:"GBK",url:R+"?domain="+l,paddingFunc:function(b){b.code===a.S_OK&&(q=b.appsList,a.Array.each(q,function(a,b){b.display=b.def?1:0,b.newWindow=!!(b.newwindow&&b.newwindow|!1);var c=$G.get("vipLockAppConf")&&$G.get("vipLockAppConf")[b.name];c&&(b.lockid=c.lockid)}),$S("AppDataPrepared",!0),f&&f(q),a.Listener.fire("appcenter:init"))}};a.Ajax.request(S)}return a.Object.clone(q||[])}function g(a){for(var b=0,c=a.length;c>b;b++){var d=a[b];d.id=d.appId,d.text=d.name,d.name=d.appId,d.display=1,d.fullScreen=!0,d.isAppcenterApp=!0,d.url&&0!==d.url.indexOf("http")&&(d.name=d.url)}return a}function h(a){for(var b=$G.get("appIdToAppCenter")[$S("domain")],c=[],d=0;d<a.length;d++){var e=a[d];if(e[1]){var f=b[e[0]+""]-0;f&&c.push(f)}}return c}function i(a){for(var b=$G.get("appIdToAppCenter")[$S("domain")],c=[],d=0;d<a.length;d++){var e=a[d],f=e[0]+"";if(0===f.indexOf("t")||0===f.indexOf("m"))c.push(e);else{var g=b[f]-0;g&&c.push([g,e[1]])}}return c}function j(a){for(var b=k($G.get("appIdToAppCenter")[$S("domain")]),c=[],d=0;d<a.length;d++){var e=a[d],f=e[0]+"";if(0===f.indexOf("t")||0===f.indexOf("m"))c.push(e);else{var g=b[f]-0;g&&c.push([g,e[1]])}}return c}function k(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[a[c]]=c);return b}try{var l=$L("core.DataAction")}catch(m){return m}new $I18N("init.CustomAppDataSource");var n,o,p,q,r=l,s=a.createClass($N("init.CustomAppDataSource")),t=!1;a.Object.extend(s,{_getListOnce:!0,init:b,reset:c,getPredefineTabApps:d,getPredefineDockApps:e,getAppsList:f})}($,window),function(a,b,c){function d(){function a(){b._updateCustomSetting(b.APP_TYPE.Tab,b._generateAppOrderStringByType(b.APP_TYPE.Tab,b.getTabAppsList())),b._updateCustomSetting(b.APP_TYPE.Dock,b._generateAppOrderStringByType(b.APP_TYPE.Dock,b.getDockAppsList()))}var b=this;b.customAppDataSource=T,b.customAppDataSource.init(),b.constructor.appmodifyListened||(W.listen("appmanager:modify",function(){a()}),b.constructor.appmodifyListened=!0)}function e(b){for(var c=this,d=c._getCustomListFromGlobalUserAttrByType(c.APP_TYPE.App),e=c.customAppDataSource.getAppsList(b),f=0,g=e.length;g>f;f++)e[f].display=e[f].display?1:0;if(0===d.length)return e;for(var h=[],i=0,j=e.length;j>i;i++){var k=e[i];a.Ext.appCenter||(k.display=c._getAppDisplaySetting(d,k.id)),h.push(k)}return a.Ext.appCenter||(c._orderByCustomOrder(h,d),c._orderByProperty(h,"display")),h}function f(b){for(var c=this,d=c.APP_TYPE,e=c.getAppsList(b),f=c._getCustomListFromGlobalUserAttrByType(c.APP_TYPE.Tab),g=c.customAppDataSource.getPredefineTabApps(),h=[],i=0,j=g.length;j>i;i++)g[i].id=g[i].tabid,g[i].module?h.push(g[i]):h.push(c._initialApp(d.Tab,g[i],g[i].display));for(i=0,j=e.length;j>i;i++){var k=e[i];!k.display||k.newWindow||a.Array.findObject(g,"id",k.appId)||h.push(c._initialApp(c.APP_TYPE.Tab,k))}return c._orderByCustomOrder(h,f),c._orderByProperty(h,"display"),c._orderByProperty(h,"isPromoteTab",!0),h}function g(){for(var b,c=this,d=c.getAppsList(),e=c.customAppDataSource.getPredefineDockApps(),f=c._getCustomListFromGlobalUserAttrByType(c.APP_TYPE.Dock),g=[],h=0,i=e.length;i>h;h++){var j=e[h];if(b=a.Array.findObject(d,"id",e[h].id),j.isModule&&!b){var k=j.icon;j.name&&(k=j.name),g.push({id:j.id,dockid:j.id,display:j.display||0,text:j.text,isModule:!0,name:k,icon:a.Ext.appCenter?j.icon:j.defaultIcon&&j.icon,isDef:!0})}}for(h=0,i=d.length;i>h;h++){var l,m,n=d[h];n.display&&(m=c._initialApp(c.APP_TYPE.Dock,n),l=a.Array.findObject(e,"id",n.id),l&&(m.isDef=!0,m.display=l.display||0),g.push(m))}if($S("isFree")){var o=a.AppCenterInterface.appIdForYiqipin(),p=a.Array.indexOf(g,function(a){return a.id===o});p>-1&&g.splice(p,1)}return c._orderByCustomOrder(g,f),$S("isFree")&&(p=a.Array.indexOf(g,function(a){return a.id===o}),p>-1&&Q(g,p,0)),c._orderByProperty(g,"display"),g}function h(a){var b=this,c=b.APP_TYPE;return a===c.App?this.getAppsList():a===c.Tab?this.getTabAppsList():a===c.Dock?this.getDockAppsList():[]}function i(b){var c=this.getAppsList(),d=a.Array.findObject(c,"id",b);return d?d.display||0:0}function j(b){var c=this.getAppsList(),d=a.Array.findObject(c,"id",b);return d||{}}function k(b,c){var d=this,e=d.APP_TYPE;d._updateCustomSetting(b,"",c),b===e.Tab&&d.setTempPromoteTabStatus(!0),(b===e.Tab||b===e.App)&&a.Listener.fire("tab:reset"),b===e.App&&a.Listener.fire("appmanager:modify","reset")}function l(b,c){var d,e=this;if(a.Ext.appCenter){var f,g;"object"==typeof b?(f=b,g=f.call):("string"==typeof b||"number"==typeof b)&&(d=e.getAppsList(),f=a.Array.findObject(d,"id",b),g=c);var h=f&&f.url||"",i=f.text||f.apptext,j=f.appId||f.id,k=f.name;try{var l=$L("interface.OutlinkInterface",this)}catch(m){return m}l.goOutlink({key:k,title:i,text:i,url:h,isAppCenter:!0,fullScreen:!0,group:f.group||k,appId:j,call:g,lockid:f.lockId,cross:f.canCross,param:{log:JSON.stringify({AppCenter_AppId:j,uid:$S("uid")})}})}else{d=this.getAppsList();var n=a.Array.findObject(d,"id",b);try{var l=$L("interface.OutlinkInterface",this)}catch(m){return m}l.goOutlink({key:n.name,title:n.text,lockid:n.lockid,cross:n.listen})}}function m(a,c,d,e,f){var g=$S("fullDomain");if(d&&d.indexOf("$fullDomain$")>-1&&(d=d.replace("$fullDomain$",g)),e)return b.open(d),void 0;var h;if($S("isVip")&&"recovery"===a&&(h=!0),"object"==typeof c){try{var i=$L("interface.OutlinkInterface",this)}catch(j){return j}i.goOutlink({key:a,title:c.title,text:c.title,url:c.url,group:c.group,noCache:h,param:c.param})}else{try{var i=$L("interface.OutlinkInterface",this)}catch(j){return j}i.goOutlink({key:a,title:c,text:c,url:d,noCache:h,group:f})}}function n(b,c,d){var e=this,f=e.getAppTypeFromList(b);if(f===e.APP_TYPE.Tab){for(var g=0,h=0,i=b.length;i>h;h++)b[h].display&&g++;if(g>e.maxTabWindows)return a.Msgbox.show({title:V.t("最多只能设置")+e.maxTabWindows+V.t("个自定义标签窗口。")}),void 0}e._addOrRemoveAppByType(f,b,c,d)}function o(a,b){var c=this,d=c.getAppsList();c.addApp(d,a,b)}function p(a,b){var c=this,d=c.getTabAppsList();c.addApp(d,a,b)}function q(a,b){var c=this,d=c.getDockAppsList();c.addApp(d,a,b)}function r(a,b,c){var d=this,e=d.getAppTypeFromList(a);d._addOrRemoveAppByType(e,a,b,c,!1)}function s(a,b,c){var d=this,e=d.getAppTypeFromList(a);d._addOrRemoveAppDataSourceByType(e,a,b,c,!1)}function t(a,b){var c=this,d=c.getAppsList();c.removeApp(d,a,b)}function u(a,b,c,d){var e=this,f=e.getAppTypeFromList(a);e._moveAppByType(f,a,b,c,d)}function v(a){for(var b=0,c=0,d=a.length;d>c;c++)a[c].display&&(b+=1);return b}function w(a){var b=this,c=b.APP_TYPE,d=c.App;return a&&a[0]&&(a[0].tabid?d=c.Tab:a[0].dockid&&(d=c.Dock)),d}function x(b,c){var d=this,e=d.APP_TYPE.Dock,f=d.getDockAppsList(),g=a.Array.findObject(f,"id",b);g&&(g.isNew=!1),d._updateCustomSetting(e,d._generateAppOrderStringByType(e,f),c)}function y(a,b){var c=U,d="uapp:addApp",e={id:a},f=new c,g={func:d,url:"//"+$S("host")+"/appcenter/ftentry.do?sid="+$S("sid"),body:e,voidRetry:!0,error:function(){return!0},call:function(){b&&b()}};f.wmsvr(g)}function z(){var a=this;a.customAppDataSource.reset()}function A(a){var b=this;if(!a.isTempPromoteTab)return a.display-0==$.Show;if(a.display==$.ForbidHidden)return!1;if(a.display===$.ForbidShow)return!0;var c=a.promoteConfig;if(c){var d=c.hiddenIntervalInHour,e=c.removeTimes,f=b.getTempPromoteTabStatus(a)||{},g=f.c||0;if(g>=e)return!1;if(g>0){var h=f.t,i=(new Date).valueOf();if(i>=h&&36e5*d>=i-h)return!1}}return!0}function B(a,b){var c=this,d=c.getTempPromoteTabStatus(a)||{},e=d.c||0;b>0?e+=b:0===b&&(e=0),d.c=e,d.t=(new Date).valueOf(),c.setTempPromoteTabStatus(a,d)}function C(b){var c="__intenal__TPTS",d=a.LocalStorage.get(c,!0);try{var e=JSON.parse(d);return b?e[b.tabid]:e}catch(f){return}}function D(b,c){var d=this,e="__intenal__TPTS",f=d.getTempPromoteTabStatus()||{};if(b===!0)return a.LocalStorage.set(e,"",{path:"/",expires:365,domain:$S("fullDomain")},!0),void 0;if(b){f[b.tabid]=c;var g=JSON.stringify(f);a.LocalStorage.set(e,g,{path:"/",expires:365,domain:$S("fullDomain")},!0)}}function E(b){function c(a){var c=a["webmail.js.appdock"];b(c),$S("dockDisplayStatus",c)}var d=this,e=d._getCustomListFromGlobalUserAttrByType(d.APP_TYPE.Dock);b&&"function"==typeof b&&(e.length?(b(!0),$S("dockDisplayStatus",!0)):$S("isFree")?a.Ud.getProxy({field:["webmail.js.appdock"],call:c}):(b(!1),$S("dockDisplayStatus",!1)))}function F(b,c,d){var e=this,f=c.group||c.name;"nf_center"===f&&(f="file_center");var g={id:c.id,appDisplay:c.display,display:d?d:0,module:"outlink.OutlinkModule",param:{key:c.name},name:c.name,text:c.text,icon:c.icon,fullScreen:c.fullScreen,group:f,isPromoteTab:c.isPromoteTab,isTempPromoteTab:c.isTempPromoteTab,promoteConfig:c.promoteConfig,onRender:c.onRender,entry:a.Function.bind(function(a){if(c.isAppcenterApp)this.startApp(a.appId||a.id);else{try{var b=$L("interface.OutlinkInterface",this)}catch(d){return d}var e=a.group||a.name;"nf_center"===e&&(e="file_center"),b.goOutlink({key:a.name,title:a.text,lockid:a.lockid,cross:a.listen,fullScreen:a.fullScreen,group:e})}},e,c),active:a.Function.bind(function(a){return a.key+""==this.name+""},c)};return e.APP_TYPE.Tab===b?(g.tabid=c.id,g.isAppTab=!0,c.nonClose&&(g.nonClose=c.nonClose)):e.APP_TYPE.Dock===b&&(g.dockid=c.id,g.isAppDock=!0),g}function G(a,b,c){for(var d=0,e=0,f=a.length;f>e;e++)if(c&&a[e][b]||!c&&!a[e][b])d>e&&(d=e);else if(e>d){Q(a,e,d);for(var g=d+1;f>g;g++)if(c&&a[e][b]||!c&&!a[e][b]){d=g;break}}else d+=1;return a}function H(a,b){for(var c=0,d=0,e=a.length;e>d;d++)if(a[d][0]+""==b+""){c=a[d][1];break}return c}function I(a,b){for(var c=b.length-1;c>=0;c--){for(var d=b[c][0],e=b[c][1],f=b[c][2],g=-1,h={},i=0,j=a.length;j>i;i++)if(a[i].id+""==d+""){g=i,a[i].isPromoteTab||(a[i].display=e),h=a[i];break}f&&(h.isNew=!0),e&&g>=0&&(a.splice(g,1),a.unshift(h))}return a}function J(b,c,d){var e=Y[b];a.Ud.set({field:e,value:c,call:function(){d&&d()}})}function K(a,b,d,e,f){var g=this,h=g.APP_TYPE,i=f===c||f===!0?$.Show:$.Hidden;return b=g._addOrRemoveAppDataSourceByType(a,b,d,e,f),(a===h.Tab||a===h.App)&&(i!=$.Show&&i!=$.ForbidShow||a===h.App?W.fire("tab:modify",d):W.fire("tab:modify")),a!==h.App||i||W.fire("appmanager:modify","remove"),b}function L(b,d,e,f,g){var h,i=this,j=i.APP_TYPE,k="id",l=g===c||g===!0?$.Show:$.Hidden;return b===j.Tab?k="tabid":b===j.Dock&&(k="dockid"),h=a.Array.findObject(d,k,e),h&&(b===j.Tab&&h.isTempPromoteTab&&(l=g===c||g===!0?$.ForbidShow:$.ForbidHidden),h.display=l,b===j.Dock&&(h.isNew=!0)),i._orderByProperty(d,"display"),i._updateCustomSetting(b,i._generateAppOrderStringByType(b,d),f),d}function M(b,c,d,e,f){var g=this,h=g.APP_TYPE,i=c.length;return d>=i||e>=i||0===i?c:b===h.App&&!a.Object.has(c[0],"id")||b===h.Tab&&!a.Object.has(c[0],"tabid")||b===h.Dock&&!a.Object.has(c[0],"dockid")?c:(P(c,d,e),g._updateCustomSetting(b,g._generateAppOrderStringByType(b,c),f),b===h.Tab&&W.fire("tab:modify"),c)}function N(a,b){var c=this,d=c.APP_TYPE,e=[],f="id";a===d.Tab?f="tabid":a===d.Dock&&(f="dockid");for(var g=0,h=b.length;h>g;g++){var i=b[g];i.isNew?e.push([i[f],i.display,1]):e.push([i[f],i.display])}var j={};return j[a]=e,JSON.stringify(j)}function O(a){try{return JSON.parse(b.$G.attrs.user[Y[a]]||"{}")[a]||[]}catch(c){return[]}}function P(a,b,c){var d=a[b];return b>c?(a.splice(b,1),a.splice(c+1,0,d)):c>b&&(a.splice(b,1),a.splice(c,0,d)),a}function Q(a,b,c){var d=a[b];return a.splice(b,1),a.splice(c,0,d),a}try{var R=$L("core.Listener")}catch(S){return S}try{var T=$L("init.CustomAppDataSource")}catch(S){return S}try{var U=$L("core.DataAction")}catch(S){return S}var V=new $I18N("init.CustomAppManager"),W=R,X=a.createClass($N("init.CustomAppManager")),Y={defined:"ntes_defined",tab:"ntes_config",dock:"ntes_service",app:"ntes_product"},Z={App:"app",Tab:"tab",Dock:"dock"},$={Hidden:0,Show:1,ForbidHidden:2,ForbidShow:3};a.Object.extend(X,{maxTabWindows:10,APP_TYPE:Z,DisplayType:$,customAppDataSource:null,init:d,getAppTypeFromList:w,getAppsList:e,getTabAppsList:f,getDockAppsList:g,getAppsListByType:h,addApp:n,addMailApp:o,addTabApp:p,addDockApp:q,removeApp:r,removeAppWithoutNotice:s,removeMailApp:t,moveApp:u,resetSetting:k,getAppStatus:i,getApp:j,selectedAppsCount:v,startApp:l,goOutLink:m,markDockAppClicked:x,addUserAppToServer:y,resetDataSource:z,shouldTabAppShow:A,setTempPromoteTabClicked:B,getTempPromoteTabStatus:C,setTempPromoteTabStatus:D,getDockDisplayStatus:E,_initialApp:F,_orderByProperty:G,_addOrRemoveAppByType:K,_addOrRemoveAppDataSourceByType:L,_getAppDisplaySetting:H,_orderByCustomOrder:I,_updateCustomSetting:J,_moveAppByType:M,_generateAppOrderStringByType:N,_getCustomListFromGlobalUserAttrByType:O})}($,window),function(a,b){function c(){s._initialize()}function d(b,c){switch(b){case"full":break;case"hfull":a.fly("#dvNavContainer").hide(),s._isIE6||(a.fly("#themeLeft").hide(),a.fly("#themeLeftTop").hide(),a.fly("#themeLeftBottom").hide());break;default:c||a.fly("#dvNavContainer").show(),s._isIE6||(a.fly("#themeLeft").show(),a.fly("#themeLeftTop").show(),a.fly("#themeLeftBottom").show())
}}function e(b,c,d){if(d=d||a.Context.module){var e=d._var;if(e){var f=d.mtype;try{var g=e&&e.param&&e.param.fullScreen,h=s.topHeight,i=g?0:s.leftWidth,j=s.topToolbarHeight;s.navTopHeight;var k=s.dragHandler,l=document.documentElement,m=l.clientHeight,n=l.clientWidth,o=m-h,p=n-i,q="";s._ieVersion<9&&"mbox.BrandModule"!==f&&(f="compose.ComposeModule",i=0);var r=s.moduleDft[f],t=e.fixViewType;if(t){var t=r.fixModules[t];t&&(f=t,r=s.moduleDft[f])}r||(r=s.moduleDft.dft),r.topToolbarHeight&&(j=r.topToolbarHeight);var u=r.minWidth||0,v=r.minHeight||0,w=r.width||0,x=r.height||0;u>w?w=r.width=u:w>p-u&&(w=r.width=p-u),v>x?x=r.height=v:x>o-v&&(x=r.height=o-v),r.reverse&&(w=p-w,x=o-x),s._curLayout===s._layoutType.calc?q+=[".columns-lr-view{width:"+w+"px}",".columns-lr-main{width:"+(n-i-w)+"px}",".columns-lr-main-shareBar{width:"+(n-i)+"px}",".columns-lr-main-shareBar .frame-main-cont-body{width:"+(n-i-w)+"px}",".columns-lr-view-shareBar .frame-main-cont-body{height:"+(o-j)+"px}"].join(""):s._curLayout===s._layoutType["float"]?q+=[".columns-lr-view{width:"+w+"px}",".columns-lr-main{width:"+(n-i-w)+"px}",".columns-lr-main-shareBar{width:"+(n-i)+"px}",".columns-lr-main-shareBar .frame-main-cont-body{width:"+(n-i-w)+"px}"].join(""):s._curLayout===s._layoutType.auto&&(q+=[".frame-main-sptln-lr{right:"+w+"px}",".frame-main-sptln-tb{top:auto;bottom:"+x+"px}"].join(""),q+=[".columns-lr-view{width:"+w+"px}",".columns-lr-main{right: "+w+"px!important;}",".columns-lr-main-shareBar{right: 0!important}",".columns-lr-main-shareBar .frame-main-cont-body{right: "+w+"px!important}",".columns-lr-main-hasDrag .frame-main-cont-body{right: "+(w+k)+"px!important;}"].join(""),q+=[".columns-tb-view{height:"+x+"px}",".columns-tb-main{bottom: "+x+"px!important;}",".columns-tb-main-hasDrag{bottom: "+(x+k)+"px!important;}"].join("")),a.Support.insertStyle(q,"columnsStyle")}catch(y){}}}}function f(){switch(s._isIE6=6===s._ieVersion,s._isIE7=7===s._ieVersion,s._isIE8=8===s._ieVersion,s._ieVersion){case 6:s._curLayout=s._layoutType.calc;break;case 7:case 8:s._curLayout=s._layoutType["float"];break;default:s._curLayout=s._layoutType.auto}}function g(){try{if(s._curLayout!==s._layoutType.auto){var b=s.topHeight,c=s.leftWidth,d=s.topToolbarHeight;s.bottomToolbarHeight;var e=s.navTopHeight,f=!1,g=document.documentElement,h=g.clientHeight,i=g.clientWidth;if("number"!=typeof s.clientHeight||"number"!=typeof s.clientWidth?f=!0:(s.clientHeight!==h||s.clientWidth!==i)&&(f=!0),f){s.clientHeight=h,s.clientWidth=i;var j=h-b,k="";s._curLayout===s._layoutType.calc?k+=[".frame-nav{height:"+j+"px;}",".frame-nav .sH0{height:"+(j-e)+"px;}",".frame-nav .mt1{height:"+j+"px;}",".frame-main{height:"+j+"px;width:"+(i-c)+"px;}",".frame-main-cont-body{height:"+(j-d)+"px;}",".frame-main-cont-body-noToolbar{height:"+j+"px;}",".frame-main-noNav{width:"+i+"px;}",".frame-main-noTop{height:"+h+"px;}",".frame-main-noTop .frame-main-cont-body{height:"+(h-d)+"px;}",".frame-main-noTop .frame-main-cont-body-noToolbar{height:"+h+"px;}",".skin-left,.skin-left-top,.skin-right-top{height:"+j+"px;}"].join(""):s._curLayout===s._layoutType["float"]&&(k+=[".frame-nav{height:"+j+"px;}",".frame-nav .sH0{height:"+(j-e)+"px;}",".frame-nav .mt1{height:"+j+"px;}",".frame-main{height:"+j+"px;width:"+(i-c)+"px;}",".frame-main-cont-body{height:"+(j-d)+"px;}",".frame-main-cont-body-noToolbar{height:"+j+"px;}",".frame-main-noNav{width:"+i+"px;}",".frame-main-noTop{height:"+h+"px;}",".frame-main-noTop .frame-main-cont-body{height:"+(h-d)+"px;}",".frame-main-noTop .frame-main-cont-body-noToolbar{height:"+h+"px;}",".skin-left,.skin-left-top,.skin-right-top{height:"+j+"px;}"].join("")),a.Support.insertStyle(k,"frameStyle")}}s.setColumns(null,null,{mtype:"compose.ComposeModule",_var:{param:{fullScreen:!0}}})}catch(l){}}function h(){var b=a.Browser.getInfo(),c=b.appName;b.version;var d=b.os,e=b.system,f=document.body,g="",h="";$G.environment.isCh||(g+="hl-i18n-"+$G.environment.lang),s._isIe?(g+=" ua-ie"+s._ieVersion,s._ieVersion<=9&&(g+=" ua-lteie9"),s._ieVersion<=8&&(g+=" ua-lteie8"),s._ieVersion<=7&&(g+=" ua-lteie7")):(g+=" ua-"+c,g+=" ua-notIE");var i="windows"==d&&("5.1"==e||"5.2"==e)||"macintosh"==d;switch(i&&(g+=" ua-noYahei"),$S("font",i?"none":"yahei"),"macintosh"==d&&(g+=" ua-osX"),s._curLayout){case s._layoutType.calc:h=" frame-default frame-calc";break;case s._layoutType["float"]:h=" frame-float";break;default:h=" frame-default frame-auto"}a(f).addClass(g+h)}function i(){a(document.body).addClass($G.user.css)}function j(b,c){var d=null;if("string"==typeof b?d=b:"object"==typeof b&&(d=b.name),d){var e=a(d);if(e){var f=e.dom;if(f){if(!c)try{f.contentWindow.document&&f.contentWindow.document.body.scrollHeight?c=f.contentWindow.document.body.scrollHeight:f.contentWindow&&(c=f.contentWindow.document.documentElement.offsetHeight+100)}catch(g){c="500"}c=500>c?500:c,f.style.height=c+"px"}e.destroy()}}}function k(){function b(){var b=a.Context.module;if(b){var c,d=b.mtype,h=a.Event.getEvent().clientY,i=a.Event.getEvent().clientX,j=s.moduleDft[d],k="";j&&("t-b"===g?(c=h-e,k="height"):(c=i-f,k="width"),j.reverse?j[k]+=c:j[k]-=c,e=h,f=i,s.setColumns(g))}}function c(){a.fly(document.body).unlisten("mousemove",b),a.fly(document.body).unlisten("mouseup",b),a.fly(document.body).removeClass("frame-draging"),a.fly(document.body).removeClass("nui-fNoSelect")}var d=s._curLayout;if(d===s._layoutType.auto){var e,f,g,h=a.fly("#dvSplitter").dom;a.Event.listen(h,"mousedown",function(){a.Event.listen(document.body,"mousemove",b),a.Event.listen(document.body,"mouseup",c),a.fly(document.body).addClass("frame-draging"),a.fly(document.body).addClass("nui-fNoSelect"),g=a.Context.module._viewType,g&&(e=a.Event.getEvent().clientY,f=a.Event.getEvent().clientX)})}}function l(a,b){if(b.parent){b.parent.container.style.width=Math.max(document.documentElement.clientWidth-200-201-10,0)+"px";var c=a.container.style;c.height=Math.max(document.documentElement.clientHeight-88-10,0)+"px",c.position="absolute",c.top="10px",c.right=0,c.width="200px"}}function m(b,c,d){function e(b,c,d){if(b){var e;e=d?["columns-lr-main","columns-lr-main-hasDrag","columns-lr-main-shareBar","columns-tb-main","columns-tb-main-hasDrag"]:["columns-lr-view","columns-lr-view-shareBar","columns-tb-view"];for(var f=[],g=e.length;g--;)c&&-1!==c.indexOf(e[g])||f.push(e[g]);var h=a(b);h.removeClass(f.join(" ")),h.addClass(c)}}c=c||a.Context.module;var f,g,h="dvSubContainer";d||(d=c._var);var i=!0;d.parent?(c=c||a.SM.get(d.module,d.param),i=!1,g=c,"string"==typeof d.parent&&(d.parent=a.JS.find(d.parent)),f=d.parent):f=c;var j=!0;if(f._var&&!f._var.hasChildMod&&(j=!1),j){if(!i&&f._alreadySetViewType){f._child=g,g._parent=f;var k;return"l-r"===f._viewType?(k="columns-lr-view",f._var&&f._var.sharebar&&(k+=" columns-lr-view-shareBar")):"t-b"===f._viewType&&(k="columns-tb-view"),e(g.container,k,!1),void 0}}else if(i&&f._viewType&&"normal"!==f._viewType)return;try{if("normal"==b&&$S("firstSetViewType",!1),$S("checkViewType"));else{var l=a.Ud.get({field:"ntes_inbox",flag:"layout"});if(!l)return;$S("checkViewType",!0)}c._child&&(b=b||c._viewType,g=c._child);var m=d.sharebar||c&&c._sharebar;d.sharebar&&d.parent&&(d.parent._sharebar=!0);var n=d.noDragbar||c&&c._noDragbar;d.bNoDragBar&&d.parent&&(d.parent._noDragbar=!0);var o={"l-r":"columns-lr-main"+(m?" columns-lr-main-shareBar":"")+(n?"":" columns-lr-main-hasDrag"),"t-b":"columns-tb-main"+(n?"":" columns-tb-main-hasDrag")},p={"l-r":"columns-lr-view"+(m?" columns-lr-view-shareBar":""),"t-b":"columns-tb-view"};d.parent&&"string"==typeof d.parent&&(d.parent=a.JS.find(d.parent));var q=a.fly("#dvSplitter"),r=d.hideSplit||c&&c._hideSplit;d.hideSplit&&d.parent&&(d.parent._hideSplit=!0),n||r?q.hide():q.show(),b=b||d.viewType||"normal",d.parent&&c&&(c._parent=d.parent||c._parent,d.parent._child=c,d.parent._viewType=b);var t=!1;if("normal"==b&&(t=!0),!t&&(d.parent||!f.removeChildMod&&d.hasChildMod)){b=b||c._viewType||"l-r",$S("viewType",b);var u=o[b],v=p[b];e(f.container,u,!0),g&&e(g.container,v,!1),"l-r"===b?(a.fly("#dvSplitter").removeClass("frame-main-sptln-tb"),a.fly("#dvSplitter").addClass("frame-main-sptln-lr")):(a.fly("#dvSplitter").removeClass("frame-main-sptln-lr"),a.fly("#dvSplitter").addClass("frame-main-sptln-tb")),$S("firstSetViewType",!0),s._ieVersion<9||s.setColumns("l-r"==b?"h":"v",null,f),d.hasChildMod&&(c._alreadySetViewType=!0,c._viewType=b),a.fly("#"+h).show()}else $S("viewType",null),e(f.container,"",!0),g&&e(g.container,"",!1),d.hasChildMod&&(c._alreadySetViewType=!0),f._viewType="normal",a.fly("#"+h).hide(),a.fly("#dvSplitter").hide()}catch(w){}}function n(){function c(){b.setTimeout(function(){var b=a("#dvCssLoadedAlert");g=d.currentStyle||document.defaultView.getComputedStyle(d),!g||"absolute"==g.position&&"none"==g.display?(b.hide(),g=null,d=null,b=null,c=null):c()},1e3)}var d=a.fly("#spnCheckCssLoaded").dom,e=a("#spnCheckFont");e.addClass("nui-txt-s12");var f=parseInt(e.dom.offsetWidth,10),g=d.currentStyle||document.defaultView.getComputedStyle(d);if(!g||"absolute"==g.position&&"none"==g.display)e.addClass("nui-txt-fNui"),b.setTimeout(function(){(parseInt(e.dom.offsetWidth,10)==f||parseInt(e.dom.offsetWidth,10)<24)&&(s.fontFix(),b.setTimeout(function(){(parseInt(e.dom.offsetWidth,10)==f||parseInt(e.dom.offsetWidth,10)<24)&&(a.fly(document.body).addClass("ua-noWebFont"),s.fontFix(),b.setTimeout(function(){s.fontFix(),b.setTimeout(function(){parseInt(e.dom.offsetWidth,10)!=f&&parseInt(e.dom.offsetWidth,10)>24&&a.fly(document.body).removeClass("ua-noWebFont")},2e3)},2e3))},2e3))},1e3);else{var h='<div id="dvCssLoadedAlert" style="position:absolute;left:0;top:0;z-index:999;width:355px;font-size:12px;line-height:1.666;background:#fff;border:4px solid #7594CD;padding:10px 20px">   <h3 style="margin:10px 0;font-size:14px">'+q.t("CSS加载失败")+"</h3>"+'   <p style="margin:10px 0">'+q.t("由于网络延迟，邮箱加载CSS样式失败，请点击重新加载或刷新浏览器重新加载页面。")+"</p>"+'   <p style="margin:20px 0 0;text-align:right"><button onclick="top.location.href=\'https://'+top.location.host+"/js6/main.jsp?sid="+$S("sid")+"'\">"+q.t("重新加载")+"</button></p>"+"</div>";a(document.body).append(h),c()}}function o(){var b="https://mimg.127.net/",c='@font-face{font-family: "nui";src: url("'+b+'p/font/js6/v1/neteasefont-regular.eot");src: url("'+b+'p/font/js6/v1/neteasefont-regular.eot#iefix") format("embedded-opentype"),url("'+b+'p/font/js6/v1/neteasefont-regular.woff") format("woff"),url("'+b+'p/font/js6/v1/neteasefont-regular.ttf")  format("truetype"),url("'+b+'p/font/js6/v1/neteasefont-regular.svg#neteasefontRegular") format("svg")}';a.Support.insertStyle(c,"fontStyleFix")}function p(){if(a.Browser.isIE("<9")){var b=!1,c=document.documentElement.clientWidth;if(c!=$S("clientWidth"))b=!0;else{var d=a.Context.module;d&&d.container&&d.container.offsetWidth<c-201-50&&(b=!0)}b&&a.Frame.initLayOut()}}var q=new $I18N("init.Frame"),r={auto:"auto",calc:"calc","float":"float"},s=a.createClass($N("init.Frame"));a.Object.extend(s,{topHeight:86,leftWidth:201,topToolbarHeight:46,bottomToolbarHeight:46,navTopHeight:38,dragHandler:5,clientWidth:null,clientHeight:null,moduleDft:{dft:{height:0,width:0},"compose.ComposeModule":{width:200,topToolbarHeight:53},"mbox.ListModule":{minHeight:200,height:250,width:400,minWidth:300,reverse:!0,fixModules:{brand:"mbox.BrandModule"}},"mbox.BrandModule":{minHeight:200,height:250,width:400,minWidth:300,reverse:!0},"mbox.SearchModule":{minHeight:200,height:250,width:400,minWidth:300,reverse:!0}},_ieVersion:a.Browser.ie()-0,_isIE6:!1,_isIE7:!1,_isIE8:!1,_isIe:a.Browser.isIE(),_layoutType:r,_curLayout:"",init:c,fullScreen:d,setColumns:e,setIEViewType:l,setViewType:m,_initialize:f,initSplit:k,initLayOut:g,resetLayout:p,checkCssLoaded:n,fontFix:o,setBodyCss:h,setSkinClass:i,setHeight:j})}($,window),function(a,b){function c(){this.conf=$G.get("extConf");for(var b in this.conf){var c=e.conf[b];try{c.autoLoad&&(c.timeout?setTimeout(a.Function.bind(this.load,this,b),c.timeout||0):this.load(b))}catch(d){}}}function d(c){var d=e.conf[c],f=d.domain,g=!1,h=$S("labConf"),i=$S("domain"),j=a.Ud;if(d.labid&&(!h||!h[d.labid]))return this[c]=!1,void 0;if(f&&a.Array.has(f,i)||!f||$S("isFree")&&a.Array.has(f,"free")||$S("isCorp")&&a.Array.has(f,"corp")||$S("isVip")&&a.Array.has(f,"vip")){g=!0;var k=d.udconfig;if(k){var l=k.split("|");g=1==j.get({field:l[0],flag:l[1]})?!0:!1}if(d.condition&&(g=d.condition()),g){g=d.autoLoad;var m=d.resource;if(m)for(var n=0;n<m.length;n++){var o=m[n],p=o.substr(o.lastIndexOf(".")+1);p="js"==p?"script":p,a.Ajax.request({requestType:a.Ajax[p.toUpperCase()],url:o}),"css"==p&&b.setTimeout(a.Function.bind(function(b,c){a.Ajax.request({requestType:a.Ajax[c.toUpperCase()],url:b,window:top})},this,o,p),500)}}}g&&a.Object.isFunction(d.autoLoad)&&d.autoLoad();var q=a("#"+c+"_entry");q&&(g?q.show():q.hide()),this[c]=g}var e=a.createClass($N("init.Ext"));a.Object.extend(e,{init:c,load:d,conf:$G.get("extConf")})}($,window),function(a){function b(b){var c="@"+b.product,d=b.fid,e=b.cancel,f=a.Uri.getUrl("setadvlock"),g=a.Context.getModule()||{},i="";d?(i="top.$.JS.go(top.$.JS.find('"+g.name+"'))",a.JS.cleanCache(g.name)):"@nf"==c&&(i='top.$E("support.FileCenter",function(FileCenter){FileCenter.entry("nf_center")}'),f+="&goback="+encodeURIComponent(i),f+="&to"+(e?"un":"")+"lock="+(d?d:c);try{var j=$L("interface.OutlinkInterface",this)}catch(k){return k}j.goOutlink({url:f,title:h.t("安全锁设置")})}function c(){var a=$S("attrs").user.def_sec_folder,b={};if(a){"true"==$G.user.authenticated2&&(b.authenticated2=!0),b.disabled=-1==a.indexOf("disabled=0");for(var c=a.split("&"),d=c[c.length-1].replace("target=","").split(","),e=0;e<d.length;e++)d[e].indexOf("@")>-1?b[d[e].substr(1)]=!0:(b[d[e]]=!0,b.folders=!0)}else b.disabled=!0;$S("advLock",b)}function d(b){function c(){var b=a.JS.displayModule;if(b){if(b._var.notFireClick=!0,b.container)a.MultiTab.add(b._var);else if("outlink.OutlinkModule"===b.mtype){try{var c=$L("interface.OutlinkInterface",this)}catch(d){return d}c.goOutlink(b._var.param)}b._viewType&&a.Frame.setViewType(b._viewType,b),a.Nav.getModule(b)}}if($S("advLock").authenticated2||$S("advLock").disabled)b&&b();else{var d,e=a.Msgbox.show({header:h.t("安全锁密码验证"),content:'<p class="nui-item-spc1x nui-txt-s14">'+h.t("该范围已经设置了加锁保护，解锁需密码验证。")+"</p>",type:"prompt",inputLabel:h.t("请输入加锁密码"),inputType:"password",inputWidth:$G.environment.isCh?"120px":"96px",ok:function(a,c){if($S("unlocking"))return h.t("正在验证密码，请稍后");if(""===a)return h.t("密码不能为空");var d=new f;return d.wmsvr({func:"user:authenticate2",body:{password:a},call:function(){if(e.destroy(),i.unlock(),b)try{b()}catch(a){}$S("unlocking",!1)},error:function(a){"FA_UNAUTHORIZED"==a.code&&c(h.t("密码错误，请再次输入密码")),$S("unlocking",!1)}}),$S("unlocking",!0),!0},cancel:function(){c()},close:function(){c()}}),g=e.find("input")[0];d=e.add({xtype:"link",text:h.t("忘记密码"),click:function(){e.close();try{var a=$L("interface.OutlinkInterface",this)}catch(b){return b}a.goOutlink({key:"resetadvlock",title:h.t("安全锁"),showDefTree:!0})}}),d.render(g,"after")}}function e(){$S("advLock").authenticated2=!0,a.Nav.show()}try{var f=$L("core.DataAction")}catch(g){return g}var h=new $I18N("init.AdvLock"),i=a.createClass($N("init.AdvLock"));a.Object.extend(i,{setProduct:b,init:c,show:d,unlock:e})}($,window),function(a,b){function c(c){var d=this,e=d.config;d.config=c||$G.get("navConf");var f=d.config;e!=f&&a.Listener.fire("global:navchange",f==$G.get("navConf")?"def":""),T.createNavTop(d.config.top),b.timer={},b.timer.t1=(new Date).valueOf(),T.tree&&T.tree.hide(),d.config&&d.config.treeItem?(T.tree=d.config.treeItem,T.cptItems=d.config.cptItems||{},T.tree.show(),T.show()):T.createNav(!0),setTimeout(function(){T.createExtraPromo()},200),b.timer.t1=(new Date).valueOf()-b.timer.t1}function d(){T.tree?T.update():T.createNav(),a.Support.displayTitle()}function e(b){var c=this;c.tree&&(b?T.tree.hide():T.tree.destroy());var d=c.getData();T.cptItems={},T.createTree(d),c.config.treeItem=c.tree,c.config.cptItems=c.cptItems,a.Context.navAdded&&delete a.Context.navAdded}function f(a){for(var b=T.getCustomObj(),c=T.initDataSource(a),d=0;d<c.length;d++)c[d]=T.initItemData(c[d],b);return T.config.tree=c,T.config}function g(b){var c;try{c=a.Ext.tag||$G.get("extConf").tag.autoLoad&&(!$G.get("extConf").tag.domain||a.Array.has($G.get("extConf").tag.domain,$G.environment.domain))}catch(d){c=!1}var e=b||T.config.tree;if(!c){var f=a.Array.indexOf(e,function(a){return"tag"===a.name});f>-1&&e.splice(f,1)}return e}function h(b,c){var d=b;c=c||T.getCustomObj(),d.getData&&(d.items=d.getData(),"class load failed"===d.items&&(d.items=[])),d.getCustom&&(d.custom=d.getCustom(c));var e=[],f=d.custom||[],g=d.items,h=d.defaultDisplay,i=d.getCount,j=d.name;if(f)for(var k=0;k<f.length;k++)f[k].index=k;for(var l=0,m=0;m<g.length;m++){var n=g[m];if(n){var o=n.id,p={};a.Object.extend(p,n),p.index=100;var q=T.findCustomObj(f,o);if(q)p.index=q.index,p.display=q[1];else if(n.ud)try{p.display=a.Array.has("defaultEnable"in n.ud?n.ud.defaultEnable:[1],U.get(n.ud)-0)?1:0}catch(r){p.display=1}else h&&(p.display=h(o,d.customed));p.text=p.text||p.name,p.title=d.displayTitle&&d.displayTitle(o,p)||p.text,p.group=j,i&&(p.count=i(o,function(a,b){return function(c){var d=T.getTreeItem(a,b);d.updateCount(c||0)}}(j,o))),e.push(p);var s=T.getShowStatus(p);d.fixDisplay&&(s=d.fixDisplay(o,s)),s&&l++}}return d.displayCount=l,d.sort&&f.length>0&&d.sort(e),d.data=e,0===e.length&&d.getEmptyContent&&(e.push(d.getEmptyContent()),d.emptyData=e,d.data=[]),d}function i(c){for(var d={isRoot:!0,renderTo:"dvNavTree",items:[],boldCount:c.boldCount,batchDom:!0,onDestroy:function(){delete T.tree},isNav:!0},e=c.tree,f=0,g=e.length;g>f;f++){var h=T.getNavItemConfig(e[f]);if(h){var i,j=[];if(h[0]&&h[0].insertAfter&&(j=h.splice(0,1),i=j[0].insertAfter()),j&&j.length>0){var k=a.Array.indexOf(d.items,function(a){return a.group===i||a.data&&a.data.id===i?!0:void 0});k>-1&&d.items.splice(k+1,0,j[0])}h&&h.length>0&&(d.items=d.items.concat(h))}}b.timer.t2=(new Date).valueOf(),b.oTreeRootConf=d,T.tree=new P(d),b.timer.t2=(new Date).valueOf()-b.timer.t2}function j(b){var c=b;if(!c.disabled){var d=[],e=c.name,f=c.titleUd,g=c.onclick,h=c.showInRoot,i=c.data,j=null;if(!h){var l=f?"1"==U.get(f):!0;c.revTitleFold&&(l=f?"0"==U.get(f):!0),"isFold"in c&&(l=c.isFold),j={xtype:"tree",extcls:c.extcls||"",text:c.text,noEncode:!0,isFold:l,items:[],group:e,insertAfter:c.insertAfter,listeners:{fold:a.Function.bind(function(b){k(b.titleUd,b.revTitleFold?"0":"1"),b.isFold=!0,T.chageGroupIcon(b,b.isFold);var c={};c["LeftNavFoldFolder"+b.name+"Click"]=1,a.Log.cache(c)},this,c),unfold:a.Function.bind(function(b){k(b.titleUd,b.revTitleFold?"1":"0"),b.isFold=!1,T.chageGroupIcon(b,b.isFold);var c=T.delayTruncItems[b.name];c&&(a.Object.each(c,function(a,b){b.ownerCt&&b.ownerCt.rawConfig.limitWidth,T.truncateTitle(b.getEl())}),delete T.delayTruncItems[b.name]);var d={};d["LeftNavFoldFolder"+b.name+"Click"]=1,a.Log.cache(d)},this,c)},onRender:function(a){return function(){a.cpt=this}}(c),onDestroy:a.Function.bind(function(){delete c.cpt},this,c)},i&&0===i.length&&c.clickTitleCaseEmpty&&!c.getEmptyContent&&(delete j.items,delete j.listeners,j.click=a.Function.bind(function(a){a.clickTitleCaseEmpty.call(a)},this,c)),c.groupExtIcon&&(j.extIcon=c.groupExtIcon()),c.limitWidth&&(j.limitWidth=c.limitWidth),c.useGroupIcon&&(j.hideArr=!0),T.getTreeExtLnk(j),j.handleContextMenu=T.setContextMenu,d.push(j)}for(var m=0;m<i.length;m++){var n=i[m],o=n.id,p=T.createTreeItemConf(e,n,o,g);"folder"!=n.group&&"cusfolder"!=n.group||2!=o||(p.boldCount=!1),j?j.items.push(p):d.push(p),j&&n.count&&!p.hidden&&(!n.group||"folder"!=n.group&&"cusfolder"!=n.group||!$G.common.nolistids||!a.Array.has($G.common.nolistids,n.id)&&2!=n.id)&&(j.count=(j.count||0)+(n.count-0))}if(0===i.length&&b.emptyData)for(var m=0;m<b.emptyData.length;m++){var q=b.emptyData[m];q.display=1;var r=T.createTreeItemConf(e,q,q.id,g);j&&j.items&&j.items.push(r)}return j&&(c.updateData=a.Function.bind(function(b,c,d,e){for(var f=this.items,g=0;g<f.length;g++)if(f[g].data&&f[g].data.id==d){f[g]=T.createTreeItemConf(b,e.data||f[g].data,d,c.onclick),"folder"!=b&&"cusfolder"!=b||2!=d||(f[g].boldCount=!1),a.Object.extend(f[g],e);break}},j,e,c)),c.overSplit&&d.push({xtype:"tree",split:!0}),d}}function k(b,c){if(a.Event.getEvent()&&b){var d={};a.Object.extend(d,b),d.value=c,U.set(d)}}function l(){var b=T.getData().tree,c=(new Date).valueOf();if(T.tree){for(var d=0;d<b.length;d++){for(var e=b[d],f=e.name,g=e.data,h=[],i=0,j=0;j<g.length;j++)try{var k=g[j],l=k.id;k.display;var m=k.count,n=T.getTreeItem(f,l),o=T.getShowStatus(k);if(e.fixDisplay&&(o=e.fixDisplay(l,o)),o&&(!k.group||"folder"!=f&&"cusfolder"!=f||!$G.common.nolistids||!a.Array.has($G.common.nolistids,k.id)&&2!=k.id&&"defer"!==k.id)&&(i+=(m||0)-0),n){var p={};n._version=c;var q=n.rawConfig.data;if(n.rawConfig.data=k,"service"==f&&q.index!=k.index&&h.push(q.index),q.text!=k.text&&(n.rawConfig.text=n.rawConfig.title=k.text,n.update({text:k.text})),q.extcls!=k.extcls&&(n.rawConfig.extcls=k.extcls,n.update({extcls:k.extcls})),q.count!=k.count&&(n.updateCount(k.count||0),"defer"===l)){var r={text:k.text},s=T.getItem("name","folder");s.getExtIcon&&(r.extIcon=s.getExtIcon(l)),n.update(r)}var t=T.getShowStatus(q);if(e.fixDisplay&&(t=e.fixDisplay(l,t)),!o&&t&&n.hide(),o&&!t&&(T.setContextMenu(n.rawConfig),p=p||{},a.Object.extend(p,{context:n.rawConfig.context}),n.update(p),n.rawConfig.hidden=!1,n.show()),"color"in k&&k.color!=q.color){var u=e.getIcon;if(u){var v=u(k);p=p||{},a.Object.extend(p,{icons:v}),n.update(p)}}var w=n.rawConfig.lockIcon,x=T.checkLock(k);!!w!=!!x&&(p=p||{},a.Object.extend(p,{lockIcon:x}),n.update(p));var y=e.getItemExtLnk;if(y){var z=y(k),A=n.rawConfig.extItems;(z&&!A||!z&&A||z.length!==A.length||z[0].subtype!==A[0].subtype||z[0].title!==A[0].title)&&(p=p||{},a.Object.extend(p,{extItems:z}),n.update(p))}if(n.rawConfig.items){var B=n.find("tree");if(B)for(var C=0;C<B.length;C++)B[C]._version=c}}else{if(a.Context.navAdded)return T.createNav(),void 0;if("cusfolder"==f||"tag"==f||"pop"==f||"contactMail"===f){var o=T.getShowStatus(k);e.fixDisplay&&(o=e.fixDisplay(l,o)),e.updateData(l,{hidden:!o,data:k,count:k.count})}}}catch(D){}if(h.length>0){for(var E=T.tree.find("$group$"+f)[0],F=[],G=e.onclick,d=0;d<g.length;d++){var k=g[d],l=k.id,H=T.createTreeItemConf(f,k,l,G);F.push(H)}E.update({items:F})}e.cpt&&e.cpt.updateCount(i)}for(var I=T.tree.find("tree"),J=!1,d=I.length-1;d>-1;d--){var K=I[d];if(K._version!=c&&!K.rawConfig.items&&K.rawConfig.data){if("tag"==K.rawConfig.data.group)return T.createNav(),void 0;K.destroy(),J=!0}}}}function m(c){function d(c){var d=T.config.tree,e=a.Array.indexOf(d,function(a){return a.name===c}),f=d[e];if(f){f=T.initItemData(f),f.disabled=!1;var g=T.getNavItemConfig(f);if(g){var h=g[0];if(f.cpt){var i=f.cpt;if(!i._itemContainer)return b.setTimeout(function(){T.addItem(c)},50),void 0;if(h.items){if(i.rawConfig.listeners&&(i.rawConfig.listeners.mouseover&&(h.listeners.mouseover=i.rawConfig.listeners.mouseover),i.rawConfig.listeners.mouseout&&(h.listeners.mouseout=i.rawConfig.listeners.mouseout)),!i.itemsIsCreated&&i.rawConfig.isFold){var j=h.listeners.unfold;h.listeners.unfold=function(){var b=this;if(!b.itemsIsCreated){var c=this.rawConfig.items;a.Array.each(c,function(a,c){b.add(c)}),b.itemsIsCreated=!0,b.updateAllCount()}j&&j.call(this)}}i.itemsIsCreated?(i.rawConfig.items&&a(i._itemContainer).empty(),a.Array.each(h.items,function(a,b){i.add(b)})):i.update(h)}else delete i.rawConfig.items,i.update(h),i.updateCount()}}}}var e=this;e._addItemLocked||(e._addItemLocked=!0,a.Thread.run(function(){d(c),e._addItemLocked=!1}))}function n(b){b&&!a.Object.isEmpty(b)?(T.navTop=new a.Component(b),a.fly("#dvNavTop").empty(),a.fly("#dvNavTop").html('<div class="qd0"><div class="jz0"></div></div>'),T.navTop.render("dvNavTop"),a.fly("#dvNavTop").show(),a.fly("#dvNavTree").dom.style.top=T.config==$G.get("navConf")?"":a.fly("#dvNavTop").dom.offsetHeight+"px"):(a.fly("#dvNavTop").hide(),a.fly("#dvNavTree").dom.style.top="12px")}function o(b,c,d,e){var f=!T.getShowStatus(c),g=T.getItem("name",b||c.group);g.fixDisplay&&(f=g.fixDisplay(d,f));var h={xtype:c.xtype||"tree",text:c.text,title:c.title||c.text,extcls:c.extcls,titleStyle:c.titleStyle,count:c.count,hidden:f,noEncode:c.noEncode,html:c.html,data:c,boldCount:this.config.boldCount,click:function(){this.rawConfig.text==S.t("网易微博")&&this.updateCount(0);try{var f="cusfolder"==b?"folder":b,g=d-0;g="folder"==f&&g>19?20:g,("tag"==b||"mailcenter"==b||"pop"==b)&&(g=20),"defer"===d&&(g=d),"contactMail"===b&&(g="");var h={};h["LeftNav"+f+g+"Click"]=1,a.Log.cache(h)}catch(i){}return c.click&&c.click(),e.call(c,d)}};if(T.getTreeExtLnk(h),T.getAdvLock(h),T.getIcon(h),T.getExtIcon(h),T.getExtContent(h),h.handleContextMenu=T.setContextMenu,h.onRender=h.onUpdate=function(){if(T.cptItems[b+":"+d]=this.id,this.rawConfig.text==S.t("网易微博")&&this.updateCount($S("buzzCount")),g.onRender&&g.onRender.apply(this,[this,d]),d-0>19||"tag"===b)if(this.ownerCt.rawConfig.isFold){var a=T.delayTruncItems[b]||{};a[this.id]=this,T.delayTruncItems[b]=a}else{var c=this.ownerCt&&this.ownerCt.rawConfig.limitWidth;T.truncateTitle(this.getEl(),c)}},c.items){h.items=[];for(var i=0;i<c.items.length;i++){var j=c.items[i];h.items.push({xtype:"tree",text:j.text,data:j,click:a.Function.bind(function(b){return a.Event.cancelBubble(),e.call(b)},this,j)})}h.onRender=function(){this.onClick(),this.getEl().listen("click",function(){return e.call(c,d)})}}return h}function p(b){var c,d=b.group,e=b.data,f=this.getItem("name",d||e.group);if(d){var g=f.getTitleExtLnk;g&&(c=g(e))}else if(e&&f){var h=f.getItemExtLnk;h&&(c=h(e))}c&&(b.extItems=a.Object.clone(c))}function q(a){var b=a.data,c=T.checkLock(b);a.lockIcon=c}function r(b){var c,d,e=b.id,f=b.lockid||e,g=$S("advLock");return a.Loader&&g?(c=g.authenticated2,d=g[f]):(c="true"==$G.user.authenticated2,d=new RegExp("[,=@]"+f+"(,|$)").test($G.attrs.user.def_sec_folder)),!c&&d}function s(a){var b=a.data,c=b.group,d=b.id,e=this.getItem("name",c),f=e&&e.getExtIcon;f&&(a.extIcon=f(d));var g=e&&e.getExtIcon2;g&&(a.extIcon2=g(d))}function t(a){var b=a.data,c=b.group,d=this.getItem("name",c),e=d&&d.getIcon;e&&(a.icons=e(b))}function u(a){var b=a.data,c=b.group,d=this.getItem("name",c),e=d&&d.getExtContent;if(e){var f=e(b.id);f&&(a.listeners={render:function(){for(var a=0;a<f.length;a++)this.add(f[a]).render(this)}})}}function v(b){var c,d=b.group,e=b.data,f=T.getItem("name",d||e.group);if(d){var g=f.getTitleContextMenu;g&&(c=g())}else{var h=f.getContextMenu;h&&(c=h(e),c&&(c=c.slice(0),a.Array.has(["folder","cusfolder"],e.group)&&f.enableSetDisplay(e.id)&&(T.getShowStatus(e)?c.push("hide"):c.push("show"))))}if(c){for(var i=[],j=0;j<c.length;j++){var k=$G.get("contextMenu").operate[c[j]],l=k.text,m=k.click,n=k.getItems;"hide"==c[j]&&"folder"==d&&(l=S.t("折叠"));var o={text:l};m&&(o.click=a.Function.bind(m,this,(e||{}).id,d||e.group)),n&&(o.menu={groups:[{items:n(d||e.group)}],width:100}),i.push(o)}return b.context=i,i}}function w(a,b,c){$E("interface."+a,function(a){c=c||"entry",a&&a[c](b)})}function x(b){if(b=b||a.Context.getModule()){var c=b._var;c.module;for(var d,e=T.config.tree,f=0;f<e.length;f++){var g=e[f].focus;if(g){var h=g(b);if("undefined"!=typeof h){var i=a.Array.findObject(e[f].data,"id",h);if(!i||(e[f].fixDisplay?!e[f].fixDisplay(i.id,T.getShowStatus(i)):!T.getShowStatus(i)))continue;var j=e[f].name;d=T.getTreeItem(j,h);break}}}if(d)d.focus();else{var k=T.tree.focusItem;k&&k.blur()}}}function y(a,b){var c;return c=2==arguments.length?a+":"+b:a,T.cptItems[c]}function z(a,b){return $C(T.getTreeId(a,b)||"none")}function A(){}function B(a){return 1==a.display||2==a.display&&a.count}function C(b){function c(b){try{var c=$L("support.Tag",this)}catch(d){return d}b.key;var e="tag";b.call||arguments[1];var f=b.disabled||b.del||arguments[2],g=b.setDefault,h=f?0:1;if(g){var i=a.Array.findObject($G.get("navConf").tree,"name",e),j=i.data||[];return j=a.Array.map(j,function(a,b){return b.id}),c.setShow(j,1),void 0}"tag"===e&&("display"in b&&(h=b.display),c.setShow([b.id],h),b.del&&T.show())}var d=b.key,e=b.group||"folder";if("tag"===e)return c(b),void 0;var f=b.call||arguments[1],g=b.disabled||b.del||arguments[2],h=b.setDefault,i=g?0:1;if(h)return U.set({field:"ntes_defined",value:"",call:function(){T.show(),f&&f()}}),c(b),void 0;"display"in b&&(i=b.display),g=1!=i;var j,k=a.Array.findObject($G.get("navConf").tree,"name",e);"id"in b?j=b.id:"undefined"!=typeof d&&(j=(a.Array.findObject(k.data,"id",d)||a.Array.findObject(k.data,"name",d)).id);var l=T.getCustomObj();if(delete l.dock,delete l.tab,delete l.app,a.Object.isEmpty(l["pop"==e?"folder":e])){if(l.folder||(l.folder=[]),l.tag||(l.tag=[]),l.filecenter||(l.filecenter=[]),"folder"==e||"cusfolder"==e||"pop"==e)for(var m=a.Array.findObject($G.get("navConf").tree,"name","folder").data.concat(a.Array.findObject($G.get("navConf").tree,"name","pop").data),n=0;n<m.length;n++){var o=m[n],p=o.id-0;j==p?l.folder.push([p,i]):l.folder.push([p,o.display])}else l[e].push([j-0,i]);var q=JSON.stringify(l);U.set({field:"ntes_defined",value:q,call:function(){T.show(),f&&f()}})}else{var r=l[e];"pop"==e&&(r=l.folder);var s=T.findCustomObj(r,j);s?s[1]=i:r.push([j-0,i]);var q=JSON.stringify(l);U.set({field:"ntes_defined",value:q,call:function(){T.show(),f&&f()}})}}function D(b){var c=a.Component.find("#"+b);if(c&&"cusfolder"==c.rawConfig.group&&(c.fire("unfold"),c.unfold(),c.rawConfig.isFold=!1),c){var d=c.rawConfig.data,e=d&&d.group;if("folder"==e||"cusfolder"==e)return c.rawConfig.data.id}}function E(b,c){var d=b+":"+c,e=T.treeItemsDataCache[d];return e||(T.treeItemsDataCache[d]=e=a.Array.findObject(T.config.tree,b,c)),e}function F(){for(var b={},c=["ntes_defined"],d=0;d<c.length;d++){var e=c[d],f=$G.attrs.user[e]||"";-1===f.indexOf("{")&&(f="");var g;try{g=a.Eval.get(f||"{}")}catch(h){g={}}a.Object.extend(b,g)}return b}function G(a,b){for(var c=0;c<a.length;c++)if(b==a[c][0])return a[c]}function H(b,c){try{var d=a.Array.findObject($G.get("navConf").tree,"name",b),e=a.Array.findObject(d.data,"id",c).display;return("folder"==b||"cusfolder"==b)&&2==c&&2==e&&(e=0),e}catch(f){}}function I(b,c,d,e){function f(a,b,c,d){T.setServiceEnable({id:c.id,call:d,group:b,display:a})}try{var g=a.Array.findObject($G.get("navConf").tree,"name",b),h=a.Array.findObject(g.data,"id",c);f(d,b,h,e)}catch(i){}}function J(b){try{var c=a.Array.findObject($G.get("navConf").tree,"name",b);return c.data}catch(d){}}function K(b,c){function d(){for(var a=b.dom.firstChild.childNodes,c=0,d=0;d<a.length;d++)c+=a[d].offsetWidth||0;return c}c=c||125,setTimeout(function(){try{var e=!1,f=b.find(".nui-tree-item-text");if(!f)return;for(var g=50,h=2,i=f.html();d()>c&&g>0&&i.length>5;)i=f.html(),i=a.String.decodeHTML(i),i=i.substring(0,i.length-h),i=a.String.encodeHTML(i),f.html(i),g--,e=!0;e&&f.html(f.dom.innerHTML+"..")}catch(j){}},0)}function L(a,b){if(a.groupFoldCls&&a.cpt){var c,d=a.groupFoldCls,e=b?"fold":"unfold",f=b?"unfold":"fold";c=a.cpt.el.find("."+d[f]),c&&(c.removeClass(d[f]),c.addClass(d[e]))}}function M(){function c(){try{if("ud"===$S("ad").userType)return;if($S("leftNavBottomAdClosed"))return;b.gAd.getByCallback("leftNavBottom",{},function(b){if(!d.tree.__extraPromoAdded__){d.tree.__extraPromoAdded__=!0;var c=b.leftNavBottom,f=a.Link.html({title:S.t("去广告"),extcls:"nui-closeable-x",attrs:'style="top:20px;right:auto;left:155px;"',click:function(){d.tree.el.find('[role="complementary"]').remove(),$S("leftNavBottomAdClosed",!0),e.showProduct("noAd","noAd_zddh");var b=a.Misc.getTime(),c=a.Misc.getTime();c.setTime(c.getTime()+864e5),a.LocalStorage.set("MailNavBottomAd1t",b.valueOf(),{path:"/",domain:$S("fullDomain"),expires:c},!0)}}),g=R.getTime();g>new Date(2016,6,20).valueOf()&&g<new Date(2016,7,4).valueOf()&&(f="");var h=a.Component.html({html:'<li class="nui-tree-item nui-closeable" role="complementary" id="leftNavBottomAd">'+c+f+"</li>",listeners:{mouseover:{handler:function(){var b=a(this);
b&&a.Event.isMouseover(b.dom)&&b.addClass("AM1")}},mouseout:{handler:function(){var b=a(this);b&&a.Event.isMouseout(b.dom)&&b.removeClass("AM1")}}}});d.tree.el.append(h)}})}catch(c){}}var d=this;try{var e=$L("product.Privileges",this)}catch(f){return f}a.LocalStorage.get("MailNavBottomAd1t",!0)||(b.gAd.ready.leftNavBottom?c():a.Listener.listen("ad:dataChange",function(a){"leftNavBottom"===a&&c()}))}function N(a,b,c,d){var e=this,f=e.getTreeItem(a,b);if(f){var g=(f.find("$type$"+c)||[])[0];g&&(d?g.show():g.hide())}}function O(a){var b=this;try{a&&(b.tree.curFocusItem=b.tree.children()[0]);var c=b.tree.curFocusItem;c?c.find("$treeType$treeitem")[0].getDom().focus():b.tree.children()[0].find("$treeType$treeitem")[0].getDom().focus()}catch(d){}}try{var P=$L("component.Tree")}catch(Q){return Q}try{var R=$L("util.Misc")}catch(Q){return Q}var S=new $I18N("init.Nav"),T=a.createClass($N("init.Nav")),U=a.Ud;a.Object.extend(T,{init:c,createNav:e,show:d,initDataSource:g,initItemData:h,getData:f,createTree:i,createTreeItemConf:o,getNavItemConfig:j,setTitleUd:k,addItem:m,getTreeExtLnk:p,getAdvLock:q,getExtIcon:s,getIcon:t,getExtContent:u,setContextMenu:v,getTreeId:y,getTreeItem:z,checkLock:r,update:l,entry:w,getModule:x,setReceiveIcon:A,setServiceEnable:C,getShowStatus:B,createNavTop:n,createExtraPromo:M,getFid:D,getItem:E,getCustomObj:F,findCustomObj:G,tree:null,receiveClass:"ico ico-btn ico-btn-receive",receivingClass:"ico ico-btn ico-btn-receiving",redFolderText:a.LETTERFLAG[1]+S.t("邮件"),redFolderId:"-2",truncateTitle:K,chageGroupIcon:L,changeExtraIcon:N,custom:{getStatus:H,setStatus:I,getData:J},focus:O,delayTruncItems:{},treeItemsDataCache:{},cptItems:{}})}($,window),function(a,b){function c(c){function d(){var b={width:200,extcls:"nH0",groups:[{items:[{xtype:"menuitem",text:w.t("关闭全部"),icon:"closeAll",click:function(){e.closeAll(),a.Log.cache({MultiTabMenuCloseAll:1})}},{xtype:"menuitem",text:'<b class="nui-txt-impt">'+w.t("管理默认标签")+"</b>",click:function(){try{var b=$L("interface.OptionInterface",this)}catch(c){return c}b.entry({module:"custom.AppManagerModule"}),a.Log.cache({MultiTabMenuManager:1})}}]}],listeners:{show:function(){a.Log.cache({MultiTabMenuShow:1})}}},c=[];b.groups.push({items:c,type:"scroll",checkType:"radio"});for(var d=e._tab.getEl().find("LI").doms,f=[],g=0;g<d.length;g++)f.push(a.Component.find("#"+d[g].id));for(var h,i=!1,j=3==a.Ud.get({field:"ntes_option",flag:"useTab"}),g=0,k=f.length;k>g;g++)if(h=f[g],h!=e.moreItem&&!h.isHidden){var l=h.rawConfig.nonClose,m={xtype:"menuitem",text:a.String.left(h.rawConfig.text.replace(/<b.+?\/b>/,""),20,!0),title:h.rawConfig.text,click:a.Function.bind(function(){this.active(),a.Log.cache({MultiTabMenuActive:this.rawConfig.tabid})},h),close:l?"":a.Function.bind(function(){e._tab.remove(this.id),$S("moreTabMenu")&&$S("moreTabMenu").hide(),a.Log.cache({MultiTabMenuClose:this.rawConfig.tabid})},h),closeTitle:w.t("点击关闭标签")};if(l||i||j||(m.split="before",i=!0),h.isActive()&&(m.checked=!0),j&&!l)continue;c.push(m)}return b}var e=this;e.defaultTabQuantity=a.Browser.isIE("7")?3:8,this.groups={};var f={extcls:"tz0",renderTo:"dvMultiTab",items:[],listeners:{close:function(b,c){function d(){try{var b=$L("interface.OptionInterface",this)}catch(c){return c}b.entry({module:"custom.AppManagerModule"}),a.Log.cache({MultiTabClosePromoteTabClick:1})}function f(){}var g=e.items[b],h=g.isPromoteTab&&(!g.promoteConfig||!g.promoteConfig.hiddenCloseMsg);return e._isShowPromoteTabTips()&&h&&!g.aSyncDelete&&(a.Msgbox.show({title:w.t("是否永久关闭“")+g.text+w.t("”默认标签"),type:"confirm",okText:w.t("立即设置"),cancelText:w.t("取消"),ok:d,cancel:f,close:f}),e._hidePromoteTabTips()),y.onRemove(b,c)},afterclose:function(){e.getCloseAll(),e.setUglyStyle()}},hasClose:!0};this._tab=new u(f),a("#dvMultiTabWrapper").after('<div class="sJ0"></div>'),e._tabAppsList=c?a.AppManager.getTabAppsList({firstInit:!0}):a.AppManager.getTabAppsList();for(var g=0;g<e._tabAppsList.length;g++){var h=e._tabAppsList[g];h.display-0,a.AppManager.shouldTabAppShow(h)&&(h.fromInit=!0,h.nonClose=!0,h.isPromoteTab&&(h.nonClose=!1),h.log={deftabclick:h.tabid},h.tabid&&(e.tabs[h.tabid]=e.add(h,!h.def||$S("showHashPage"))))}e.constructor.appcenterInitListened||(x.listen("appcenter:init",function(){for(var b,c=a.AppManager.getTabAppsList(),d=0;d<c.length;d++){var f=e.tabs[c[d].id];c[d].display-0;var g=c[d];if(f&&a.AppManager.shouldTabAppShow(g)&&(b=f),!f&&a.AppManager.shouldTabAppShow(g)){e._tabAppsList.push(c[d]),c[d].nonClose=!0;var h=e.tabs[c[d].id]=e.add(c[d],!0);b&&b.getEl().after(h.getDom()),b=f}}}),e.constructor.appcenterInitListened=!0),e.moreItem=this._tab.add({xtype:"tabitem",title:w.t("点击查看更多"),extcls:"tA0 rC0",nonClose:!0,special:!0,border:!0,text:"",items:[{xtype:"icon",type:"dArr",extcls:"fn-bg"}]}),a.Event.unlistenAll(e.moreItem.getDom(),"mousedown"),a.Event.unlistenAll(e.moreItem.getDom(),"mouseup"),e.moreMenu=j,e.moreMenu&&e.moreMenu.destroy();var i=d(),j=new a.Menu(i);$S("moreTabMenu",j),j.updateMenu=function(){var a=d();j.getDom()&&(a.hidden=!0),j.update(a),j.hide()},j.attachTo({clickFrom:e.moreItem.getEl(),reverse:!0}),e.moreItem.getEl().listen("click",function(){$S("moreTabMenu")&&$S("moreTabMenu").updateMenu()}),a.Event.listen(b,"resize",function(){e._tab.resize()}),e._tab.resize(),x.listen("tab:modify",function(b){if(b){var c=e.tabs[b];if(c){try{c.rawConfig["var"].aSyncDelete=!0}catch(d){}e._tab.remove(c.id),delete e.tabs[b]}}else for(var f,g=a.AppManager.getTabAppsList(),h=0;h<g.length;h++){var i=g[h],c=e.tabs[i.tabid];if(i.display-0,a.AppManager.shouldTabAppShow(i)){var j;c?j=c:(i.nonClose=!0,i.isPromoteTab&&(i.nonClose=!1),a.Array.each(e._tabAppsList,function(b,c){if(c.module==i.module&&a.Object.isEqual(c.param||{},i.param||{})){var d=c.id;return e._tab.exist(d)&&e._tab.remove(d),a.BREAK}}),j=e.add(i,!0),e.tabs[i.tabid]=j),f&&f.getEl().after(j.getDom()),f=j}else c&&(e._tab.remove(c.id),delete e.tabs[i.tabid])}}),x.listen("tab:reset",function(){var b=a.AppManager.getTabAppsList();for(var c in e.tabs){var d=a.Array.findObject(b,"tabid",c);d.display-0,d&&a.AppManager.shouldTabAppShow(d)||(e._tab.remove(e.tabs[c].id),delete e.tabs[c])}x.fire("tab:modify")})}function d(a){for(var b=this._tab.find("tabitem"),c=b.length-1;c>-1;c--)b[c]==this.moreItem||0===c||b[c].rawConfig.nonClose||(a?($S("ad").show===!1&&"ud"==$S("ad").userType?b[c].rawConfig["var"]&&b[c].rawConfig["var"].isPromoteTab?b[c].hide():b[c].show():b[c].show(),b[c].rawConfig.orgGroup&&(y.groups[b[c].rawConfig.orgGroup]=b[c])):b[c].hide())}function e(b,c){var d,e,f,g,h=this,i=b.module,j=b.param,k=b.mod||a.JS.get(i,j,b.useParam),l="",m="";if(k?(d=k.name,f=(k._tab||{}).id,l=k.getText?k.getText(function(b){e&&(k&&"compose.ComposeModule"==k.mtype?(b=a.Icon.html({type:"compose"})+a.String.encodeHTML(b),e.title(b,!0)):e.title(b))}):k.text||""):l=b.text||"",k&&"compose.ComposeModule"==k.mtype?(m=l,l=a.Icon.html({type:"compose"})+a.String.encodeHTML(l)):k&&l&&(l=a.String.encodeHTML(l)),!f)for(var n=0,o=h._tabAppsList.length;o>n;n++)if(h._tabAppsList[n].module==i&&a.Object.isEqual(h._tabAppsList[n].param||{},j||{})){g=h._tabAppsList[n];break}if(k)for(var n=0,o=h._tabAppsList.length;o>n;n++)if(h._tabAppsList[n].active&&h._tabAppsList[n].active(k)){g=h._tabAppsList[n];break}if(g&&(f=g.id,i=g.module,j=g.param),!f||!this._tab.exist(f)){var p=b.group||k&&(k.getGroup?k.getGroup():k.name),q=3==a.Ud.get({field:"ntes_option",flag:"useTab"}),r=y.groups[p],s={text:l,"var":b,xtype:"tabitem",extcls:b.nonClose?"tA0 oZ0":"tA0",active:!c,nonClose:b.nonClose,notFireClick:b.notFireClick,title:m||l,border:!0,tabid:b.tabid};r&&(s.extcls=r.rawConfig.extcls,s.nonClose=r.rawConfig.nonClose),c||!q||s.nonClose||(k&&"options"==p||(s.orgGroup=p,p="_noGroup"),s.hidden=!0),r||c||!q||(r=y.groups[p]),"outlink.OutlinkModule"==b.module&&(b.useParam={key:!0,url:!0,cross:!0}),s.click=function(){var c=this;b.entry&&"outlink.OutlinkModule"==b.module&&(b.useParam||(b.useParam={key:!0,url:!0,cross:!0}),b.param.url||a.JS.each(function(c,d){return d._var.param&&b.param&&d._var.param.key==b.param.key?(a.Object.extend(b.param,d._var.param),a.BREAK):void 0})),b.entry&&!a.JS.get(b.module,b.param,b.useParam)?b.entry():h.switchMultiTab(b,function(){}),a.Log.cache({deftabclick:b.tabid||c.rawConfig.tabid}),(b.tabid&&-1===(b.tabid+"").indexOf("t")||"t2"===b.tabid)&&a.Thread.delay(function(){a.Log.record("appCenter",{AppCenter_Entry_Mail_Tab:b.tabid})})},s.onRender=b.onRender,s.fromInit=!0,e=h._tab.add(s),h.moreItem&&e.render(h.moreItem,"before"),g&&(g.id=e.id),c||(b.fromInit?($S("showDefaultModule",!0),setTimeout(function(){e.active(b)},100)):e.active(b)),h.items[e.id]=b,h.moduleTabsMap[b.module]=h.moduleTabsMap[b.module]||[],h.moduleTabsMap[b.module].push(e.id),b.mod=k,k&&(k._tab=e),e.module=k;var t=function(){try{if(k&&y.useQuantityCtrl){var a=k.mtype;if("compose.ComposeModule"===a||"outlink.OutlinkModule"===a)return;var b=y.moduleTabsMap[a],c=y.quantityCtrl[a]||y.defaultTabQuantity,d=e.ownerCt.children();if(b.length>c||d.length>y.maxTabsCount){var f=b.shift(),g=y.items[f],h=y._tab.exist(f);if(g&&g.mod&&!r){var i=g.mod,j=h&&h.group||i&&(i.getGroup?i.getGroup():i.name);return r=y.groups[j],j}}}}catch(l){}};if(p=t()||p){if(r){var u=r.rawConfig.tabid;e.rawConfig.tabid=u,this._tab.replace(r,e),u&&h.tabs[u]&&(h.tabs[u]=e)}y.groups[p]=e,e.group=p,e.listen("destroy",function(){delete y.groups[p],k&&k._tab&&k._tab==e&&delete k._tab})}h._tab.resize(),h.setUglyStyle(),$S("moreTabMenu")&&$S("moreTabMenu").updateMenu();try{var x=[{text:w.t("关闭当前窗口"),click:function(){h._tab.remove(e.id),a.Log.cache({MultiTabContextCloseCurrent:1})}}];(b.nonClose||s.nonClose||"mbox.ListModule"==b.module)&&(x=[]),x=x.concat([{text:w.t("关闭全部"),click:function(){h.closeAll(),a.Log.cache({MultiTabContextCloseAll:1})}},{text:w.t("关闭其它全部"),click:function(){this.ownerCt&&this.ownerCt._relatedEventTarget&&(y.contextMenuObj=this.ownerCt._relatedEventTarget),h.closeAll(!0),a.Log.cache({MultiTabContextCloseOther:1})}},{text:w.t("管理默认标签"),click:function(){try{var b=$L("interface.OptionInterface",this)}catch(c){return c}b.entry({module:"custom.AppManagerModule"}),a.Log.cache({MultiTabContextManager:1})}}]),e.getEl().listen("contextmenu",function(b){a.Event.stop(b),v.show({groups:[{items:x}],width:120}),a.Log.cache({MultiTabContextShow:1})})}catch(z){}return e}h.items[f].mod=k,e=this._tab.exist(f),e&&(e.active(b),e.title(l,!0),k&&(k._tab=e))}function f(){var b=this,c="dvMultiTab",d="li",e=[],f=a("#"+c);f&&(e=f.find(d).doms,b.moreItem&&(e=e.slice(0,e.length-1))),a(e[0]).addClass("qv0"),a.Array.each(e,function(b,c){a(c).removeClass("rJ0")}),a(e[e.length-1]).addClass("rJ0")}function g(){var b=1,c=a.Ud.get({field:"ntes_read",flag:"promoteMultiTabClose"})-0;return b==c?!1:!0}function h(){var b=1;a.Ud.set({field:"ntes_read",flag:"promoteMultiTabClose",value:b})}function i(a){var b=a._tab;b&&b.ownerCt&&b.ownerCt.remove(b.id)}function j(b,c){var d=this;c=c||a.Context.module;var e=c._tab;d._tab.remove(e.id,!0),b&&b()}function k(b,c){var d=this,e=d.items[b];if(e){var f=e.module,g=e.param,h=e.mod||a.JS.get(f,g,e.useParam);h&&d.removeTab(c,h)}}function l(b,c){function d(){setTimeout(function(){$S("moreTabMenu")&&$S("moreTabMenu").updateMenu()},100),delete f.items[b]}function e(b){if(h._forwardParam)return h._forwardParam.exit=!0,h._forwardParam.cacheModule=h.cacheDom,h._forwardParam.fromTabClick=!0,a.JS.go(h._forwardParam),void 0;var b={module:b.module,param:b.param,exit:!0,cacheModule:h.cacheDom,call:function(){c&&(c(),d())},fromTabClick:!0,useParam:"outlink.OutlinkModule"==b.module?{key:!0,url:!0,cross:!0}:null};a.JS.go(b)}var f=this,g=f.items[b],h=g.mod;if(g&&g.isTempPromoteTab&&(a.AppManager.setTempPromoteTabClicked(g,1),g.display-0,a.Context.module&&"custom.AppManagerModule"===a.Context.module.mtype&&a.JS.refresh(a.Context.module)),!h)return d(),!0;var i,j=h.name,k=f._tab.history;if(j&&k.length>1){for(var l=k.length-1;l>-1&&k[l];){var m=f.items[k[l].id];if(i=m.mod,!i||i.name!=h.name)break;l--}if(!i)return h._forwardParam?(e(),!1):(d(),!0);if(a.JS.reqModule==h.name)e(i._var,!1);else{if(!i||!i._tab||h._cacheCleaned||"read.ReadModule"==h.mtype)return d(),!0;f.switchMultiTab(h._var,function(){e(i._var,!0)},!0)}}else e({module:a.Context.defaultModule},!0);return!1}function m(b){return a.Ext.useTab?b&&b._tab:!1}function n(){}function o(b){for(var c=this,d=this._tab.find("tabitem"),e=y.contextMenuObj,f=null,g=[],h=d.length;h--;){var i=d[h];i==this.moreItem||0===h||i.rawConfig.nonClose||(b&&e&&a.Element.inside(e,i.getDom())?f=i:g.push(i.id))}for(var h=d.length;h--;){var j=d[h].module;if(j&&(!f||f.module!==j))try{var k=j.exit(j._var,function(){c.closeAll(b)},null);if(!k)return}catch(l){}}f?f.active():a.JS.go({module:a.Context.defaultModule});for(var h=g.length;h--;)c._tab.remove(g[h],!0)}function p(){}function q(){}function r(b,c,d){var e={module:b.module,param:b.param,exit:!1,reset:!1,cacheDom:!0,cacheModule:!0,fromTabClick:!0};a.Object.extend(e,b,!0),d&&(e.record=!1),c&&(e.call=c),a.JS.go(e)}try{var s=$L("core.Listener")}catch(t){return t}try{var u=$L("component.Tab")}catch(t){return t}try{var v=$L("util.Contextmenu")}catch(t){return t}var w=new $I18N("init.MultiTab"),x=s,y=a.createClass($N("init.MultiTab"));a.Object.extend(y,{closeAllCount:5,items:{},groups:{},tabs:{},useQuantityCtrl:!0,defaultTabQuantity:3,maxTabsCount:15,quantityCtrl:{},moduleTabsMap:{},init:c,add:e,onRemove:l,pre:p,next:q,exist:m,setEnable:d,closeAll:o,getCloseAll:n,switchMultiTab:r,remove:i,removeTab:j,removeTabById:k,setUglyStyle:f,_isShowPromoteTabTips:g,_hidePromoteTabTips:h,_tab:null,_tabAppsList:[],_lastTabItem:null,_x:[]})}($,window),function(a,b){function c(){var a=this;"standard"===$G.mailPattern.currentPattern&&t.listen("appcenter:init",function(){a.show(),a.dockIsHidden&&a.hiddenDock()})}function d(){}function e(){a.fly("#dvDock")&&a.fly("#dvDock").show(),this.dockIsHidden=!1}function f(){a.fly("#dvDock")&&a.fly("#dvDock").hide(),this.dockIsHidden=!0}function g(c,d){var e=(a.fly("#spnDockNew")||{}).dom,f=a.Array.findObject(b.gCustomConf[$S("domain")],"id",c),g=(a.Component.find("$title$"+r.t("邮箱应用"))||[])[0];$S("weiboCount",d);var h=(a.Array.findObject(s.getDockAppsList(),"id",22)||{}).display;e&&h&&(e.innerHTML=d,e.style.display="",function(a){var c=0;if(!u&&!$S("SpnDockNew")&&!$G.isDebug){var d=b.setInterval(function(){c>=168&&(c=0),c+=24,a.style.backgroundPosition="0px -"+c+"px"},200);$S("SpnDockNew",d)}}(e)),g&&f.display&&(g.getEl().find(".nui-ico-redot")||g.getEl().append('<div class="nui-tabs-item-status"><b class="nui-ico nui-ico-redot"></b></div>'))}function h(a){a=a||{};var b=parseInt(a.replyCount||0,10)+parseInt(a.directCount||0,10)+parseInt(a.replyAtCount||0,10)+parseInt(a.atCount||0,10);b>0&&(v.showDot(22,b),$S("buzzCount",b))}function i(){function b(){function b(b){a.fly("#dvFullItems").hideChildren(),a.fly(a.fly("#dvFullItems").dom.childNodes[b]).show(),B.removeClass("eo0"),a.fly(B.doms[b]).addClass("eo0"),z=b}for(var d=0;d<j.length;d++){var f=j[d],g=f.text,h=f.name;if(f.display){var i,k,l,m="",n=$G.get("appsIconConf");f.icon?m=f.icon:(l=n[h]&&n[h].icon||h,n[h]&&n[h].defaultIcon&&(m=l),k=$G.environment.mimgUrl+"p/images/app/"+l+"_32.png",$S("isVip")&&(k=$G.environment.mimgUrl+"vip/xm/use-js5/img/app/"+l+"_32.png"),i=new a.Icon({extcls:"gApps-productIco",url:k,click:function(){}})),a.Ext.appCenter&&(m="",l=f.icon,k=$G.environment.mimgUrl+"p/images/app/"+l+"_32.png",i=new a.Icon({extcls:"gApps-productIco",url:k,click:function(){}})),0===x%y&&(x&&w.push("</div>"),w.push('<div class="hj0" '+(0===x/y?"":'style="display:none;"')+">"));var o=m?"gApps-productIco-"+m+"-sizeS ":"",p='<div class="oK0" role="link" tabindex="0" title="'+g+'" '+"onmouseover=\"this.className='oK0 hJ0'\" "+"onmouseout=\"this.className='oK0'\">"+(m?'<b class="gApps-productIco gApps-productIco-'+m+" "+o+'nui-ico"><img src="'+$G.environment.mimgUrl+'p/t.gif" alt="" /></b>':i?i.html():"")+'<p class="id0">'+g+(f.isNew?'<b class="nui-ico nui-ico-new3"></b>':"")+"</p>"+'<div class="ty0 sn0" '+(22==f.id&&$S("weiboCount")?"":'style="display:none')+'" id="dvNew_'+f.id+'">'+(22==f.id?$S("weiboCount")||"":"")+"</div>"+"</div>";u.push(c(p,f)),w.push(c(p,f)),x++}}var q=r.t("添加应用");$S("isVip")&&(q=r.t("添加VIP特权应用"));var s='<div class="oK0" onmouseover="this.className=\'oK0 hJ0\'" onmouseout="this.className=\'oK0\'"><b class="gApps-productIco gApps-productIco-add gApps-productIco-add-sizeS nui-ico"><img src="https://mimg.127.net/p/t.gif" alt="'+q+'"></b><p class="id0">'+q+"</p></div>",t={html:s,listeners:[{name:"click",type:"dom",handler:function(){e(),a.Support.gotoAppCenter(),a.Log.cache({FrameDockAdd:1})}}]};0===x%y&&(x&&w.push("</div>"),w.push('<div class="hj0" '+(0===x/y?"":'style="display:none;"')+">")),u.push(a.Component.html(t)),w.push(a.Component.html(t)),x++,A=x,v.totalApps=x,v.showingAppsCount=A,10>=x&&(a.fly("#dvScrollUp").hide(),a.fly("#dvScrollDown").hide()),x&&w.push("</div>"),1==$S("dockType")?(a.fly("#dvDockItems").dom.style.width=80*x+"px",a.fly("#dvDockItems").dom.parentNode.style.height="",a.fly("#dvDockItems").dom.style.height=""):(a.fly("#dvDockItems").dom.parentNode.style.width="",a.fly("#dvDockItems").dom.style.width="",a.fly("#dvDockItems").dom.style.height=41*x+"px"),a.fly("#dvDockItems").html(u.join("")),a.fly("#dvFullItems").html(w.join(""));var B=[],C=Math.ceil(x/y);1==C&&a.fly("#spnFullBottom").hide();for(var D=0;C>D;D++){var E=new a.Link({icon:{},click:a.Function.bind(function(a){b(a)},this,D),extcls:"nui-fIBlock lf0"+(0===D?" eo0":""),renderTo:"spnFullBottom"});B.push(E.getDom())}B=new a.Element(B),a.Component.setEvents()}function c(b,c){return a.Component.html({html:b,listeners:{click:{handler:a.Function.bind(d,this,c)},mouseover:{handler:function(){this.parentNode.focus()}},mousewheel:{handler:function(b){var c=a.Event.getEvent(b),d=c.wheelDelta;d>0&&g(),0>d&&f()}},DOMMouseScroll:{handler:function(b){var c=a.Event.getEvent(b),d=c.detail;d>0&&f(),0>d&&g()}}}})}function d(b){var c=b.id;e();try{a.Log.cache({FrameDockAppClick:c}),(-1===(c+"").indexOf("m")||"m3"===c)&&a.Log.record("appCenter",{AppCenter_Entry_Mail_Dock:c})}catch(d){}if(b.isNew&&(s.markDockAppClicked(c),v.show()),!a.Context.module||"outlink.OutlinkModule"!==a.Context.module.mtype||a.Context.module.appId!=c)if(0!==(c+"").indexOf("m")){var f;if(a.Ext.appCenter){if(c===a.AppCenterInterface.appIdForYiqipin())return a.AppCenterInterface.gotoYiqipin("dock"),void 0;if(f=a.Array.findObject(s.getAppsList(),"id",c))s.startApp(f);else{var g=a.Array.findObject(s.getDockAppsList(),"id",c);s.startApp(g)}}else{f=a.Array.findObject(s.getAppsList(),"id",c);try{var h=$L("interface.OutlinkInterface",this)}catch(d){return d}h.goOutlink({key:f.name,title:f.text,lockid:f.lockid,cross:f.listen})}}else switch(c){case"m0":a.JS.go({module:a.Context.defaultModule});break;case"m1":try{var i=$L("interface.ComposeInterface",this)}catch(d){return d}i.entry();break;case"m2":a.JS.go({module:"contact.ContactModule"});break;case"m3":a.Support.gotoAppCenter();break;case"m4":try{var h=$L("interface.OutlinkInterface",this)}catch(d){return d}h.goOutlink({key:"lab",title:r.t("实验室")});break;case"m5":a.Nav.entry("OptionInterface",{module:"options.AccountCenterModule"});break;case"m6":try{var j=$L("interface.MboxInterface",this)}catch(d){return d}j.entry({fid:1});break;case"m7":try{var k=$L("product.FileCenter",this)}catch(d){return d}k.entry("nf_center");break;case"m8":try{var l=$L("interface.OptionInterface",this)}catch(d){return d}l.entry({module:"LinkModule",link:"mobile_set"}),a.Log.cache({from:"mobile_from_dock"})}}function e(){var b=["iW0","jX0","nM0","nM0","qv1"];if(a.fly("#dvDockList")){a.fly("#dvDockList").removeClass(b.join(" "));try{a.fly("#dvDockList").dom.style.width="0px",a.fly("#dvDockList").dom.style.height="0px"}catch(c){}}var d=["nN0","fG0","fr0"];a.fly("#dvDockStart")&&a.fly("#dvDockStart").removeClass(d.join(" ")),a.fly("#dvFDock1")&&(a.fly("#dvFDock1").show(),a("#dvDockStart").hide()),v.showing=!1}function f(b){var c,d,e,f="marginLeft",g=80;1!=$S("dockType")&&(f="marginTop",g=41),b&&(c=Math.round(v.currentAppPos/v.showingAppsCount),e=Math.ceil(v.totalApps/v.showingAppsCount)-1,d=c+1>e?e:c+1,v.currentAppPos=d===e?v.totalApps-v.showingAppsCount-1:d*v.showingAppsCount-1),x-v.currentAppPos>v.showingAppsCount&&(v.currentAppPos++,a.fly("#dvDockItems").dom.style[f]=-(v.currentAppPos*g)+"px")}function g(b){var c,d,e="marginLeft",f=80;1!=$S("dockType")&&(e="marginTop",f=41),b&&(c=Math.round(v.currentAppPos/v.showingAppsCount),d=0>c-1?0:c-1,v.currentAppPos=d*v.showingAppsCount+1),v.currentAppPos>0&&(v.currentAppPos--,a.fly("#dvDockItems").dom.style[e]=-(v.currentAppPos*f)+"px")}var h=this;$S("dockType",a.Ud.get({field:"huodong_option",flag:"dockType"})-0);var i=a.Ud.get({field:"huodong_option",flag:"dockEnable"});if(a.fly("#dvDock")&&a.fly("#dvDock").remove(),!(i-0)){var j=s.getDockAppsList(),k=$S("dockType")===h.dockType.horizon,l=!a.Array.findObject(j,"display",1),m=l?k?"fO0":"eT0":"",n=k?"rM1":"qw1",o=k?"hR1":"gR2",p='<div class="tQ0" id="dvDock">   <div class="qo0" id="dvDockStartOuter" title="'+r.t("邮箱触点")+'" tabindex="0" hidefocus="true" >'+'       <div class="sQ0" id="dvDockStart">'+'           <span class="qt0 ok0"></span>'+'           <span class="qt0 od0"></span>'+'           <span class="qt0 nX0"></span>'+'           <span class="qt0 nP0"></span>'+'           <span class="ty0" id="spnDockNew" style="display:none"></span>'+"       </div>"+"   </div>"+'   <div class="sb0 '+m+'" id="dvDockList" style="width:0px;height:0px;">'+'<div class="nB1">'+a.Link.html({click:function(){try{var a=$L("interface.OptionInterface",this)}catch(b){return b}a.entry({module:"custom.AppManagerModule",type:"dock"}),e()},attrs:'title="'+r.t("点击添加应用")+'"',extcls:"nui-ico nS0"})+'       <div class="ta0 '+n+'" id="dvScrollUp">'+a.Link.html({icon:{type:1==$S("dockType")?"lArr":"uArr"},click:function(){g(!0)},attrs:'role="button" title="'+r.t("上一页")+'"',extcls:"rv0"})+"       </div>"+'       <div class="nK0 '+o+'"  id="dvDockAppLsit">'+'           <div class="nq0 nui-fClear" style="height:492px;width:696px" id="dvDockItems">'+"               "+"           </div>"+"       </div>"+'       <div class="ta0 '+n+'" id="dvScrollDown">'+a.Link.html({icon:{type:1==$S("dockType")?"rArr":"dArr"},click:function(){f(!0)},attrs:'role="button" title="'+r.t("下一页")+'"',extcls:"qH0"})+"       </div>"+'       <div class="so0">'+a.Link.html({icon:{type:"option"},click:function(){try{var b=$L("interface.OptionInterface",this)}catch(c){return c}b.entry({module:"custom.AppManagerModule",type:"dock"}),e(),a.Log.cache({FrameDockManager:1})},attrs:'role="button" title="'+r.t("设置")+'"',extcls:"nO0 nui-fIBlock"})+a.Link.html({icon:{type:$S("dockType")===h.dockType.fullScreen?"dockMin":"dockMax"},click:function(){var b,c=this,d="dockMin";v._showType===h.dockType.fullScreen?(d="dockMax",b=a.Ud.get({field:"huodong_option",flag:"dockType"})-0,c.el.attr({title:r.t("最大化")})):(b=v.dockType.fullScreen,c.el.attr({title:r.t("最小化")}));var e=this.children()[0].getEl();e.removeClass("nui-ico-dockMax nui-ico-dockMin"),e.addClass("nui-ico-"+d),$S("dockType",b),v._showType=$S("dockType"),v.showDockByType(),a.Log.cache({FrameDockMax:1})},attrs:$S("dockType")===h.dockType.fullScreen?'role="button" title="'+r.t("最小化")+'"':'role="button" title="'+r.t("最大化")+'"',extcls:"nO0 nui-fIBlock"})+"       </div>"+'       <div class="nK0 jR1" id="dvFullList">'+'           <div class="nq0 nui-fClear" style="width:1908px" id="dvFullItems">'+"           </div>"+"       </div>"+'       <div class="ta0 uf0">'+'           <span class="pZ0" id="spnFullBottom">'+"           </span>"+"       </div>"+"</div>"+'       <div class="mb0"></div>'+'       <div class="mt0 jm0"></div>'+'       <div class="mt0 jn0"></div>'+'       <div class="mt0 jo0"></div>'+"</div>";a.fly(document.body).append(p),a.Component.setEvents(),v._showType=$S("dockType"),v.showDock||(v.showDock=function(){if(v.showing)return e(),v.showing=!1,void 0;if(v.showing=!0,v.showDockByType(),v._showType===v.dockType.fullScreen);else{v.showNewAppPos=!1;for(var b=s.getDockAppsList(),c=v.totalApps-2;c>=v.totalApps-v.showingAppsCount&&c>=0;c--)if(b[c].isNew){v.showNewAppPos=!0;break}v.showNewAppPos&&0===$S("dockType")-0&&v.totalApps>v.showingAppsCount&&(a.fly("#dvDockItems").dom.style.marginTop=41*-(v.totalApps-v.showingAppsCount)+"px",v.currentAppPos=v.totalApps-v.showingAppsCount),v.showNewAppPos&&1===$S("dockType")-0&&v.totalApps>v.showingAppsCount&&(a.fly("#dvDockItems").dom.style.marginLeft=80*-(v.totalApps-v.showingAppsCount)+"px",v.currentAppPos=v.totalApps-v.showingAppsCount)}try{a.Event.cancelBubble()}catch(d){}});var q=!1;a.fly("#dvDockStartOuter").listen("click",function(){$S("dockType",a.Ud.get({field:"huodong_option",flag:"dockType"})-0),q||(b(),q=!0),h.hideAddedAnimation(),v.showDock(),a.Log.cache({FrameDockClick:1}),a.Component.setEvents()}),a.fly("#dvDockStartOuter").listen("mouseover",function(){v.loadedCss||(a.Support.loadStyleSheet(v.cssPath),v.loadedCss=!0)}),a.fly(document.body).listen("click",function(b){var c=a(a.Event.getTarget(b));c.findParent("#dvDock")||e()}),a.fly(document.body).listen("blur",function(){e()}),v.specailEffect(),a.Ext.msgCenter&&t.fire("msgcenter:init");var u=[],w=[],x=0,y=32,z=0;v.currentAppPos=0;var A}}function j(){function b(){var b,e=["","gDock-startOuter-autumn-shine"],f=0;c=setInterval(function(){try{a.fly("#"+d).dom.className="gDock-startOuter-autumn "+e[f],0===f&&(b=1),f==e.length-1&&(b=-1),f+=b}catch(g){clearInterval(c)}},200)}var c;if(a.Ext.specailEffect){var d="dvFDock1";a("#dvDockStart").hide();var e='<div class="gDock-startOuter-autumn" id="'+d+'"><div class="gDock-startOuter-autumn-inner" title="" tabindex="0" hidefocus="true"></div></div>';a.fly("#dvDockStartOuter").prepend(e),b(),a.fly("#"+d).listen("mouseover",function(){a.fly("#"+d).dom.className="gDock-startOuter-autumn gDock-startOuter-autumn-hover",clearInterval(c)}),a.fly("#"+d).listen("mouseout",function(){a.fly("#"+d).dom.className="gDock-startOuter-autumn",b()}),a.fly("#dvFDock1").listen("click",function(){a("#dvDockStart").show()})}}function k(c){function d(){b.DockAnimationTimer=i=b.setTimeout(function(){f.hideAddedAnimation()},3e3)}function e(){i&&b.clearTimeout(i)}var f=this,g="dockAddedAnimation",h=$C(g),i=b.DockAnimationTimer;h&&(e(),h.destroy());var j=s.getApp(c),k=a.Support.getAppIconUrl(j.icon+"_32");if(1!==a.Ud.get({field:"huodong_option",flag:"dockEnable"})-0){var l=a.Link.html({text:r.t("立即使用")+j.text+"&gt;&gt;",cls:"nui-txt-link",click:function(){s.startApp(c),f.hideAddedAnimation()}}),m=a.Component.html({html:'<a href="#" style="display:block;width:18px;height:18px;position:absolute;right:7px;top:9px;color:#999"><b class="nui-ico nui-ico-close  nui-ico-close-dark">x</b></a>',listeners:[{name:"click",type:"dom",handler:function(){f.hideAddedAnimation()}}]}),n='<div class="of0"><p class="jW0">'+r.t("应用已成功添加到触点！")+"</p>"+'<p class="hT0">'+l+"</p>"+'<b class="fx0">'+'<img src="'+k+'" alt="'+j.text+'">'+"</b>"+m+"</div>",o=a.Component.html({id:g,html:n,listeners:[{name:"mouseover",type:"dom",handler:function(){e()}},{name:"mouseout",type:"dom",handler:function(){d()}}]});a(document.body).append(o),a.Component.setEvents(),d()}}function l(){var a="dockAddedAnimation";$C(a)&&$C(a).hide()}function m(){var b=a("#dvDockStartOuter");b&&(b.addClass("animation-dock"),setTimeout(function(){b.removeClass("animation-dock")},2e3))}function n(b){if(b=b||v._showType,null!==b){var c=a("#dvDockList");v.totalApps>v.maxDockAppsCount+1&&(b=v._showType=v.dockType.fullScreen);var d,e,f,g,h,i=v.totalApps,j=58,k=96;10>i&&i>=5?v._showType==v.dockType.horizon?(g=80*i,e=g+k):v._showType==v.dockType.vertical&&(h=41*i,f=h+j):5>i?(v._showType==v.dockType.horizon?(g=400,e=g+k):v._showType==v.dockType.vertical&&(h=205,f=h+j),d=5):i>=10&&(d=10),v.showingAppsCount=d;var l=v.hasNewsNotify,m="";l&&(m=b===v.dockType.horizon?" ew1":b===v.dockType.vertical?" dZ1":" hu1"),b===v.dockType.horizon?(g||(g=800),e||(e=800+k),f=l?140:111,h=85):b===v.dockType.vertical?(h||(h=410),f||(f=410+j),e=189,l&&(f+=29),g=189):b===v.dockType.fullScreen&&(e=882,f=l?508:479);var n=!a.Array.findObject(a.AppManager.getDockAppsList(),"display",1),o="";n&&(o=b===v.dockType.horizon?" fO0":b===v.dockType.vertical?" eT0":" iD0");var p="";p=b===v.dockType.horizon?"jX0":b===v.dockType.vertical?"iW0":"nM0",n&&(b===v.dockType.horizon?(e=219,f=182):b===v.dockType.vertical?(f=200,e=193):b===v.dockType.fullScreen&&(e=193,f=200)),c.dom.style.height=f+"px",c.dom.style.width=e+"px";var q=a("#dvDockAppLsit");q&&b!==v.dockType.fullScreen&&(q.dom.style.height=h+"px",q.dom.style.width=g+"px");var r="sb0 "+p+m+" qv1"+" "+o;c.setClass(r);var s=a("#dvDockStart"),t="";t=b===v.dockType.horizon?"fG0":b===v.dockType.vertical?"fr0":"fr0";var u="sQ0 nN0 "+t;s.setClass(u)}}try{var o=$L("init.CustomAppManager")}catch(p){return p}try{var q=$L("core.Listener")}catch(p){return p}var r=new $I18N("init.Dock"),s=o,t=q,u=6==a.Browser.ie()-0,v=a.createClass($N("init.Dock"));a.Object.extend(v,{cssPath:"gdock.css",showNewAppPos:!0,totalApps:0,showingAppsCount:0,currentAppPos:0,maxDockAppsCount:15,hasNewsNotify:!1,init:c,show:i,initShow:d,showDot:g,unHiddenDock:e,hiddenDock:f,jump:m,specailEffect:j,buzzCall:h,showAddedAnimation:k,hideAddedAnimation:l,showDockByType:n,dockType:{vertical:0,horizon:1,fullScreen:2},_showType:null})}($,window),function(a){function b(){return null}function c(a){this.info=a}function d(){return null}function e(){return null}function f(a,b,c,d){var e,f,g;b?(e="unreadMessageCount",f="unreadMessageSize",g="unreadThreadCount"):(e="messageCount",f="messageSize",g="threadCount"),a[e]+=c,a[e]>0||(a[e]=0),a[f]+=d,a[f]>0||(a[f]=0);try{a[g]>=0&&(a[g]+=c,a[g]>0||(a[g]=0))}catch(h){}}function g(){}function h(){}function i(){}function j(){}function k(){}function l(){}function m(){}var n=a.createClass($N("init.Stats"));a.Object.extend(n,{info:null,inited:!1,format:b,set:c,getData:d,compare:e,fix:f,read:g,move:h,flag:i,tag:j,defer:k,archive:l,init:m})
}($,window),function(a,b){function c(a,b){var c=this;c.init();var d=c._isThread,e=c._isOpen||b;return a&&(d=d&&("number"!=typeof a||0===a||1===a||a>20)),!(!d||!e)}function d(){var c=this;if(!c.inited){try{var d=$G.environment.domain,e=a.Array.has(["163.com","126.com","yeah.net"],d),f=b.netease.mail.js6.util.Ud.get({field:"ntes_option",flag:"thread"}),g=$G.attrs.user.ntes_labs;c._isThread=$G.attrs.cos.perm_mail_threading&&(!e||g&&"1"===g.substring(12,13)),c._isOpen=!e^"0"===f}catch(h){}c.inited=!0}}new $I18N("init.Thread");var e=a.createClass($N("init.Thread"));a.Object.extend(e,{_isThread:!1,_isOpen:!1,inited:!1,check:c,init:d})}($,window),function(a){function b(a){for(var b=this,c={tags:{},normal:{},brand:{},smart:{}},d=u,e=d.check(),f=c.tags,g=[],h=0,i=a.length;i>h;h++){var j=a[h],k={},l=k.name=x.escapeHTML(x.trim(j[0])),m=j[1];if(m||(m=j[1]={}),k.color=m.color||0,x.has(l,"%"))if(x.has(l,"st_p_"))try{var n=l.match(/%st_p_(\w+)%$/)[1];if(!b.smarts[n])continue;k.alias=n,k.type="smart"}catch(o){continue}else k.type="brand",k.alias=l.replace(/%/g,"");else k.type="normal",k.alias=m.alias||k.name;var p=m.show;k.show=p>=0?p:1;var q=k.stats={};q.messageCount=j[2]||0,q.messageSize=j[3]||0,e&&(q.threadCount=j[4]||0),q.unreadMessageCount=j[5]||0,q.unreadMessageSize=j[6]||0,e&&(q.unreadThreadCount=j[7]||0),g.push(k)}g.sort(function(a,b){return a.name.localeCompare(b.name)});for(var h=0,i=g.length;i>h;h++){var k=g[h],r=k.name;f[r]=k,c[k.type][r]=k}return c}function c(a){var b=this;b.info=a,b.tags=a.tags,b.normal=a.normal,b.brand=a.brand,b.smart=a.smart}function d(a,b,c){var d=this;return d.init(),b||(b="normal"),c&&("smart"===b&&(a="st_p_"+a),a="%"+a+"%"),d[b][a]}function e(a){var b=this;return b.init(),a||(a="normal"),b[a]}function f(a,b){var c=u,d=c.check();"unread"!==a&&(a=""),"size"!==b?b="count":d=!1,b=b.substring(0,1).toUpperCase()+b.substring(1);var e="";e=d?"thread":"message","unread"===a&&(e=e.substring(0,1).toUpperCase()+e.substring(1));var f=a+e+b;return f}function g(a,b,c){var d=this,e=d.get(a,"tags"),f=0;if(e){var g=d.getProperty(b,c);f=e.stats[g],f>0||(f=e.stats[g]=0)}return f}function h(a){var b=this,c=b.getMatch(),d=null;if(c){var e=b.get(a,"brand");if(e)for(var f=0,g=c.length;g>f;f++)if(e.alias===c[f].id){d=c[f];break}}return d}function i(){var a=this,b=$S("matchBrandData");if(!b){b=[];var c=$S("brandData");if(c)for(var d=0,e=c.length;e>d;d++){var f=c[d],g=a.get(f.id,"brand",!0);g&&a.getInfo(g.name,"total","count")>0&&b.push(f)}$S("matchBrandData",b)}return b}function j(a){var b=this,c=null,d=b.get(a,"smart");return d&&(c=b.smarts[d.alias].name),c}function k(a){var b=this;w.isString(a)&&(a=b.get(a,"tags"));var c,d=a.type,e=a.name;if("brand"===d){var f=b.getBrand(e);f&&(c=f.name)}else if("smart"===d){var g=b.getSmart(e);g&&(c=g)}else c=a.alias;return c}function l(){var a=this,b=u,c=[{func:"mbox:listTags","var":{stats:!0,threads:b.check()}}];return{items:c,compare:y.bind(a.compare,a)}}function m(a,b){function c(a,b,c,d){var e=!1,f={};for(var g in c){var h=0;h+=c[g],d[g]&&(h-=d[g]),f[g]=h,e=e||0!==h}return e&&(a[b]=f),e}var d=this,e=a[0]["var"],f=d.info,g=d.format(e),h=f.tags,i=g.tags,j=$G.attrs,k=!1,l=!1,m=!1,n=!1,o=j.tags.length!==e.length,p={};w.each(i,function(a,b){var d=h[a],e=b.stats,f=d?d.stats:{};k=k||!d||b.name!==d.name,l=l||b.alias!==d.alias,m=m||b.color!==d.color,n=c(p,a,e,f)||n});var q=k||l||m||n||o;return(q||b)&&(j.tags=e,d.set(g)),{changed:q,info:{name:k,alias:l,length:o,color:m,stats:n?p:null}}}function n(a){for(var b=this,c=!1,d=a.data,e=a.value,f={},g=0,h=d.length;h>g;g++){var i=d[g],j=i.tag;if(j)for(var k=i.size,l=0,m=j.length;m>l;l++){var n=b.get(j[l],"tags");if(n){var o=1,p=k;e&&(o=-o,p=-p),b.fix(n.stats,!0,o,p),b.fixSource(n),f[n.name]=!0,c=!0}}}return{changed:c,info:{tags:f}}}function o(a){for(var b=this,c=!1,d=a.data,e=a.value,f=$G.common.unnormalids,g={},h=0,i=d.length;i>h;h++){var j=d[h],k=j.fid,l=z.has(f,k),m=z.has(f,e),n=j.flags.read;if(l^(m||!e)){var o=j.tag;if(o)for(var p=j.size,q=0,r=o.length;r>q;q++){var s=b.get(o[q],"tags");if(s){var t=1,u=p;l||(t=-t,u=-u);var v=s.stats;b.fix(v,!1,t,u),n||b.fix(v,!0,t,u),b.fixSource(s),g[s.name]=!0,c=!0}}}e||$S("matchBrandData",null)}return{changed:c,info:{tags:g}}}function p(a){for(var b=this,c=!1,d=a.data,e=a.value,f=a.isAdd,g={},h=0,i=d.length;i>h;h++){var j,k=d[h],l=k.tag,m=k.flags.read;j=e?[e]:l;for(var n=k.size,o=0,p=j.length;p>o;o++){var q=b.get(j[o],"tags");if(q){var r=1,s=n;f||(r=-r,s=-s);var t=q.stats;b.fix(t,!1,r,s),m||b.fix(t,!0,r,s),b.fixSource(q),g[q.name]=!0,c=!0}}}return{changed:c,info:{tags:g}}}function q(a){for(var b=a.name,c=a.stats,d=$G.attrs.tags,e=0,f=d.length;f>e;e++){var g=d[e];if(b===x.escapeHTML(x.trim(g[0]))){g[2]=c.messageCount||0,g[3]=c.messageSize||0,g[4]=c.threadCount||0,g[5]=c.unreadMessageCount||0,g[6]=c.unreadMessageSize||0,g[7]=c.unreadThreadCount||0;break}}}function r(a){var b=this;if(a||!b.inited){$S("matchBrandData",null);var c=$G.attrs.tags;b.set(b.format(c)),b.inited=!0}}try{var s=$L("init.Stats")}catch(t){return t}try{var u=$L("init.Thread")}catch(t){return t}var v=new $I18N("init.Tag"),w=a.Object,x=a.String,y=a.Function,z=a.Array,A=s,B=a.createClass($N("init.Tag"));w.mix(B,A,{colorCount:20,tags:null,normal:null,brand:null,smart:null,info:null,inited:!1,smarts:{reg:{name:v.t("注册"),index:0},bank:{name:v.t("银行"),index:1},sns:{name:v.t("社交"),index:2},order:{name:v.t("订单"),index:3},job:{name:v.t("工作"),index:4},bill:{name:v.t("账单"),index:5}},format:b,set:c,get:d,list:e,getProperty:f,getInfo:g,getBrand:h,getMatch:i,getSmart:j,getName:k,getData:l,compare:m,read:n,move:o,tag:p,fixSource:q,init:r})}($,window),function(a){function b(a,b){function c(b){for(var d=b.length-1;d>-1;d--){var e=b[d];n[e.id]||(a.push(e),n[e.id]=e),e.children&&(e.children.length>0&&c(e.children),delete e.children)}}function d(a,b){var c={id:a,name:b,flags:{virtual:!0},stats:{messageCount:0,messageSize:0,unreadMessageCount:0,unreadMessageSize:0,threadCount:0,unreadThreadCount:0}};return c}var e=this,f=[],g=[],h=[],i=[],j={},k={};try{for(var l=0;l<a.length;l++)a[l].name=A.t(a[l].name)}catch(m){}var n={};B.each(a,function(a,b){n[b.id]=b}),c(a);for(var l=a.length-1;l>-1;l--){var o=a[l],p=o.id;if(p>5&&20>p&&7!==p&&15!==p&&17!==p&&18!==p&&19!==p);else{o.name=D.escapeHTML(D.trim(o.name));var q=o.flags;if(j[p]=o,q||(q=o.flags={}),o.stats||(o.stats={}),q.system)q.pop=!1,g.push(o);else{var r={};try{r=e.getPopInfo(p)}catch(s){}r&&r.isPop?(q.pop=!0,q.iconSubtype=r.iconSubtype,q.username=r.username,i.push(o)):(q.custom=!0,q.pop=!1,h.push(o))}}}var t=d(0,A.t("所有邮件"));return f.push(t),j[t.id]=t,i.sort(function(a,b){return a.name.localeCompare(b.name)}),h.sort(function(a,b){return a.name.localeCompare(b.name)}),g.sort(function(a,b){var c=a.id,d=b.id,e={18:4.5,7:4.6};return c=e[c]||c,d=e[d]||d,c-d}),C.each(b,function(a,b){B.has(a.split(","),"1")&&(k=b)}),{virtual:f,system:g,custom:h,pop:i,hash:j,total:k}}function c(a){var b=this;b.info=a,b.virtual=a.virtual,b.system=a.system,b.custom=a.custom,b.pop=a.pop,b.hash=a.hash,b.total=a.total}function d(a){var b=this;b.init();var c=b.list();B.each(c,a)}function e(a){var b=this;b.init();var c;return a>=0&&(c=b.hash[a]),c}function f(b){var c=this;c.init();var d;return b=b.toLowerCase(),B.each(c.list(),function(c,e){return e.name.toLowerCase()===b?(d=e,a.BREAK):void 0}),d}function g(a){var b=this;b.init();var c=b.list(),d=[];return B.each(c,function(b,c){var e=c.id;a&&B.has(a,e)||d.push(e)}),d}function h(a){var b=this;b.init();var c;return c=a?b[a]:[].concat(b.system,b.custom,b.pop)}function i(a){for(var b=$G.attrs.popAccounts,c={isPop:!1},d=0,e=b.length;e>d;d++){var f=b[d];if(f.fid===a){if("pop3"===f.type){var g=f.username;/@/.test(g)||(g=f.username+"@"+f.server.replace(/pop(3)?\./i,""));var h=g.split("@")[1],i=y.getSubtype({type:"folder",domain:h});c={isPop:!0,index:d,name:f.name,username:g,server:f.server,stats:f.stats,delegatedSend:f.delegatedSend,iconSubtype:i}}break}}return c}function j(a,b,c){var d=z.check(a);"unread"!==b&&(b=""),"size"!==c?c="count":d=!1,c=c.substring(0,1).toUpperCase()+c.substring(1);var e="";e=d?"thread":"message","unread"===b&&(e=e.substring(0,1).toUpperCase()+e.substring(1));var f=b+e+c;return f}function k(a,b,c){try{var d=this,e=d.get(a),f=d.getProperty(a,b,c),g=e.stats[f];return g>0||(g=e.stats[f]=0),g}catch(h){return 0}}function l(a,b){var c=this;c.init();var d=c.getProperty(null,a,b),e=c.total[d];return e>0||(e=c.total[d]=0),e}function m(b){return $G.user.topMailCount&&a.Ext.letterTop&&b>0&&!B.has([4,5,7,15,18],b)}function n(){for(var a=this,b=[],c=z.check(),d=a.list(),e=$G.common.unnormalids,f=0,g=d.length;g>f;f++){var h=d[f].id;B.has(e,h)||b.push(h)}var i=[];return i.push({func:"mbox:getAllFolders","var":{stats:!0,threads:c}}),i.push({func:"mbox:getFolderStats","var":{ids:[b.join()],messages:!0,threads:c}}),{items:i,compare:E.bind(a.compare,a)}}function o(b,c){function d(a,b,c,d){var e=!1,f={};for(var g in c){var h=0;h+=c[g],d[g]&&(h-=d[g]),f[g]=h,e=e||0!==h}return e&&(a[b]=f),e}var e=this,f=b[0]["var"],g=b[1]["var"],h=e.info,i=e.format(f,g),j=h.hash,k=i.hash,l=$G.attrs,m=!1,n=!1,o=!1,p=l.folders.length!==f.length,q={};C.each(k,function(b,c){if(c.flags.virtual)return a.CONTINUE;var e=j[b],f=c.stats,g=e?e.stats:{},h=c.flags,i=e?e.flags:{};n=n||!e||c.name!==e.name,m=d(q,b,f,g)||m,o=o||h.custom!==i.custom||h.pop!==i.pop});var r=h.total,s=i.total;m=d(q,0,s,r)||m;var t=p||n||m||o;return(t||c)&&(l.folders=f,l.folderStats=g,e.set(i)),{changed:t,info:{name:n,length:p,flags:o,stats:m?q:null}}}function p(a){for(var b=this,c=!1,d=a.data,e=a.value,f=$G.common.unnormalids,g={},h=0,i=d.length;i>h;h++){var j=d[h],k=j.fid,l=j.size,m=b.get(k),n=m.stats,o=b.total,p=B.has(f,k),q=1,r=l;e&&(q=-q,r=-r),b.fix(n,!0,q,r),p||b.fix(o,!0,q,r),g[k]=!0,c=!0}return{changed:c,info:{fids:g}}}function q(a){for(var b=this,c=!1,d=a.data,e=a.value,f=$G.common.unnormalids,g={},h=0,i=d.length;i>h;h++){var j=d[h],k=j.fid,l=b.get(k),m=B.has(f,k),n=b.get(e),o=B.has(f,e),p=b.total,q=j.flags.read,r=j.size,s=l.stats;if(b.fix(s,!1,-1,-r),q||b.fix(s,!0,-1,-r),n){var t=n.stats;b.fix(t,!1,1,r),q||b.fix(t,!0,1,r)}(!n||o)&&(b.fix(p,!1,-1,-r),q||b.fix(p,!0,-1,-r)),m&&!o&&(b.fix(p,!1,1,r),q||b.fix(p,!0,1,r)),g[k]=!0,g[e]=!0,c=!0}return{changed:c,info:{fids:g}}}function r(){var a=this;a.initArchive()}function s(a){var b={func:"mbox:getFolderStats",body:{mboxa:"2",fids:[a],messages:!0,threads:z.check(a)}};return b}function t(a){var b=this;a?b.archives=a["var"]:delete b.archives}function u(a,b,c){var d=this,e=d.archives;if(e){var f=e[a];if(f){var g=d.getProperty(a,b,c),h=f[g];return h>0||(h=f[g]=0),h}}}function v(a){var b=this;if(a||!b.inited){var c=$G.attrs.folders,d=$G.attrs.folderStats;b.set(b.format(c,d)),b.inited=!0}}try{var w=$L("init.Stats")}catch(x){return x}try{var y=$L("util.Icon")}catch(x){return x}try{var z=$L("init.Thread")}catch(x){return x}var A=new $I18N("init.Folder"),B=a.Array,C=a.Object,D=a.String,E=a.Function,F=a.createClass($N("init.Folder"));C.mix(F,w,{virtual:null,system:null,custom:null,pop:null,hash:null,total:null,info:null,inited:!1,archives:null,format:b,set:c,each:d,get:e,getByName:f,getFids:g,list:h,getPopInfo:i,getProperty:j,getInfo:k,getTotal:l,isTop:m,getData:n,compare:o,read:p,move:q,archive:r,loadArchive:s,initArchive:t,getArchive:u,init:v})}($,window),function(a,b,c){function d(c){var d=this;if(!d.today||d.tomorrow||d.yesterday){var e=a.Misc.getTime(0),f=d.today=new b.Date(e.getFullYear(),e.getMonth(),e.getDate());d.yesterday=y.addDate(f,-1),d.tomorrow=y.addDate(f,1)}return d[c]}function e(a,b){var c=!v.check()||b;return c=c&&(1===a||3===a||a>20)}function f(a,b){function c(a,b){var c=a.stats={};x.extend(c,{messageCount:0,messageSize:0,unreadMessageCount:0,unreadMessageSize:0});try{if(b){var d=b.all;c.messageCount=d.msgcnt,c.messageSize=d.msgsize,c.unreadMessageCount=d.newmsgcnt,c.unreadMessageSize=d.newmsgsize}}catch(e){}}var d={},e={};return c(d,a),c(e,b),{total:d,expire:e}}function g(a){var b=this;return b.init(),b[a]}function h(a){var b=this;b.info=a,b.total=a.total,b.expire=a.expire}function i(b){function d(){}function e(a){f.setCache(a)}var f=this,g=f.getDate("today"),h="19700101:"+y.format(g,"yyyyMMdd"),i=w.getFids(),j="mbox:listMessages",k={func:j,body:{mboxa:a.Ext.archive?"1":c,fids:i,order:"deferredDate",desc:!1,filter:{defer:h,flags:{deferHandle:!0}},skipLockedFolders:!0,returnTag:!!a.Ext.tag,returnTotal:!0}};return b?k:(x.extend(k,{call:e,error:d}),(new a.DataAction).wmsvr(k),void 0)}function j(a){var b,c=this,d=c.response;return d&&(b=a?d[a]:d),b}function k(a){if(this.response=a,a)for(var b=a["var"],c=0,d=b.length;d>c;c++){var e=b[c],f=e.flags;f||(f=e.flags={}),f.expire=!0}}function l(a,b){"unread"!==a&&(a=""),"size"!==b&&(b="count"),b=b.substring(0,1).toUpperCase()+b.substring(1);var c="message";"unread"===a&&(c=c.substring(0,1).toUpperCase()+c.substring(1));var d=a+c+b;return d}function m(a,b,c){try{var d=this;d.init();var e=d.get(a),f=d.getProperty(b,c),g=e.stats[f];return 0>=g&&(g=e.stats[f]=0),g}catch(h){return 0}}function n(){var a=this,c=w.getFids(),d=new b.Date,e=y.format(d,"yyyyMMdd"),f="19700101",g=[];return g.push({func:"mbox:statMessages","var":{fids:c,filter:{defer:f+":"}}}),g.push({func:"mbox:statMessages","var":{fids:c,filter:{defer:":"+e}}}),{items:g,compare:z.bind(a.compare,a)}}function o(a,b){function c(a,b,c,d){var e=!1,f={},g=c[b].stats,h=d?d[b].stats:{};for(var i in g){var j=0;j+=g[i],h[i]&&(j-=h[i]),f[i]=j,e=e||0!==j}return e&&(a[b]=f),e}var d=this,e=a[0]["var"],f=a[1]["var"],g=d.info,h=d.format(e,f),i={},j=!1;return j=c(i,"total",h,g)||j,j=c(i,"expire",h,g)||j,(j||b)&&($G.attrs.deferTotal=e,$G.attrs.deferExpire=f,d.set(h)),{changed:j,info:{stats:j?i:null}}}function p(a){for(var b=this,c=!1,d=a.data,e=a.value,f={},g=0,h=d.length;h>g;g++){var i=d[g],j=i.flags.deferHandle;if(j){var k=["total"];i.defer<b.getDate("tomorrow")&&k.push("expire");for(var l=i.size,m=0,n=k.length;n>m;m++){var o=k[m],p=b.get(o),q=1,r=l;e&&(q=-q,r=-r),b.fix(p.stats,!0,q,r),f[o]=!0,c=!0}}}return{changed:c,info:{defers:f}}}function q(a){var b=this,c=!1,d=a.data,e=a.value;$G.common.unnormalids;for(var f={},g=0,h=d.length;h>g;g++){var i=d[g];i.fid;var j=i.flags.read;if(!e){var k=i.flags.deferHandle;if(k){var l=["total"];i.defer<b.getDate("tomorrow")&&l.push("expire");for(var m=i.size,n=0,o=l.length;o>n;n++){var p=l[n],q=b.get(p),r=-1,s=-m,t=q.stats;b.fix(t,!1,r,s),j||b.fix(t,!0,r,s),f[p]=!0,c=!0}}}}return{changed:c,info:{defers:f}}}function r(a){function b(a,b,d,e){var f=c.get(a),g=f.stats;c.fix(g,!1,b,d),e||c.fix(g,!0,b,d),i[a]=!0}var c=this,d=!1,e=a.data,f=a.value.defer,g=a.value.deferHandle,h=a.type,i={};if("delete"!=h)for(var j=0,k=e.length;k>j;j++){var l=e[j],m=l.defer,n=l.flags.deferHandle,o=n&&m<B.getDate("tomorrow"),p=l.flags.read;if(f||m||g!=n||f.getYear()==m.getYear()&&f.getMonth()==m.getMonth()&&f.getDate()==m.getDate()){var q=l.size,r=1,s=q;if("add"===h&&(b("total",r,s,p),f<B.getDate("tomorrow")&&b("expire",r,s,p)),"complete"===h&&(b("total",-r,-s,p),o&&b("expire",-r,-s,p)),"modify"===h&&(f<B.getDate("tomorrow")?o||b("expire",r,s,p):o&&b("expire",-r,-s,p)),d=!0,"complete"===h&&o){var t=c.getCache("var");if(t)for(var u=0,v=t.length;v>u;u++){var w=t[u];if(w.id===l.id){t.splice(j,1);break}}}}}return{changed:d,info:{defers:i}}}function s(a){var b=this;if(a||!b.inited){var c=$G.attrs.deferTotal,d=$G.attrs.deferExpire;b.set(b.format(c,d)),b.inited=!0}}try{var t=$L("init.Stats")}catch(u){return u}try{var v=$L("init.Thread")}catch(u){return u}try{var w=$L("init.Folder")}catch(u){return u}var x=a.Object;a.Array;var y=a.Date,z=a.Function,A=t,B=a.createClass($N("init.Defer"));x.mix(B,A,{today:null,tomorrow:null,yesterday:null,total:null,expire:null,info:null,response:null,inited:!1,getDate:d,showTop:e,format:f,get:g,set:h,loadCache:i,getCache:j,setCache:k,getProperty:l,getInfo:m,getData:n,compare:o,read:p,move:q,defer:r,init:s})}($,window),function(a,b,c){function d(a,b,c){var d,e=this;if("group"!==a.ctype&&(a.email||a.emails)){var f=a.emails?a.emails:[a.email];d=f.join().toLowerCase(),b&&c&&!c[d]&&(b.push({data:a,arr:f,str:d,ctype:"contact"}),c[d]=!0)}else try{for(var g=(u.getMarkData()||{}).contact||[],h=0,i=g.length;i>h;h++)if(a.cid===g[h].cid){a=g[h];break}for(var j=a.contacts,k=[],h=0,i=j.length;i>h;h++){var l=j[h],m=e.parseEmail(l);k=k.concat(m.split(","))}var n=k.join();b&&b.push({data:a,arr:k,str:n,ctype:"group"}),d=n}catch(o){}return d}function e(a){var b,c=this,d=c.contacts;try{if(a&&d&&d.length>0){a=a.toLowerCase();for(var e=0,f=d.length;f>e;e++){var g=d[e];if(a===g.str){b=g;break}}}}catch(h){}return b}function f(a){var b,c=this,d=c.contacts;try{if(a&&d&&d.length>0)for(var e=0,f=d.length;f>e;e++){var g=d[e];if(a===g.data.cid){b=g;break}}}catch(h){}return b}function g(a){function b(a){if(a)for(var b=0,f=a.length;f>b;b++){var g=a[b];c.parseEmail(g,d,e)}}var c=this,d=c.contacts;if(!d||a){d=[];var e={};try{var f=$L("support.AddressSupport",this)}catch(g){return g}try{var h=f.getMarkData();b(h.contact),c.contacts=d}catch(i){}}return d}function h(a){for(var b=this,c=b.getContacts(),d={ids:{},email:{},all:{}},e=0,f=c.length;f>e;e++){var g=c[e],h=g.arr,i=g.str,j=a[e]["var"],k={},l=k.stats={};x.extend(l,{messageCount:0,messageSize:0,unreadMessageCount:0,unreadMessageSize:0});try{if(j){var m=j.all;l.messageCount=m.msgcnt,l.messageSize=m.msgsize,l.unreadMessageCount=m.newmsgcnt,l.unreadMessageSize=m.newmsgsize}}catch(n){}d.all[i]=k;for(var o=0,p=h.length;p>o;o++){var q=d.email,r=h[o].toLowerCase(),s=q[r];s||(s=q[r]=[]),s.push(k)}}return d}function i(a,b){var d,e=this;try{var f;f="email"!==b?e.parseEmail(a):a,d=e.all?e.all[f]:c}catch(g){}return d}function j(a){var b=this;b.info=a,b.ids=a.ids,b.email=a.email,b.all=a.all}function k(){var a=this,b=a.contacts,c=0;try{if(b&&b.length>0)for(var d=0,e=b.length;e>d;d++){var f=b[d];"contact"===f.ctype&&(c+=a.getInfo(f.str,"unread"))}}catch(g){}return c}function l(a,b){"unread"!==a&&(a=""),"size"!==b&&(b="count"),b=b.substring(0,1).toUpperCase()+b.substring(1);var c="message";"unread"===a&&(c=c.substring(0,1).toUpperCase()+c.substring(1));var d=a+c+b;return d}function m(a,b,d){try{var e=this,f="string"==typeof a?"email":c,g=e.get(a,f),h=e.getProperty(b,d),i=g.stats[h];return i>0||(i=g.stats[h]=0),i}catch(j){return 0}}function n(){var a,b=this,c=b.getContacts(),d=[],e=$G.common.unnormalids,f=v.getFids(e);if(c&&c.length>0){for(var g=0,h=c.length;h>g;g++)d.push({func:"mbox:statMessages","var":{fids:f,filter:{chatWithAddress:c[g].str}}});a={items:d,compare:z.bind(b.compare,b)}}return a}function o(b,d){function e(a,b,c,d){var e=!1,f={};for(var g in c){var h=0;h+=c[g],d[g]&&(h-=d[g]),f[g]=h,e=e||0!==h}return e&&(a[b]=f),e}var f=this,g=f.info,h=f.format(b),i={},j=!1,k=!1,l=h?h.all:c,m=g?g.all:c;x.each(l,function(a,b){var d=m?m[a]:c;d||(j=!0);var f=b.stats,g=d?d.stats:{};k=e(i,a,f,g)||k}),x.each(m,function(b){var d=l?l[b]:c;return d?void 0:(j=!0,a.BREAK)});var n=j||k;return(n||d)&&f.set(h),{changed:n,info:{inited:!g,length:j,stats:k?i:null}}}function p(a){for(var b=this,c=w,d=!1,e=!1,f=a.data,g=a.value,h={},i=0,j=f.length;j>i;i++){var k=f[i],l=k.fid;if(3===l){e=!0;break}var m=c.getAddress(k.from),n=k.size,o=b.email[m];if(o){var p=1,q=n;g&&(p=-p,q=-q);for(var r=0,s=o.length;s>r;r++)b.fix(o[r].stats,!0,p,q);h[m]=!0,d=!0}}return{changed:d,request:e,info:{emails:h}}}function q(b){for(var c=this,d=!1,e=!1,f=b.data,g=b.value,h=$G.common.unnormalids,i={},j=0,k=f.length;k>j;j++){var l=f[j],m=l.fid;if(3===m){e=!0;break}var n=y.has(h,m),o=y.has(h,g),p=l.flags.read;if(n^(o||!g)){var q=a.Uri.getAddress(l.from),r=l.size,s=c.email[q];if(s)for(var t=0,u=s.length;u>t;t++){var v=s[t],w=1,x=r;n||(w=-w,x=-x);var z=v.stats;c.fix(z,!1,w,x),p||c.fix(z,!0,w,x),c[q]=!0,d=!0}}}return{changed:d,request:e,info:{emails:i}}}function r(){}try{var s=$L("init.Stats")}catch(t){return t}try{var u=$L("support.AddressSupport")}catch(t){return t}try{var v=$L("init.Folder")}catch(t){return t}try{var w=$L("util.Uri")}catch(t){return t}new $I18N("init.Contacts");var x=a.Object,y=a.Array,z=a.Function,A=s,B=a.createClass($N("init.Contacts"));x.mix(B,A,{contacts:null,email:null,all:null,info:null,parseEmail:d,getContact:e,getGroup:f,getContacts:g,format:h,get:i,set:j,getUnread:k,getProperty:l,getInfo:m,getData:n,compare:o,read:p,move:q,init:r})}($,window),function(a){function b(){var b=this;b.init(),b.activated&&b.failed&&(b.failed=!1,a.Listener.fire("sync:request",{Sent:{changed:!0,info:{failed:!1,reset:!0}}},{}))}function c(){var a,b=this;if(b.init(),b.activated){var c=3,d=h.getInfo(c);if(d>b.count){b.count=d;var e=[{func:"mbox:listMessages","var":{fid:c,order:"date",desc:!0,filter:{sentDate:"1:"}}}];a={items:e,compare:j.bind(b.compare,b)}}}return a}function d(a){var b=this;if(b.init(),b.activated){for(var c=!1,d=!1,e=b.mids,f=a[0]["var"],g=0,h=f.length;h>g;g++){var i=f[g],j=i.sndStatus,k=i.flags;if("number"!=typeof j){var l=k.rcptQueued,m=k.rcptSucceed,n=k.rcptFailed;(l||m||n)&&(m?n&&(j=5):j=n?4:1,i.sndStatus=j)}if("number"==typeof j)if(j>3){var o=i.id;e[o]||(c=!0,e[o]=!0)}else 3>j&&b.count--}return c!=b.failed&&(b.failed=c,d=!0),{changed:d,info:{failed:c}}}}function e(){var b=this;b.activated=a.Ud.get({field:"save_sent"})<2}try{var f=$L("init.Stats")}catch(g){return g}try{var h=$L("init.Folder")}catch(g){return g}var i=a.Object;a.String;var j=a.Function;a.Array;var k=f,l=a.createClass($N("init.Sent"));i.mix(l,k,{activated:!1,failed:!1,count:0,mids:{},reset:b,getData:c,compare:d,init:e})}($,window),function(a,b,c){function d(b,c){function d(b){var c=b.code;switch(c){case"FA_INVALID_SESSION":case"FA_SECURITY":a.Tips.show({err:!0,text:z.t("您当前状态已失效，请重新")+a.Link.html({text:z.t("登录邮箱"),link:a.Uri.getUrl("logout"),target:"_top"}),expire:0});break;case"S_PARTIAL_OK":b["var"]=b["var"].splice(0,b.failIndex),e(b,!0)}return!0}function e(a){var d=a["var"],e=[];if(d&&d.length>0){try{for(var f=0,h=d.length;h>f;f++){var j=d[f]["var"];j[""]&&(j.all=j[""],delete j[""])}}catch(k){}B.each(i,function(a,b){try{var c=b.items.length,f=b.compare(d.splice(0,c),g);e.push(f)}catch(h){}})}for(var l={},f=0,h=b.length;h>f;f++)l[b[f]]=e[f];D.fire("sync:request",l,c)}c||(c={});var f=c.sync,g=c.force;c.listen;var h=v;b||(b=["Folder","Tag","Defer","Contacts","Sent"]);for(var i=[],j=0,k=b.length;k>j;j++){var l=$I("init."+b[j]).getData();l?i.push(l):(b.splice(j,1),j--,k--)}var m={func:"global:sequential",sync:!!f,call:e,error:d},n=[];B.each(i,function(a,b){B.each(b.items,function(a,b){n.push(b)})}),m.body={items:n},(new h).wmsvr(m)}function e(a,b,c,d){var e,f,g;b?(e="unreadMessageCount",f="unreadMessageSize",g="unreadThreadCount"):(e="messageCount",f="messageSize",g="threadCount"),a[e]+=c,a[e]>0||(a[e]=0),a[f]+=d,a[f]>0||(a[f]=0);try{a[g]>=0&&(a[g]+=c,a[g]>0||(a[g]=0))}catch(h){}}function f(a,b,c){var d=this,e={};B.each(b,function(b,d){try{e[d]=$I("init."+d)[c](a)}catch(f){}});var f=[];A.each(e,function(a,b){b.request&&f.push(a)}),f.length>0&&d.request(f,{force:!0,listen:!0}),D.fire("sync:cache",e)}function g(a){var b=this,c=["Folder","Tag","Defer","Contacts"];b.cache(a,c,"read")}function h(a){var b=this,c=["Folder","Tag","Defer","Contacts"];b.cache(a,c,"move")}function i(a){var b=this,c=[];b.cache(a,c,"flag")}function j(a){var b=this,c=["Tag"];b.cache(a,c,"tag")}function k(a){var b=this,c=["Defer"];b.cache(a,c,"defer")}function l(a){var b=this,c=["Folder"];b.cache(a,c,"archive")}function m(b,c){function d(){top.window.focus();try{var a=$L("interface.MboxInterface",this)}catch(b){return b}a.entry({filter:{flags:{read:!1}}})}var e=c.listen;if(!e){var f=b.Folder;if(f&&f.changed){var g=f.info.stats;if(g&&g[0]){var h=g[0];E.check();var i="unreadMessageCount",j=h[i]||0,k=[18];if(A.each(g,function(a,b){B.has(k,a)&&(j-=b[i])}),j>0){try{var l=w;if(l.check())l.show({info:{title:z.t("网易邮箱新邮件到达"),body:z.t("您收到 ")+j+z.t(" 封新邮件")},event:{click:d},timeout:5e3});else{var m=[{html:z.t("您收到 ")+j+z.t(" 封新邮件，")},{xtype:"link",text:z.t("点击查看"),extcls:"nui-txt-cLink",click:d}];a.Popup.show({title:z.t("新邮件到达"),content:m})}}catch(n){}try{if(0===a.Ud.get({field:"ntes_option",flag:"newmailSound"})-0){var o="https://res.126.net/p/frontend/part/js6lib/sound/",p=o+"message.mp3",q=o+"message.wav";a.Audio.play({url:{mp3:p,wav:q}})}}catch(n){}}}}try{var r=b.Sent;if(r&&r.changed){var s=r.info,t=s.failed,u=s.reset;(t||u)&&a.Nav.changeExtraIcon("folder",3,"mailLv",t)}}catch(n){}}}function n(a){var b=this,d=a.area,e=a.action,f=!E.check();if(f){if("archive"!==d)try{switch(e){case"read":b.read(a);break;case"move":b.move(a);break;case"flag":b.flag(a);break;case"tag":b.tag(a);break;case"defer":b.defer(a)}}catch(g){}}else b.request(c,{force:!0,listen:!0});("archive"===d&&"move"===e||"read"===e)&&b.archive(a)}function o(){var a=this;a.request(c,{force:!0,listen:!0})}function p(){var a=this;a.request(c,{force:!0,listen:!0})}function q(){x.initArchive()}function r(){var a=this,b=y;if(b.getContacts(!0),b.contacts.length>0)a.request(["Contacts"]);else{var c=b.compare([],!0);D.fire("sync:request",{Contacts:c})}}function s(){var a=this;a.inited||(D.listen("sync:request",C.bind(a.syncRequest,a)),D.listen("letter:update",C.bind(a.letterUpdate,a)),D.listen("letter:allread",C.bind(a.letterAllRead,a)),D.listen("letter:setfilter",C.bind(a.letterSetFilter,a)),D.listen("letter:rollback",C.bind(a.letterRollback,a)),D.listen("addr:dataInit",C.bind(a.addrData,a)),D.listen("addr:dataMark",function(b){(b.contactEmailChange||b.groupChange||b.statusChange)&&a.addrData()}),a.inited=!0)}try{var t=$L("init.Thread")}catch(u){return u}try{var v=$L("core.DataAction")}catch(u){return u}try{var w=$L("util.Notification")}catch(u){return u}try{var x=$L("init.Folder")}catch(u){return u}try{var y=$L("init.Contacts")}catch(u){return u}var z=new $I18N("init.Sync"),A=a.Object,B=a.Array,C=a.Function,D=a.Listener,E=t,F=a.createClass($N("init.Sync"));A.extend(F,{inited:!1,request:d,fix:e,cache:f,read:g,move:h,flag:i,tag:j,defer:k,archive:l,syncRequest:m,letterUpdate:n,letterAllRead:o,letterSetFilter:p,letterRollback:q,addrData:r,init:s})}($,window),function(a,b){function c(){var b=this;b.currentAccount=$G.user.uid;var c=[];a.Array.each($G.get("topNavConf"),function(d,e){if(e.disable&&e.disable())return a.CONTINUE;e.split&&c.push({html:'<li class="rZ0 pn1">|</li>'});var f="";e.icon&&(a.Object.isString(e.icon)?f=a.Icon.html({type:e.icon}):a.Object.isObject(e.icon)&&(f=a.Icon.html(e.icon)));var g;switch(e.name){case"account":var h="";$S("isVip")&&(h=a.Icon.html({type:"user-vip"}));var i=a.SenderList.getMobile(),j=$S("is188")?$S("uid"):b.hideMobileNumber(a.Support.trimAccount(b.currentAccount,!i)),k=a.Icon.html({type:"dArr",extcls:"kJ0",onRender:function(){$S("topNavAccountArrow",this)}});g='<a href="javascript:;" class="kl0 nui-txt-link">'+h+'<span id="spnUid">'+j+"</span>"+'<span class="hM0" id="_account_'+b.currentAccount+'"></span>'+k+"</a>";break;default:g='<a href="javascript:;" class="sh0 nui-txt-link '+(e.extcls||"")+'"  title="'+(e.title||"")+'">'+f+(e.text||"")+"</a>"}c.push({html:'<li class="rZ0"></li>',onRender:function(){$S("dvTopnavItem_"+e.name,this),e.onRender&&e.onRender.call(this)},items:[{html:g,onRender:function(){"account"===e.name&&($S("topNavAccountLink",this),b.renderSuperMemberIcon())}}]}),(e.click||e.showArrow)&&(c[c.length-1].listeners=[{name:"click",type:"dom",handler:function(){e.click&&e.click(this)}},{name:"mouseenter",type:"dom",handler:function(){b.currentBox===e.name&&clearTimeout(b.currentBoxHider)}},{name:"mouseleave",type:"dom",handler:function(){var c=this;b.currentBox&&(clearTimeout(b.currentBoxHider),b.currentBoxHider=setTimeout(function(){a.Event.fire(document.body,"click"),b.currentBox="";try{a.fly(c).find("a").dom.blur()}catch(d){}},1e3))}}])});var d=new a.Component({html:'<ul class="tO0" role="navigation"></ul>',items:c});d.render("h1Logo","after"),$S("topNav",d)}function d(){var c=a.Link.html({text:z.t("下载其他终端客户端"),cls:"nui-txt-link",delegateTo:"self",click:function(){b.open("//mail.163.com/dashi/dlpro.html?from=mail60","_blank"),a.Event.fire(document.body,"click"),a.Log.cache({Topnav20MasterDownloadClick:1})}}),d=['<div class="vs2" style="display: none;">','<div class="lZ2"><img src="https://mimg.127.net/ggimg/all/img20/200622_topnav_master.png"></div>','<div class="lz2">'+z.t("扫码下载网易邮箱官方App")+"</div>",'<div class="mP1">'+z.t("心无旁骛 专注办公")+"</div>",'<div class="mQ2">'+c+"</div>","</div>"].join(""),e=new a.Component({html:d});$S("dvTopnavBox_download",e),e.render(document.body),e.getEl().click(function(){a.Event.cancelBubble()}),a.fly(document.body).listen("click",function(){e.hide()})}function e(){var b=$G.get("topNavSettingConf"),c=[];a.Array.each(b.entries,function(a,b){c.push({html:"<li>"+b.text+"</li>",onRender:function(){b.onRender&&b.onRender.call(this)},listeners:[{name:"click",type:"dom",handler:function(){b.click&&b.click(this)}}]})});var d={html:'<ul class="Bz0"></ul>',items:c},e={html:'<div class="oN1"></div>',items:[{html:'<div class="hq1">'+z.t("更换皮肤")+"</div>",listeners:[{name:"click",type:"dom",handler:function(){try{var b=$L("interface.OptionInterface",this)}catch(c){return c}b.entry({module:"options.SkinModule"}),a.Log.cache({Topnav20SettingThemeClick:1})}}]},{html:'<div class="jk2"><img src="'+b.skin.img+'"><span id="dvTopnavSkinTitle">'+b.skin.title+"</span></div>",listeners:[{name:"click",type:"dom",handler:function(){a.Support.changeTheme(b.skin.value),a.Log.cache({Topnav20SettingThemePicClick:1})}}]}]};a.Ud.getProxy({field:["product.vipMember"],call:function(c){var d=c["product.vipMember"],e=a("#dvTopnavSkinTitle");d&&e&&(e.dom.innerText=b.skin.titleVip)}});var f=new a.Component({html:'<div class="wi0" style="display:none;"></div>',items:[d,e]});$S("dvTopnavBox_setting",f),f.render(document.body),a.fly(document.body).listen("click",function(){f.hide()})}function f(){var b=this,c=a.Icon.html({xtype:"icon",type:"link"}),d='<div class="iw0"><span class="dZ0"></span><span class="ev0">'+c+'</span><span class="ea0"></span></div>',e={html:'<div class="oJ2"></div>',items:[{html:'<div class="lD3"><div id="dvTopAvatar"></div></div>'},{html:'<div class="jj2">'+b.renderUsername()+"</div>"},{html:'<div class="ik1"><div id="dvTopRelevance"></div>'+d+"</div>"},{html:'<div class="ij1">'+b.renderLogininfo()+"</div>"}]},f=b.renderAccountPrivilege(),g=a.Link.html({delegateTo:"self",text:z.t("邮箱帐号管理"),extcls:"nui-txt-link",click:function(){try{var b=$L("interface.OptionInterface",this)}catch(c){return c}b.related(),a.Event.fire(document.body,"click"),a.Log.cache({Topnav20AccountManagerClick:1})}});$S("TopnavManagerLink",g);var h={html:'<div class="kr1"><div id="dvTopAccountManager" class="nui-scroll" style="overflow-x: hidden; max-height: 200px;margin: 0 -20px;"></div><div class="go1" id="dvTopAccountManagerLink">'+g+"</div></div>"},i=b.renderAccountHelper(),j={html:'<div class="oC1"></div>',items:[{html:'<div class="kt1">'+z.t("退出")+"</div>",listeners:[{name:"click",type:"dom",handler:function(){u.logout()}}]}]},k=new a.Component({html:'<div class="xb0" style="display:none;"></div>',items:[e,f,h,i,j],listeners:{afterRender:function(){b.renderAvatar(this)}}});$S("dvTopnavBox_account",k),k.render(document.body),k.getEl().click(function(){a.Event.cancelBubble()}),a.fly(document.body).listen("click",function(){k.hide(),$S("topNavAccountArrow").getEl().removeClass("jL1")
}),setTimeout(function(){b.navGuide()},2e3)}function g(){var a=this;try{var b=$L("product.AccountRelate",this)}catch(c){return c}y=b,y.init(),a.renderRelevance(),a.renderAccountManager(),a.renderLogininfoData()}function h(){function b(b){a.LocalStorage.set("nav_guide_2020","1",{path:"/",domain:$S("fullDomain")});var c=0===b["webmail.js.topnavGuide2020"];if(c){a.Ud.setProxy({field:"webmail.js.topnavGuide2020",value:1});var d=$S("dvTopnavItem_account");if(d){var e=d.el.dom.getBoundingClientRect(),f=['<div class="rQ1" style="top:0;left:0;width:100%;height:'+e.top+'px"></div>','<div class="rQ1" style="bottom:0;left:0;width:100%;top:'+e.bottom+'px"></div>','<div class="rQ1" style="top:'+e.top+"px;left:0;width:"+e.left+"px;height:"+(e.bottom-e.top)+'px"></div>','<div class="rQ1" style="top:'+e.top+"px;right:0;left:"+e.right+"px;height:"+(e.bottom-e.top)+'px"></div>'].join(""),g='<div class="nb1"><img src="//mimg.127.net/ggimg/all/img21/200624_webmail_guide'+($G.environment.isCh?"":"_en")+'.png"></div>',h='<div class="nc1">'+z.t("“升级服务”、“帮助”和“退出”已移动到帐号信息下，请点击查看")+"</div>",i='<div class="oy1"><a href="javascript:void(0)" target="_self" onclick="$S(\'dvTopnavNavGuide\').hide();" class="nui-txt-link nui-txt-link-hover">'+z.t("我知道了")+"</a></div>",j='<div class="tp1" style="left:'+e.left+"px;top:"+(e.bottom+12)+'px;">'+g+h+i+"</div>",k=new a.Component({html:'<div class="zS1">'+f+j+"</div>"});$S("dvTopnavNavGuide",k),k.render(document.body),k.getEl().click(function(){a.Event.cancelBubble()})}}}var c=w.getTotal(),d=a.LocalStorage.get("nav_guide_2020");d||a.Ext.guide&&!(c>1)||a.Ud.getProxy({field:["webmail.js.topnavGuide2020"],call:b})}function i(b,c){var d=this,e=$S("dvTopnavItem_"+b.name),f=$S("dvTopnavBox_"+b.name);if(e&&f){var g=e.el.dom.getBoundingClientRect(),h="none"===f.el.dom.style.display?"show":"hide";f.el.dom.style.left=g.left+"px",a.Event.fire(document.body,"click"),f[h](),a.Event.stop(),c&&c("show"===h),"account"===b.name&&"show"===h?$S("topNavAccountArrow").getEl().addClass("jL1"):$S("topNavAccountArrow").getEl().removeClass("jL1"),this.currentBox="show"===h?b.name:"",clearTimeout(d.currentBoxHider);try{"show"===h?(a.Event.listen(f.getDom(),"mouseenter",function(){clearTimeout(d.currentBoxHider)}),a.Event.listen(f.getDom(),"mouseleave",function(){clearTimeout(d.currentBoxHider),d.currentBoxHider=setTimeout(function(){f.hide();try{a.fly(".rZ0 a:focus").dom.blur(),$S("topNavAccountArrow").getEl().removeClass("jL1")}catch(b){}},1e3)})):(a.Event.unlistenAll(f.getDom(),"mouseenter"),a.Event.unlistenAll(f.getDom(),"mouseleave"),a.fly(".rZ0 a:focus").dom.blur())}catch(i){}}}function j(b){var c="dvTopAvatar",d=a("#"+c);if(d){var e=x;e.get($S("orgUid"),100,function(c){var e='<a href="#" class="nui-faceEdit nui-faceEdit-80"><img src="'+c+'" class="nui-faceEdit-face" alt="'+$S("uid")+z.t("的头像")+'" width="100" height="100" />'+'<span class="nui-faceEdit-tips">'+z.t("点击编辑头像")+"</span>"+"</a>";d.html(e),b._initAvatarEvented||(b._initAvatarEvented=!0,d.listen("click",function(){try{var b=$L("support.OptionSupport",this)}catch(c){return c}b.avatarUploader({uploader:function(){}}),a.Event.fire(document.body,"click"),a.Log.cache({Topnav20AccountAvatarClick:1})}),a.Listener.listen("user:avatarChanged",function(){j(b)}))})}}function k(){var b=$G.attrs.user.true_name;return a.String.trim(b)||(b=$S("uid")),b=a.String.encodeHTML(b),a.Listener.listen("options:displayNameModify",function(){a.fly("#msgboxAccountName").html($G.attrs.user.true_name)}),a.Ud.getProxy({field:["product.vipMember"],call:function(b){var c=b["product.vipMember"];c?a.fly("#msgboxAccountName").after(a.Icon.html({type:"plustag"})):a.fly("#msgboxAccountName").after(a.Icon.html({type:"plustag-disable",listeners:{click:{handler:function(){try{var b=$L("product.Privileges",this)}catch(c){return c}b.showDialog("plus","","nameup"),a.Log.cache({Topnav20AccountPlusIconClick:1})}}}}))}}),'<span id="msgboxAccountName">'+b+"</span>"}function l(){if(!$G.environment.isCh)return"";var b=a.Link.html({delegateTo:"self",text:z.t("详情"),extcls:"nui-txt-link",click:function(){try{var b=$L("interface.OptionInterface",this)}catch(c){return c}b.entry({subModName:"mailsecurity",link:"login_record"}),a.Event.fire(document.body,"click"),a.Log.cache({Topnav20AccountLoginInfoClick:1})}});return z.t("最近登录：")+'<span id="dvLogininfo"></span>'+b}function m(){if($G.environment.isCh){var b="dvLogininfo",c=a("#"+b);c&&!$S("TopnavRenderLogininfoData")&&($S("TopnavRenderLogininfoData",!0),a.Ajax.request({requestType:a.Ajax.XMLHTTP,method:a.Ajax.GET,rnd:!0,url:"/fgw/da-login-api/listLoginInfo?limit=1",call:function(b){try{var d=a.Eval.get(b.responseText);if(200==d.code){var e,f,g;if(d.result.list.length&&(e=d.result.list[0].addrInfo,f=d.result.list[0].loginTime,g=a.Date.format(new Date(f),"yyyy.MM.dd")),$G.environment.isCh&&e){var h="未知",i="UNKNOWN"!==e.country?e.country:"",j="UNKNOWN"!==e.province?e.province:"",k="UNKNOWN"!==e.city?e.city:"";if("中国"===i){var l=[];j&&l.push(j.replace(/省$/,"")),k&&l.push(k.replace(/市$/,"")),h=l.length?l.join(" "):h}else i&&(h=i);g+=" "+h}c.html(g||"暂无记录")}else c.html("暂无记录")}catch(m){c.html("暂无记录"),$S("TopnavRenderLogininfoData",!1)}}}))}}function n(){var b="dvTopRelevance",c=a("#"+b);if(c){var d=this,e=a.SenderList;y.allNewCount=0;var f=($S("domain"),y.relateAccount);y.emRelateAccounts,$S("showMobileAccountOnly");var g=a.SenderList.getMobile(),h=g;f&&f.length>0;var i;h?(i=g.address,g=g.address):i=z.t("手机号码@")+$S("domain")+($G.environment.isCh?'<span class="nui-txt-link">'+z.t("免费开通")+"</span>":"");var j=w.getTotal("unread");d.currentAccount;var k=[{text:d.hideMobileNumber(a.Support.trimAccount($S("orgUid"),!0))+'<span class="mU0"><strong>('+j+")</strong></span>",delegateTo:"self",listeners:[{name:"click",type:"dom",handler:function(){a.fly("#spnUid").html(d.hideMobileNumber(a.Support.trimAccount($S("orgUid"),!0))),d.currentAccount=$S("orgUid"),$S("mobile_sender",$S("orgUid")),$S("multiAccount:changed",!0),a.Log.cache({Topnav20AccountChangeClick:0})}}]}],l=!1,m=a.Support.getOuterAccount();m&&m.length>-1&&(l=!0);var n=e.getChinese(),o=n?n.address:"";l||o?(o?k.push({text:o,delegateTo:"self",listeners:[{name:"click",type:"dom",handler:function(){a.fly("#spnUid").html(o),d.currentAccount=o,e.isSender(o)&&$S("mobile_sender",o),$S("multiAccount:changed",!0),a.Log.cache({Topnav20AccountChangeClick:2}),a.Event.fire(document.body,"click")}}]}):l&&k.push({text:m+'<strong class="mU0"></strong>'+'<span class="nui-txt-link">'+z.t("网易通行证")+"</span>",delegateTo:"self",listeners:[{name:"click",type:"dom",handler:function(){a.fly("#spnUid").html(m),d.currentAccount=m,e&&e.isSender(m)&&$S("mobile_sender",m),$S("multiAccount:changed",!0),a.Log.cache({Topnav20AccountChangeClick:3}),a.Event.fire(document.body,"click")}}]}),k.push({text:d.hideMobileNumber(a.Support.trimAccount(i,!0)),onRender:function(){a.fly(".iw0").addClass("gF0")},delegateTo:"self",listeners:[{name:"click",type:"dom",handler:function(){if(h)a.fly("#spnUid").html(d.hideMobileNumber(g)),d.currentAccount=g,$S("mobile_sender",g);else{try{var b=$L("interface.OptionInterface",this)}catch(c){return c}b.entry({module:"LinkModule",link:"mobile_set"})}$S("multiAccount:changed",!0),a.Log.cache({Topnav20AccountChangeClick:3}),a.Event.fire(document.body,"click")}}]})):k.push({text:d.hideMobileNumber(a.Support.trimAccount(i,!0)),onRender:function(){},delegateTo:"self",listeners:[{name:"click",type:"dom",handler:function(){if(h)a.fly("#spnUid").html(d.hideMobileNumber(g)),d.currentAccount=g,$S("mobile_sender",g),a.Log.cache({Topnav20AccountChangeClick:1});else{if($G.environment.isCh){try{var b=$L("interface.OptionInterface",this)}catch(c){return c}b.entry({module:"LinkModule",link:"mobile_set"})}a.Log.cache({Topnav20AccountBindMobileClick:1})}$S("multiAccount:changed",!0),a.Event.fire(document.body,"click")}}]});var p=new a.Component({html:"<div></div>",items:k});c.html(""),p.render(c)}}function o(){function c(c){var e=c["product.vipMember"],f=e?"newplusSmall":"newplusSmall-disable",g=a.Icon.html({type:f,listeners:{click:{handler:function(){return e||b.open(a.Uri.getUrl("super_member",!0)+"crown","_blank"),a.Log.cache({Topnav20AccountPlusClick:1}),a.Event.stop(),!1}}}});d.prepend(g),a.Component.setEvents()}if($S("isFree")){var d=$S("topNavAccountLink")&&$S("topNavAccountLink").el;d&&a.Ud.getProxy({field:["product.vipMember"],call:c})}}function p(){var b=$G.get("topNavPrivilegeConf"),c=a.Icon.html({type:"privilege"}),d=a.Icon.html({type:"moreprivilege"}),e=a.Icon.html({type:"morearrow"}),f={html:'<div class="yO0">'+d+z.t("更多特权")+e+"</div>"},g=[];a.Array.each(b,function(b,c){g.push({html:"<li>"+c.text+"</li>",listeners:[{name:"click",type:"dom",handler:function(){c.click&&c.click(this),a.Event.fire(document.body,"click")}}]})});var h={html:'<ul class="zQ0 Bz0" '+($G.environment.isCh?"":'style="width:310px;"')+"></ul>",items:g},i=new a.Component({html:'<div class="EN0"></div>',items:[f,h]}),j={html:'<div class="EN0"></div>',items:[{html:'<div class="yO0 jf1">'+c+z.t("升级邮箱会员，尊享多项优惠福利")+"<span>"+z.t("立即开通")+"<span></div>",onRender:function(){var b=this;a.Ud.getProxy({field:["product.vipMember"],call:function(a){var d=a["product.vipMember"];d&&b.setText(c+z.t("邮箱会员")+"<span>"+z.t("立即续费")+"<span>")}})},listeners:[{name:"click",type:"dom",handler:function(){try{var b=$L("product.Privileges",this)}catch(c){return c}b.showDialog("plus","","upgrade"),a.Event.fire(document.body,"click"),a.Log.cache({Topnav20AccountPlusLinkClick:1})}}]}]},k=new a.Component({html:'<div class="ih2"></div>',items:[j,i]});return k}function q(){var b=$G.get("topNavHelpConf"),c=a.Icon.html({type:"morearrow"}),d={html:'<div class="yO0">'+z.t("帮助")+c+"</div>"},e=[];a.Array.each(b,function(b,c){var d;d="wechat"===c.mode?{html:'<li class="pZ1"><h4>'+c.modeConfig.title+'</h4><img src="'+c.modeConfig.qrcode+'"><h5>'+c.modeConfig.desc+"</h5></li>"}:{html:'<li class="'+(c.split?"rJ2":"")+'">'+c.text+"</li>",onRender:function(){c.onRender&&c.onRender.call(this)},listeners:[{name:"click",type:"dom",handler:function(){c.click&&(c.click(this),a.Event.fire(document.body,"click"))}}]},e.push(d)});var f={html:'<ul class="zQ0 Bz0" style="top:auto; bottom:-80px;"></ul>',items:e},g=new a.Component({html:'<div class="ov1 EN0"></div>',items:[d,f]});return g}function r(){var b="dvTopAccountManager",c=a("#"+b);if(c){y.allNewCount=0;var d=($S("domain"),y.relateAccount);y.emRelateAccounts,$S("showMobileAccountOnly");var e=d&&d.length>0,f=[];if(e)for(var g=0;g<d.length;g++){var h=d[g],i=(y.relateAccountCount[h]||{}).newCount,j=a.Support.trimAccount(h)+'<span id="_account_'+h+'">'+(i?"<strong>("+i+")</strong>":"")+"</span>",k={html:"<li>"+j+"</li>",delegateTo:"self",listeners:[{name:"click",type:"dom",handler:a.Function.bind(function(b){y.beforeSwitch(b),a.Log.cache({Topnav20AccountSwitchClick:1})},this,h)}]};f.push(k)}else a.fly("#dvTopAccountManagerLink").css({margin:"0 0 0 -4px",padding:"5px 0 15px"});var l=new a.Component({html:'<ul class="fi1 Bz0"></ul>',items:f});c.html(""),l.render(c)}}function s(a){if(!a)return a;var b=a,c="";a.indexOf("@")>0&&(b=a.split("@")[0],c="@"+a.split("@")[1]);var d=/^1\d{10}$/.test(b);if(d){var e=b.substring(0,3),f=b.substring(b.length-4,b.length);b=e+"****"+f,a=b+c}return a}function t(a){var b=a.split("@");return/^1\d{10}$/.test(b[0])}try{var u=$L("util.Misc")}catch(v){return v}try{var w=$L("init.Folder")}catch(v){return v}try{var x=$L("init.Avatar")}catch(v){return v}var y,z=new $I18N("init.Topnav"),A=a.createClass($N("init.Topnav"));a.Object.extend(A,{currentAccount:"",currentBox:"",currentBoxHider:null,init:c,genDownloadBox:d,genSettingBox:e,genAccountBox:f,showAccountBox:g,toggleBox:i,navGuide:h,renderAvatar:j,renderUsername:k,renderLogininfo:l,renderLogininfoData:m,renderRelevance:n,renderAccountHelper:q,renderAccountManager:r,renderAccountPrivilege:p,renderSuperMemberIcon:o,hideMobileNumber:s,isPhoneAccount:t})}($,window),function(a,b,c){function d(){sb._initialize(),a.Frame.init(),a.Frame.initLayOut(),sb._initUserData();try{var b,c=a.Cookie.get("S_INFO").split("|");if(c&&c.length>5&&(b=c[5],"mailmaster_ios"===b||"mail_ios"===b||"mailmasterpro"===b||"mailmaster_android"===b||"neteasemail_android"===b))return $S("isMailMasterLogined",!0),void 0}catch(d){}}function e(){sb._addExtraLogo(),a.Thread.run(function(){sb._initSearch()},0),a.Frame.initSplit(),sb.setGlobalEvent(),sb.setGlobeTimer(),sb.setCookie(),a.Frame.setBodyCss(),a.Frame.setSkinClass(),a.Thread.delay(function(){sb.displayTitle()},0)}function f(b,c){var d=a.SenderList.getMobile(),e=d;if(c&&!e)return b;if(d){var f=d.address.split("@")[0];if(-1===b.indexOf(f))return b}var g=b.split("@");return g[0].replace(/^m(1[345678]\d{9})(?:_\d+)?$/,"$1")+"@"+g[1]}function g(){function c(b){var c=!1;if(b&&b.Contacts){var d=b.Contacts;if(d.changed&&(d.info.inited||d.info.length))return d.info.length?a.Nav.addItem("contactMail"):a.Nav.update(),void 0}c&&(a.Context.navAdded=!0);var e=["Folder","Tag","Defer","Contacts"];a.Nav.update(),b&&b.Folder&&b.Folder.changed&&sb.displayTitle();var f=!1;if(b)for(var g=0,h=e.length;h>g;g++){var i=b[e[g]];if(i&&i.changed){f=!0;break}}f&&qb.fire("accountRelate:getCount")}function d(b){if(!a.Browser.firefox()||3!==a.Event.get().which-0){var c=a.Event.getTarget(b,!0);return c&&c.tagName&&"input"===c.tagName.toLowerCase()?(("checkbox"===c.type||"radio"===c.type)&&c.blur(),void 0):(c&&a.Array.each(new Array(3),function(){if("javascript:void(0);"===c.href||"javascript:void(0)"===c.href||"javascript:;"===c.href)return a.Event.cancel(b),a.BREAK;var d=c.parentNode;return d?(c=d,void 0):a.BREAK}),void 0)}}qb.listen("global:uidChanged",function(b){a.fly("#spnUid").html(b),$S("mobile_sender")&&$S("mobile_sender")!==b?$S("mobile_sender",""):$S("mobile_sender",b)}),qb.listen("folder",function(){"folder:add"!==a.Context.event&&(a.Nav.show(),a.Listener.fire("accountRelate:getCount"))}),qb.listen("tag",function(){"tag:add"!==a.Context.event&&(a.Nav.show(),qb.fire("accountRelate:getCount"))}),qb.listen("letter:update",function(){setTimeout(function(){a.Nav.show(),qb.fire("accountRelate:getCount")},0)}),qb.listen("folder:add",function(){a.Nav.createNav(),sb.displayTitle(),a.Context.navAdded=!0}),qb.listen("mailcenter:add",function(){qb.one("global:navchange",function(b){b&&(a.Context.navAdded=!0)})}),qb.listen("sync:request",c),qb.listen("sync:cache",c),qb.listen("global:showpopup",function(){sb.showPopup()}),qb.listen("tag:add",function(){var b=a.Nav.config==$G.get("navConf");if(b)a.Nav.createNav();else{var c=a.Array.findObject($G.get("navConf").tree,"name","tag");a.Nav.initItemData(c)}qb.fire("accountRelate:getCount")}),qb.listen("addr:dataInit",function(){$S("contactInit",!0)}),qb.listen("global:navchange",function(b){b&&(a.Context.navAdded=!0)}),qb.listen("global:sweeplogout",function(b){b&&b.body&&"sweeplogin"===b.body.product&&a.Misc.logout()}),qb.listen("option:entry",function(a){a=a||{},"options.MailSecurityModule"===a.sModuleName&&$S("sslSecondauth",null)}),a.Event.listen(document,"keypress",gb.globalListener),a.Event.listen(document,"keyup",function(c){var d=c||b.event||rb.event,e=d.keyCode||d.which||d.charCode,f=d&&d.target&&d.target.nodeName&&("TEXTAREA"===d.target.nodeName||"INPUT"===d.target.nodeName);if(!f)switch(e){case 27:var g=a.Context.getModule();!g||"read.ReadModule"!==g.mtype&&"thread.ThreadModule"!==g.mtype||g.back(),$S("accountMenu")&&!$S("accountMenu").hidden&&$S("accountMenu").hide();break;case 37:try{a.Nav.focus()}catch(h){}break;case 39:try{var i=a(a.Context.module.container);i.findFly("h2").dom.focus(),a.Event.fire(i.dom,"focus")}catch(h){}}}),a.fly("#dvNavTree").listen("scroll",function(){var b=a.fly("#dvNavTree").dom.scrollTop;b-0?a.fly("#dvNavTop").addClass("rh0"):a.fly("#dvNavTop").removeClass("rh0")}),sb._isIE7||(a.fly("#dvNavTree").listen("mouseover",function(){a.fly("#dvNavTree").addClass("oU0")}),a.fly("#dvNavTree").listen("mouseout",function(){a.fly("#dvNavTree").removeClass("oU0")})),a.Event.listen(b,"resize",function(){var b=a.Context.getModule();b&&b.resize&&b.resize(),sb._isIE6,sb._isIE6||sb._isIE7||sb._isIE8?(a.Frame.initLayOut(sb._isIE6),a.Frame.setColumns()):a.Frame.setColumns(),$S("clientHeight",document.documentElement.clientHeight),$S("clientWidth",document.documentElement.clientWidth),qb.fire("global:resize")}),a.Event.listen(document,"click",d),setTimeout(function(){b.gAd.getByCallback("close",{},function(a){b._aCloseAd=a.close})},1e3),setTimeout(function(){a.Event.listen(b,"unload",function(){if($S("ad").showClose){var c=b._aCloseAd;if(c&&c.length){var d=c[Math.round(Math.random()*(c.length-1))],e="width=700,height=350, toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, status=no";d&&""!==d&&b.open(d,"vip_720",e)}}a.isUnload=!0}),b.onbeforeunload=function(){try{var b=a.Context.getModule();if(b){var c=b.exit("",function(){},"beforeunload");if(!c){var d=pb.t("设置页");switch(b.mtype){case"options.SignModule":d=pb.t("签名");break;case"compose.ComposeModule":d=pb.t("信件")}return pb.t("确定放弃对此")+d+pb.t("所作的操作？")}}}catch(e){}}},200),a("#h1Logo").listen("click",function(){a.JS.go({module:a.Context.defaultModule}),a.Log.cache({FrameLogoClick:1})}),"ononline"in b&&a.Event.listen(b,"online",function(){qb.fire("global:network",!0),sb.checkNetWork(!0)}),"onoffline"in b&&a.Event.listen(b,"offline",function(){qb.fire("global:network",!1),sb.checkNetWork(!1)})}function h(){b.setInterval(function(){ib.request()},18e4),b.setTimeout(function(){try{var a=$L("support.MailCenter",this)}catch(b){return b}a.receiveAll({auto:!0})},18e4),b.setTimeout(function(){a.Frame.checkCssLoaded()},5e3)}function i(b,c){var d=jb.list(),e=d[b];if(e){c=e.alias;for(var f={xtype:"menu",groups:[{items:[],type:"inline"},{items:[{text:pb.t("改名"),click:function(){try{var a=$L("support.Tag",this)}catch(c){return c}a.modify({name:b,onlyName:!0,from:"nav"})}},{text:pb.t("删除"),click:function(){try{var a=$L("support.Tag",this)}catch(c){return c}a.remove({name:b,from:"nav"})}}]}],width:"143px"},g=0;20>g;g++)f.groups[0].items.push({text:a.Tag.html({subclass:"iconTag",type:g}),click:a.Function.bind(function(d){try{var e=$L("support.Tag",this)}catch(f){return f}e.modify({name:b,alias:c,color:d,from:"nav"}),a.Event.cancelBubble()},this,g)});return new a.Menu(f)}}function j(){function c(a){for(var b=a.split("&"),c=0;c<b.length;c++)if(b[c].indexOf("ntes_mail_firstpage=")>-1){var d=b[c].split("=");return 2==d.length?d[1]:""}return""}function d(b){var c=b.module,d=b.param,e={welcome:[a.Context.defaultModule],read:["read.ReadModule",d],folderMain:["mbox.FolderModule"],compose:["compose.ComposeModule"],folder:["mbox.ListModule",d],address:["contact.ContactModule"],pop3:["mailcenter.MailCenterModule"],optionMain:["options.BaseSetModule"],personal:["options.PersonalModule"],preference:["options.BaseSetModule"],signature:["options.SignModule"],autoresp:["options.BaseSetModule",{inputName:"autoReply"}],searchmail:["options.SearchModule"],mailfilter:["options.MailFilterModule"],safelist:["options.AntiSpamModule"],refuselist:["options.BaseSetModule"],autofwd:["options.BaseSetModule",{inputName:"autoForward"}],sender:["options.SenderModule"],junkfilter:["options.AntiSpamModule",{inputName:"antiSpamLevel"}]},f=e[c];return f?{module:f[0],param:f[1]}:b}var e,f,g,h,i=($S("domain"),$S("fullDomain")),j=$S("attrs").user.firstpage,k=a.Cookie.get("ntes_mail_firstpage");k&&a.Cookie.set("ntes_mail_firstpage","normal",{path:"/",domain:i}),(""===k||"normal"==k)&&(k=1==j-0?"inbox":"");var l=sb._getHash(rb.location);try{if(l){if(l=d(l),l.type)$E([l.type+"."+l.value],function(a){a.entry(l.param)});else{if(l.module==a.Context.defaultModule)return;"options.OptionOutLinkModule"==l.module&&(l.module="options.LinkModule"),"compose"==l.module&&(l.module="compose.ComposeModule"),$E(["module."+l.module],function(b){var c=b["interface"];if(c)if("outlink.OutlinkModule"==l.module)if(l.param&&l.param.method){var d=l.param&&l.method||"gotoApp";try{var e=$L("interface.AppCenterInterface",this)}catch(f){return f}e[d](l.param)}else c.goOutlink(l.param),l.param&&l.param.addApp&&a.AppManager.addApp(a.AppManager.getAppsList(),l.param.addApp,function(){a.Nav.update()});else c.entry(l.param);else if("options.LinkModule"==l.module){try{var g=$L("interface.OptionInterface",this)}catch(f){return f}g.entry({module:"options.LinkModule",linkName:l.param.subModName||l.param.linkName||l.param.link,linkext:l.param.linkext})}else if("apps.ManageModule"==l.module){try{var e=$L("interface.AppCenterInterface",this)}catch(f){return f}e.entry()}else a.JS.go({module:l.module,param:l.param})})}$S("showHashPage",!0)}else{if(""===k&&(k=c(rb.location.href)),!k)return;$S("showHashPage",!0);var m,g,f,h,e;if(k.indexOf("|")>-1?(e=k.split("|")[0],f=k.split("|")[1]):e=k,e.indexOf("read")>-1){var n=k.split(",");e=n[0],g=n[1],h=n[2]}if(e.indexOf("compose")>-1){var n=k.split(",");e=n[0];var o=n[1];3==n.length&&(m=n[1],g=n[2])}switch(e){case"inbox":try{var p=$L("interface.MboxInterface",this)}catch(q){return q}p.entry({fid:1});break;case"file_center":try{var r=$L("product.FileCenter",this)}catch(q){return q}r.entry(f);break;case"outlink":if("file_center"!=f){try{var s=$L("interface.OutlinkInterface",this)}catch(q){return q}s.goOutlink({key:f})}break;case"netfolder":try{var r=$L("product.FileCenter",this)}catch(q){return q}r.entry("nf_center");break;case"compose":if(m)switch(m){case"draft":try{var t=$L("interface.ComposeInterface",this)}catch(q){return q}t.composeDraft({id:g});break;case"forward":case"reply":case"replyall":break;case"to":var u={info:{to:[g]}};try{var t=$L("interface.ComposeInterface",this)}catch(q){return q}t.compose(u)}else{var u;o&&(u={info:{to:[o]}});try{var t=$L("interface.ComposeInterface",this)}catch(q){return q}t.compose(u)}break;case"read":try{var v=$L("interface.ReadInterface",this)}catch(q){return q}v.entry({mid:g});break;case"app":try{var w=$L("interface.AppCenterInterface",this)}catch(q){return q}w.entry();break;default:if(e){try{f=a.Eval.get(f)}catch(q){f={type:f}}b.setTimeout(function(){a.JS.go({module:e,param:f})},500)}}}}catch(x){}}function k(a){var b,c=a.hash,d="module";if(0===c.indexOf("#module="))try{b=decodeURIComponent(c.replace("#module=",""))}catch(e){}if(b){var f={},g=b.split("|")[0],h=b.split("|")[1];if(g&&(f[d]=g.replace(/_\d*/,"")),h)try{h=decodeURIComponent(h),f.param=kb.parseJson(h)}catch(i){f.param={}}return f}if(0===c.indexOf("#product="))try{d="product",b=decodeURIComponent(c.replace("#product=",""))}catch(e){}}function l(a){var b,c,d,e=0;if(0===a.length)return e;for(b=0,d=a.length;d>b;b++)c=a.charCodeAt(b),e=(e<<5)-e+c,e|=0;return e}function m(){if(!$S("showingUserGuide")&&!$S("SupportShowingMsgbox")){try{var b=a.Browser.getInfo();if("android"==b.os||"ipad"==b.os||"iphone"==b.os||"ipod"==b.os)return}catch(c){}if($S("uid"),"1"==a.Cookie.get("mail_isleak"))return a.Cookie.set("mail_isleak","0",{path:"/",domain:$S("fullDomain")}),a.Msgbox.show({title:pb.t("温馨提示"),content:pb.t("近日多家网站帐号密码大规模泄露，如果您在其它网站设置了和网易相同的帐号密码，请您尽快修改密码，确保您的帐号安全。"),okText:pb.t("立即修改"),type:"confirm",ok:function(){a.Nav.entry("OptionInterface",{module:"LinkModule",linkName:"passwd"})}}),$S("SupportShowingMsgbox",!0),void 0;if(a.Cookie.get("NTES_MOBILEMAIL_REGUSER")==$S("orgUid").replace("@","#")&&$S("isFree"))return a.Msgbox.show({title:"",content:'<iframe src="'+a.Uri.getUrl("http://e.mail."+$S("domain")+"/mobilemail/official/popup.do?uid="+$S("orgUid"))+'"  border="0" style="width:100%;height:420px;" scrolling="no" frameborder="0"></iframe>',contentType:"custom",width:"540px",okText:pb.t("进入邮箱"),noFooter:!0}),$S("SupportShowingMsgbox",!0),void 0;var d=sb.getOuterAccount();if(d&&a.Cookie.get("mail_ex_firstLogin")&&"0"!==a.Cookie.get("mail_ex_firstLogin"))return $S("isyeah")?a.Cookie.set("mail_ex_firstLogin","0",{path:"/",domain:$S("domain")}):a.Cookie.set("mail_ex_firstLogin","0",{path:"/",domain:$S("fullDomain")}),a.Msgbox.show({icon:"suc",title:pb.t("该网易邮箱帐号已与外域邮箱帐号")+"<br>"+d+pb.t("绑定。"),okText:pb.t("我知道了")}),$S("SupportShowingMsgbox",!0),void 0;if($S("isFree")){var e=$S("attrs").user.user_creation_date,f=kb.getTime();if(e.getFullYear()==f.getFullYear()&&e.getMonth()==f.getMonth()&&e.getDate()==f.getDate())a.Ajax.jsonp(a.Uri.getUrl("//reg.email.163.com/unireg/call.do?cmd=register.welcome.check&uid="+$S("orgUid")),function(b){b&&(a.Msgbox.show({title:"",content:'<iframe src="'+a.Uri.getUrl("//regall.mail.$domain$/unireg/call.do?cmd=register.welcome.start&uid="+$S("orgUid"))+'"  border="0" style="width:100%;height:322px;"" scrolling="no" frameborder="0"></iframe>',contentType:"custom",width:"540px",okText:pb.t("进入邮箱"),noFooter:!0}),$S("SupportShowingMsgbox",!0))});else{var g=a.Cookie.get("P_INFO").split("#");if(g[3]&&1==g[3].split("|")[0]&&"0"==a.Ud.get({field:"huodong_option",flag:"closechangepass"})){var h=new a.Msgbox({title:pb.t("安全提醒"),noFooter:!0,contentType:"normal",content:'<div class="Patch118-safe">   <div class="Patch118-safe-tit">       <b class="ico" style="width:46px;height:48px; background:url('+$G.environment.mimgUrl+'xm/webmail/app-passprotec/110907/img/bg.png) no-repeat -48px -31px"></b>'+'       <p class="txt-14 txt-b txt-impt" style="padding-bottom:20px">'+pb.t("系统监测到您的邮箱可能被盗用发垃圾邮件，")+"<br />"+pb.t("请您立即修改密码。")+"</p>"+a.Button.html({text:pb.t("马上修改密码"),type:"impt",click:function(){h.close(),a.Nav.entry("OptionInterface",{module:"LinkModule",linkName:"option_passwd"})}})+"       &nbsp;&nbsp;"+a.Button.html({text:pb.t("以后不再提醒"),click:function(){a.Ud.set({field:"huodong_option",flag:"closechangepass",value:"1"}),h.close()}})+"   </div>"+'   <div class="Patch118-safe-ct">'+"       "+pb.t("您可以检查以下几项判断帐号是否正常：")+'       <ol style="padding:5px 0">'+"           <li>1. "+a.Link.html({text:pb.t("查看登录详情"),target:"_blank",link:"https://reg.163.com/userLoginInfo.jsp?username="+$G.user.uid})+pb.t("，是否有")+"<strong>"+pb.t("不属于您的IP地址")+"</strong>登录；</li>"+"           <li>2. "+a.Link.html({text:pb.t("查看发信记录"),target:"_blank",link:"https://"+$S("host")+"/app/service/sendCheck.jsp?sid="+$G.user.sid})+pb.t("，是否有")+"<strong>"+pb.t("不是您本人")+"</strong>发送的邮件；</li>"+"           <li>3. "+a.Link.html({text:pb.t("进入收件箱"),click:function(){try{var a=$L("interface.MboxInterface",this)}catch(b){return b}h.close(),a.entry({fid:1})}})+pb.t("，查看是否收到了")+"<strong>"+pb.t("大量退信")+"</strong>。</li>"+"       </ol>"+"       "+pb.t("为保障您的帐号安全，请您务必尽快修改邮箱密码，并")+a.Link.html({text:pb.t("完善密码保护方式"),target:"_blank",link:"https://reg.163.com/chg/ShowBaomiInfo.jsp"})+pb.t("。")+"   </div>"+"</div>"});a.Component.setEvents(),$S("SupportShowingMsgbox",!0)}}}}}function n(){var b,c=a.Cookie.get("S_INFO")||"",d=c.split("|"),e=["163.com","126.com","188.com","yeah.net"];if(d.length>4)for(var f=(d[4]||"").split("#"),g=f.length-1;g>=0;g--){var h=f[g],i=-1,j=!1;if(i=h.indexOf("@"),i>-1){for(var k=h.substring(i),l=e.length-1;l>=0;l--)if(k.indexOf(e[l])>-1){j=!0;break}if(!j){b=h;break}}}return b}function o(){}function p(){var c=function(){var c=a.Context.getModule();if(c&&"compose.ComposeModule"==c.mtype){var d=c.exit("",function(){},"beforeunload");if(!d){try{var e=$L("interface.ComposeInterface",this)}catch(f){return f}return e.sessionBreak(),void 0}}b.onbeforeunload&&b.onbeforeunload(),$S("uid")||$G.user.uid;var g=($S("showMobileAccountOnly"),$S("domain"));if(b.URS){var h={"163.com":["mail163","CvViHzl","1e48b2e565768181288e9a59d7b933a0","mail.163.com","163.com","@163.com","dl.reg.163.com/webzj/m163_2/pub/","#3782CD"],"126.com":["mail126","QdQXWEQ","f1ba9632db5b2f7987218e7764924926","mail.126.com","163.com,126.com","@126.com","passport.126.com/webzj/m126_1.0.1/pub/","#40A254"],"yeah.net":["mailyeah","ruHHKUR","861f73cf45c7a1dc6d7740603712c9eb","mail.yeah.net","163.com,yeah.net","@yeah.net","passport.yeah.net/webzj/myeah_2/pub/","#C61015"],"vip.163.com":["mailvip","NWfbNKD","09e52ab4673b5c940af7516779176017","vip.163.com","vip.163.com","@vip.163.com","","#2F82B9"],"vip.126.com":["mailvip126","vsVmgGt","72ea79ecf408da3156c8a893b0e6e313","vip.126.com","vip.126.com","@vip.126.com","","#2EB8A1"],"188.com":["mail188","kCfoDyU","0b447096727b9ca9ceb4708633d07131","www.188.com","188.com","@188.com","","#B6882E"]},i={"163.com":"https://mail.163.com/entry/cgi/ntesdoor?","126.com":"https://mail.126.com/entry/cgi/ntesdoor?","yeah.net":"https://mail.yeah.net/entry/cgi/ntesdoor?","vip.163.com":"https://reg.vip.163.com/enterMail.m?","vip.126.com":"https://reg.vip.126.com/enterMail.m?","188.com":"https://reg.188.com/enterMail.m?"},j="df={0}&from={1}&style={2}";"https:"==$G.environment.protocol&&(j+="&allssl=true"),"hw"==a.Cookie.get("mail_dist")&&(j+="&mail_dist=hw");var k=i[g]+j,l=7,m="webmail",n="web";k=sb.format(k,m,n,l);var o=h[g],p={product:o[0],promark:o[1],productKey:o[2],host:o[3],domains:o[4],prdomain:o[5],bid:"URS_LOGIN_DIV",page:"login",newCDN:1,version:3,cssDomain:"https://mimg.127.net/",cssFiles:"p/urs/css/webmail_urs_"+o[0]+".css",logincb:function(){top.location=k}};$S("is126")&&(p.cookieDomain="126.com"),$S("isyeah")&&(p.cookieDomain="yeah.net");var q=b.URS_RELOGIN;if(!q){var q=new b.URS(p);b.URS_RELOGIN=q}q.showIframe()}};b.URS?c():(a(document.body).append('<div id="URS_LOGIN_DIV"></div>'),a.Support.loadScript("https://urswebzj.nosdn.127.net/webzj_cdn101/message.js",function(){c()}))}function q(){if($S("isFree")||$S("isVip"))return a.Support.newRelogin(),void 0;var c=a.Context.getModule();if(c&&"compose.ComposeModule"==c.mtype){var d=c.exit("",function(){},"beforeunload");if(!d){try{var e=$L("interface.ComposeInterface",this)}catch(f){return f}return e.sessionBreak(),void 0}}b.onbeforeunload&&b.onbeforeunload();var g=$S("uid")||$G.user.uid,h=$S("showMobileAccountOnly"),i=$S("domain"),j="",k="",l="",m="";if($S("isFree")){l="mail"+i.split(".")[0];var n={"126.com":"https://mail.126.com/entry/cgi/ntesdoor?","163.com":"https://mail.163.com/entry/coremail/fcg/ntesdoor2?","yeah.net":"https://mail.yeah.net/entry/cgi/ntesdoor?"},o="df={3}&from={4}&funcid=loginone&passtype=1&style={1}&product={2}&uid={0}";"hw"==a.Cookie.get("mail_dist")&&(o+="&mail_dist=hw"),k=n[i]+o}else if($S("isVip")){l="mailvip";var p={"vip.163.com":"https://reg.163.com/logins.jsp?product={2}&type=1&url=https://reg.vip.163.com/enterMail.m?style%3D{1}%26language%3D0%26enterVip%3Dtrue%26verifycookie%3D1%26username%3D{0}&url2=https://reg.vip.163.com/logon.m?style%3D{1}%26language%3D0%26enterVip%3Dtrue%26verifycookie%3D1%26username%3D{0}","188.com":"https://reg.163.com/logins.jsp?product={2}&type=1&url=https://reg.188.com/enterMail.m?style%3D{1}%26language%3D0%26enterVip%3Dtrue%26verifycookie%3D1%26username%3D{0}&url2=https://reg.188.com/logon.m?style%3D{1}%26language%3D0%26enterVip%3Dtrue%26verifycookie%3D1%26df%3Dwebmail_relogin%26username%3D{0}","vip.126.com":"https://reg.163.com/logins.jsp?product={2}&type=1&url=https://reg.vip.126.com/enterMail.m?style%3D{1}%26language%3D0%26enterVip%3Dtrue%26verifycookie%3D1%26username%3D{0}&url2=https://reg.vip.126.com/logon.m?style%3D{1}%26language%3D0%26enterVip%3Dtrue%26verifycookie%3D1%26df%3Dwebmail_relogin%26username%3D{0}"};k=p[i]}var q=7,r="webmail",s="web";k=sb.format(k,g,q,l,r,s),m="password={0}&username={1}&style=1";var t=a.Msgbox.show({title:pb.t("您的邮箱登录超时，请重新登录"),type:"prompt",inputLabel:pb.t("邮箱密码"),inputType:"password",okText:pb.t("登 录"),footext:[{xtype:"link",text:pb.t("返回到邮箱登录首页"),click:function(){sb.logout()
}}],ok:function(c){if(!a.String.trim(c))return pb.t("密码不能为空");var d=h?j:g;b.gAd.getBiz=null,b.onbeforeunload=null,a.Ajax.request({method:"post",requestType:a.Ajax.IFRAME,url:k,body:a.Support.format(m,c,d),target:b.gUseInIframe?"_parent":"_top"})}}),u=t.getEl().find("TBODY").dom,v=u.insertRow(0),w=v.insertCell(-1);w.className="nui-form-title",w.innerHTML=pb.t("用户名");var w=v.insertCell(-1);w.className="nui-form-cont",w.innerHTML=h?j:g}function r(b){if(("boolean"==typeof b||sb._isIe)&&!a.isUnload){var c,d,e,f=$S("network"),g=a("#oClientCaps"),h=null;!g&&sb._isIe&&(g=document.createElement("DIV"),g.style.display="none",g.id="oClientCaps",g.addBehavior&&g.addBehavior("#default#clientCaps"),document.body.appendChild(g));try{var i=g.connectionType||g.dom.connectionType;"undefined"!=typeof i&&(h="offline"==i),g.destroy()}catch(j){}if(h===!0||b===!1){if(0===f)return;c=pb.t("网络连接可能不正常，请注意保存网页上编辑的内容"),f=0,d=0;try{var k=$L("interface.ComposeInterface",this)}catch(l){return l}k.connectBreak()}else{if(h!==!1&&b!==!0)return;if(0!==f)return;c=pb.t("网络连接正常"),f=1,d=5e3,e=!0}$S("network",f),a.Tips.show({succ:e,text:c,expire:d})}}function s(){a.Ajax.jsonp(a.Uri.getUrl("https://appconf.mail.163.com/mailmaster/eu/check.do?product=webmail"),function(c){if(c&&200==c.code&&c.data.isEu){var d="https://mail.163.com/html/181102-mailPrivacy/";$S("isVip")&&(d="http://vip.163.com/vip/register/privacypolicy.html"),a.fly(".tY0").prepend('<div class="DZ0" id="dvTopRemind"><div class="zc0"><div class="zb0"></div><div class="za0">'+pb.t("我们检测到您的访问地址位于中国境外，我们根据用户所在地更新发布了英文版本隐私政策（")+'<a href="'+d+'" target="_blank">'+pb.t("请点击阅读Private Policy")+'</a>），该版本自本通知之时起适用于您，<br>同时页面http://gb.corp.163.com/gb/legal.html中的中文版本隐私政策将不再适用于您。</div></div><a href="javascript:void(0);"target="_self"class="xT0" id="dvTopRemindClose"></a></div>');var e=a.fly(".DZ0").innerHeight(),f=document.body,g=b.innerHeight;f.style.top=e+"px",f.style.height=100*((g-e)/g)+"%",f.style.minHeight=100*((g-e)/g)+"%",a.fly("#dvTopRemindClose").listen("click",function(){a.fly("#dvTopRemind").hide(),f.style.top="0px",f.style.height="100%",f.style.minHeight="100%"})}})}function t(b){var c="nui-ico-phone",d="nui-ico-phone-disabled",e=a("."+c);if(e)for(var f=e.doms.length-1;f>=0;f--){var g=e.doms[f];a(g).removeClass(d)}$S("reserveMobile",b)}function u(){if($S("isVip"))ob.goOutLink("appManager",pb.t("邮箱应用设置"),a.Uri.getUrl("app_manager"));else if(a.Ext.appCenter){try{var b=$L("interface.OutlinkInterface",this)}catch(c){return c}b.goOutlink({key:"recommend_app",title:pb.t("应用中心"),group:"appMoudle",fullScreen:!0})}else a.JS.go({module:"apps.ManageModule"})}function v(a,b){return b=b||"png",$G.environment.mimgUrl+"p/images/app/"+a+"."+b}function w(b){function c(){k=$S("searchSelect").getDom().value,e()}function d(b,d,e){for(var f=[],g=0;g<b.length;g++)f.push('<option value="'+b[g].value+'" '+("flag"==e?'class="nui-txt-flag'+b[g].value+'"':"")+">"+b[g].text+"</option>");return'<select class="nui-txt-s12 '+(d?"":"ix0")+'" id="sel'+e+'" style="display:none;">'+f.join("")+"</select>"+a.Select.html({delegateTo:l.getDom(),options:b,selectedchange:function(b,d){this.getEl().pre().dom.value=b,a.Event.cancelBubble(d),c()}})}function e(){$S("searchType",k);for(var a=l.getEl().find("TABLE").dom,b=a.rows,c=0;c<b.length;c++)b[c].style.display=b[c].id&&b[c].id.split("_")[0]!=k?"none":""}function f(b,c,d){var e=parseInt(c,10)||0;if(e.toString()!=c||1>e)return new a.Msgbox({content:pb.t("“时间范围”必须填写正整数，请重新输入。"),type:"confirm",ok:function(){}}),!1;var f=e*(d-0);return b?f+"":a.Date.dateAdd(new Date,0-f)}function g(){var b={fid:a.fly("#"+D.mail.mailFolder.id).dom.value,dom:l.getDom(),conf:{windowSize:$S("attrs").user.maxlist,order:"date",desc:!0,returnTag:!0},ignoreCase:!0};b.match=D.mail;var c=z.getChecked();b.match.inSubject=!!c[0],b.match.inFromAndTo=!!c[1];var d=lb.getSearchBody(b);if(d){try{var e=$L("interface.MboxInterface",this)}catch(f){return f}e.entry(d),$S("searchMenu").hide()}else a.Msgbox.show({title:pb.t("请至少选择一项条件或者填写一项关键字！")})}function h(){var b={key:a.fly("#nfKey").dom.value};try{var c=$L("product.FileCenter",this)}catch(d){return d}c.entry("nf_center",{search:b})}function i(){var b={fid:a.fly("#selattFolder").dom.value,fromAddress:B.getValue()};b.key=A.getValue();var c=C.getValue();if(a.String.trim(c)){var d=f(!0,c,a.fly("#selattachSentDateLimitType").dom.value);if(!d)return;b.sentDate=d}a.fly("#selattachFileType").dom.selectedIndex>0&&(b.attType=a.fly("#selattachFileType").dom.value);try{var e=$L("product.FileCenter",this)}catch(g){return g}e.entry("fj_center",{search:b})}var j=a.Folder,k=$S("searchType")||"mail",b=b||"",l=$S("searchMenu");if(l)return"none"!=l.getDom().style.display?l.hide():(l.show(),k="mail",$S("searchSelect").getDom().value=k,a.Component.getItem($S("searchSelect").getEl().next()).setSelected(0),e(),$S("mailKeyInput").setValue(b||"")),l;for(var m=[{value:"mail",text:pb.t("邮件")},{value:"attach",text:pb.t("附件")},{value:"nf",text:pb.t("网盘")}],n=[],o=j.list("system").concat(j.list("custom").concat(j.list("pop"))),p=0;p<o.length;p++){var q=o[p];n.push({value:q.id,text:q.name})}var r=n.slice(0);r.splice(0,0,{value:-2,text:pb.t("所有文件夹")}),n.splice(0,0,{value:0,text:pb.t("所有文件夹")});for(var s=[{value:"0",text:pb.t("不限")}],p=0,t=a.LETTERFLAG.length;t>p;p++){var u=a.LETTERFLAG[p];u&&s.push({text:u,value:p,icon:{type:"flag",subtype:p}})}s.push({text:pb.t("所有旗帜"),value:-1});var v=[{value:0,text:pb.t("不限")},{value:1,text:pb.t("是")},{value:2,text:pb.t("否")}];[{value:"key",text:pb.t("附件名")}];var w=[{value:"",text:pb.t("天")},{value:"w",text:pb.t("周")},{value:"m",text:pb.t("月")},{value:"y",text:pb.t("年")}],x=[{value:"1",text:pb.t("天")},{value:"7",text:pb.t("周")},{value:"30",text:pb.t("月")},{value:"365",text:pb.t("年")}],y=[{value:"0",text:pb.t("不限")},{value:"rars",text:pb.t("压缩包")},{value:"pics",text:pb.t("图片")},{value:"videos",text:pb.t("多媒体")},{value:"docs",text:pb.t("文档")},{value:"xls",text:pb.t("表格")},{value:"ppt",text:pb.t("幻灯片")},{value:"txt",text:pb.t("纯文本")},{value:"pdf",text:"pdf"}];[{value:"0",text:pb.t("不限")},{value:"<= 102400",text:pb.t("小于100K")},{value:">= 102400",text:pb.t("大于100K")},{value:"<= 1048576",text:pb.t("小于1M")},{value:">= 1048576",text:pb.t("大于1M")}];for(var z,A,B,C,D={},E='<div class="nui-simpleForm qg0 nui-form"><table><tbody></tbody></table></div>',l=new a.Layer({params:"hasClose",content:E,contentType:"normal",renderTo:document.body}),F=[{title:pb.t("高级搜索"),strong:!0,content:{html:d(m,!1,"type"),onRender:function(){$S("searchSelect",this)},listeners:{change:{handler:function(b){c(b);try{a.Event.cancelBubble()}catch(d){}}}}}},{title:pb.t("关键字"),content:{xtype:"input",onRender:function(){$S("mailKeyInput",this),this.setValue(b||"")}},ext:pb.t("(可选填)"),type:"mail",name:["key"]},{title:pb.t("邮件备注"),content:{xtype:"input"},ext:pb.t("(可选填)"),type:"mail",name:["memo"]},{title:pb.t("搜索范围"),content:d(n,!1,"folder")+"   <p>"+a.CheckGroup.html({type:"vertical",items:[{delegateTo:"self",text:pb.t("在邮件的主题里搜索"),checked:!0},{delegateTo:"self",text:pb.t("在“收件人”和“发件人”中搜索"),checked:!0}],checkType:"checkbox",onRender:function(){z=this}})+"</p>",type:"mail",name:["mailFolder"]},{title:pb.t("旗帜范围"),content:d(s,!1,"flag"),type:"mail",name:["label0"]},{title:pb.t("时间范围"),type:"mail",content:{xtype:"input"},ext:d(w,1,"sentDateLimitType")+"&nbsp;&nbsp;"+pb.t("内"),name:["sentDateLimit","sentDateLimitType"]},{title:pb.t("包含附件"),content:d(v,!1,"attached")+'<div class="nui-item-spc2x">'+a.Button.html({delegateTo:"self",text:pb.t("搜索"),subclass:"mainBtn",click:function(){g(),$S("searchMenu").hide()}})+a.Button.html({text:pb.t("取消"),delegateTo:"self",click:function(){$S("searchMenu").hide()}})+"</div>",type:"mail",name:["attached"]},{title:pb.t("关键字"),content:{xtype:"input",delegateTo:"self",onRender:function(){A=this}},type:"attach"},{title:pb.t("发件人"),content:{xtype:"input",onRender:function(){B=this}},ext:pb.t("(可选填)"),type:"attach"},{title:pb.t("搜索范围"),content:d(r,!1,"attFolder"),type:"attach"},{title:pb.t("时间范围"),type:"attach",content:{xtype:"input",onRender:function(){C=this}},ext:d(x,1,"attachSentDateLimitType")+"&nbsp;&nbsp;"+pb.t("内")},{title:pb.t("文件类型"),content:d(y,!1,"attachFileType")+'<div class="nui-item-spc2x ">'+a.Button.html({delegateTo:"self",text:pb.t("搜索"),subclass:"mainBtn",click:function(){i(),$S("searchMenu").hide()}})+a.Button.html({delegateTo:"self",text:pb.t("取消"),click:function(){$S("searchMenu").hide()}})+"</div>",type:"attach"},{title:pb.t("关键字"),content:{xtype:"input"},ext:pb.t("(可选填)"),type:"nf",name:["nfKey"]},{title:"",content:'<div class="nui-item-spc2x">'+a.Button.html({delegateTo:"self",text:pb.t("搜索"),subclass:"mainBtn",click:function(){h(),$S("searchMenu").hide()}})+a.Button.html({delegateTo:"self",text:pb.t("取消"),click:function(){$S("searchMenu").hide()}})+"</div>",type:"nf"}],G=l.getEl().find("TABLE").dom,p=0;p<F.length;p++){var H=F[p],I=H.title,J=H.content,K=H.type,L=H.name,M=H.ext||"",N="";N="string"==typeof J?J:a.Component.html(J),N+=M;var O=G.insertRow(-1);K&&(O.id=K+"_"+p);var P=O.insertCell(-1);P.innerHTML=I,H.strong&&(P.innerHTML="<strong>"+I+"</strong>"),P.className="nui-form-title";var P=O.insertCell(-1);if(P.innerHTML=N,P.className="nui-form-cont",D[K]||(D[K]={}),L){for(var Q=a.fly(P).find("INPUT"),R=a.fly(P).find("SELECT"),S=(Q||{doms:[]}).doms.concat((R||{doms:[]}).doms),T=0;T<S.length;T++)S[T].id||(S[T].id=L[T]),D[K][L[T]]={id:S[T].id};Q&&Q.destroy(),R&&R.destroy()}}return e(),l.getEl().listen("click",function(){a.Event.cancelBubble(),a.Menu.hideAllMenu()}),a.Component.setEvents(),$S("searchMenu",l),l}function x(){function c(){function b(){$S("voidZoomNotice",!0),c.style.display="none"}if(clearTimeout(i),!$S("voidZoomNotice")){var c=document.getElementById("zoomNoticeDiv"),e=d(),g=.95>e||e>1.3;if(c){if(g){var h=document.getElementById("zoomNoticeStatus");h.innerHTML=e>1?pb.t("放大"):pb.t("缩小")}}else if(g){var j=pb.t("当前页面的比例")+'<span id="zoomNoticeStatus">'+(e>1?pb.t("放大"):pb.t("缩小"))+"</span>"+pb.t("了，可能会导致页面显示异常，建议您使用键盘按住“")+(f?"Command":"Ctrl")+pb.t('”后再按一下数字键"0"来恢复正常比例。  ')+new a.Link({title:pb.t("关闭提示"),text:pb.t("关闭提示"),click:b}).html();c=document.createElement("DIV"),c.id="zoomNoticeDiv",c.className="tP0"+(f?" su0":""),c.innerHTML='<span class="ro0"><b class="st0 nui-ico nui-ico-alert-m"></b>'+j+"</span>",document.body.appendChild(c),a.Component.setEvents()}c&&(c.style.display=g?"":"none")}}function d(){var a=1;return screen.deviceXDPI&&screen.logicalXDPI&&(a=screen.deviceXDPI/screen.logicalXDPI),a}var e,f=(a.Browser.isIE(),a.Browser.isIE("<11"),"macintosh"==a.Browser.getInfo().os);b.onzoom=function(){c()};var g=b.onresize;b.onresize=function(a){var c=b.event||a;return"function"!=typeof g||g.call(b,c)?"function"==typeof b.onzoom?b.onzoom.call(b,c):void 0:!1};var h=document.createElement("DIV");h.id="zoomMonitorDiv",h.className="rl0",document.body.appendChild(h),h.innerHTML=e;var i=setTimeout(function(){c()},4e3)}function y(a,b){var c=document,d=c.getElementById(b);if(!d)try{d=c.createElement("style"),d.type="text/css",d.id=b;var e=c.getElementsByTagName("head")[0];e.appendChild(d)}catch(f){}try{d.innerHTML="",d.innerText="",d.appendChild(c.createTextNode(a))}catch(f){d.styleSheet.cssText="",d.styleSheet.cssText=a}}function z(b,c,d){function e(){m.html(""),m.hide(),l.show()}d=d||"append";var f="";b.width&&(f+="width:"+b.width+"px;"),b.height&&(f+="height:"+b.height+"px;");var g="";b.scrolling&&(g=' scrolling="'+b.scrolling+'"');var h=(new Date).valueOf(),i=h+"_iframe",j=h+"_frameTips",k='<iframe tabindex="-1" id="'+i+'"'+g+' frameborder="0"  allowTransparency="allowTransparency" border="0" style="'+f+'" src="'+b.url+'"'+(b.css?' class="'+b.css+'"':"")+" ></iframe>";if(c){a(c)[d](k);var l=a(c).find("#"+i);l.before('<span id="'+j+'">'+pb.t("加载中...")+"</span>");var m=a(c).find("#"+j);l.hide();var n=l.dom;n.attachEvent?n.attachEvent("onload",e):n.onload=e}return k}function A(a,b){b=b||function(){};var c=document.createElement("script");c.type="text/javascript",c.readyState?c.onreadystatechange=function(){("loaded"==c.readyState||"complete"==c.readyState)&&(c.onreadystatechange=null,b())}:c.onload=function(){b()},c.src=a,document.getElementsByTagName("head")[0].appendChild(c)}function B(b){$G.environment.isDebug;var c=$G.environment.mailPattern,d=$G.environment.cacheRootPath+"pattern/"+c+"/css/"+b;-1!==b.indexOf("http")&&(d=b),b&&!sb._styleSheets[b]&&(a.Ajax.request({requestType:a.Ajax.CSS,url:d,insertBefore:"schemeCss"}),sb._styleSheets[b]=!0)}function C(){var b=a.Cookie,c=$S("fullDomain"),d=$S("domain");$G.user.ursCookie,b.get("P_INFO"),$S("isFree"),$S("user"),"188.com"==d&&(c=d);var e=[["mail_style","js6",{path:"/",domain:c}],["mail_uid",$S("orgUid"),{path:"/",domain:c}],["mail_host",location.hostname,{path:"/",domain:c}]];a.Array.each(e,function(a,c){b.set.apply(b,c)})}function D(){var b,c,d,e,f=a.Cookie.get("P_INFO",!0),g=!1;if(f)try{var h=f.split("|");if(h[0]==$S("uid")){var i=h[5],j=i.split("#"),k=j[0],l=k.split("&");c=a.LOGIN_PROVINCE[l[0]]||pb.t("未知地区"),d=a.LOGIN_PRODUCT[l[2]]||pb.t("未知产品"),e=0;var m=j[2];("0"==m||"01"==m||"02"==m)&&(e=$S("is163")&&d==pb.t("163邮箱")||$S("is126")&&d==pb.t("126邮箱")||$S("isyeah")&&d==pb.t("yeah邮箱")||$S("is188")&&d==pb.t("188邮箱")||$S("isvip")&&d==pb.t("vip邮箱")?1:2),j[3];var n=parseInt(l[1]+"000",10);isNaN(n)?g=!1:(b=new Date(n),b>new Date&&(b=new Date),g=!0)}}catch(o){}var p={lastDate:b,lastArea:c,lastProduct:d,sign:e};return p}function E(){try{var a=$L("component.contact.ContactMark",this)}catch(b){return b}a.show({call:function(){}})}function F(b){b&&a.Msgbox.show({content:b.memo,type:b.type,title:b.title})}function G(){sb.loadStyleSheet("guide2.css");var c,d,e,f,g="dvGuideLayer",h=document,i=h.documentElement,j=i.scrollWidth,k=i.scrollTop,l=i.offsetHeight,m=function(b,c,d,e){c=c||[0,0],b=b||[0,0];var f=b[1];f>18?f-=18:f=0,e=e||"";var g='<div id="dvGuideMask" class="nui-focusMask"><div class="nui-focusMask-top" style="height:'+f+'px"></div>'+'<div class="nui-focusMask-bottom" style="top:'+(f+c[1])+'px;height:100%"></div>'+'<div class="nui-focusMask-left" style="top:'+f+"px;width:"+b[0]+"px;height:"+c[1]+'px"></div>'+'<div class="nui-focusMask-right" style="left:'+(b[0]+c[0])+"px;top:"+f+"px;width:100%;height:"+c[1]+'px"></div>'+'<div class="nui-focusMask-focus xY0 '+e+'" style="left:'+b[0]+"px;top:"+f+"px;width:"+c[0]+"px;height:"+c[1]+'px"></div>'+"</div>",h=a("#dvGuideMask");h&&h.remove(),a(document.body).append(g),a("#dvGuideMask").click(function(){a.Event.cancelBubble()}),d&&d()},n=function(){var b=a("#dvGuideMask");b&&b.remove()};e=627,f=401,d=(l-f)/2+k,c=(j-e)/2,d=Math.max(d,0),c=Math.max(c,0);var o=function(c){var d=a("#"+g),e=5,f=1/e,h=1,i=a("#dvGuideMask");d&&(d._bgTimer=b.setInterval(function(){e-=1,0===e?(b.clearInterval(d._bgTimer),d.remove(),n(),c&&c()):(h-=f,d.css({opacity:h}),i&&d.css({opacity:h}))},60))},p='<div class="xZ0" id="'+g+'" style="top:'+d+"px;left:"+c+'px;">'+'<div class="qr2"></div>'+a.Link.html({extcls:"rU1",click:function(){o()}})+a.Link.html({text:pb.t("立即体验"),extcls:"up0",click:function(){o()}})+"</div>";m(null,null,function(){var b=a("#"+g);b&&b.remove(),a(document.body).append(p)})}function H(){sb.loadStyleSheet("guide3.css");var c,d,e,f,g="dvGuideLayer",h=document,i=h.documentElement,j=i.scrollWidth,k=i.scrollTop,l=i.offsetHeight,m=function(b,c,d,e){c=c||[0,0],b=b||[0,0];var f=b[1];f>18?f-=18:f=0,e=e||"";var g='<div id="dvGuideMask" class="nui-focusMask"><div class="nui-focusMask-top" style="height:'+f+'px"></div>'+'<div class="nui-focusMask-bottom" style="top:'+(f+c[1])+'px;height:100%"></div>'+'<div class="nui-focusMask-left" style="top:'+f+"px;width:"+b[0]+"px;height:"+c[1]+'px"></div>'+'<div class="nui-focusMask-right" style="left:'+(b[0]+c[0])+"px;top:"+f+"px;width:100%;height:"+c[1]+'px"></div>'+'<div class="nui-focusMask-focus AL0 '+e+'" style="left:'+b[0]+"px;top:"+f+"px;width:"+c[0]+"px;height:"+c[1]+'px">'+'<div class="BG0" style="width:'+Math.max(c[0]-160,0)+'px;"></div>'+'<div class="AN0"></div>'+'<div class="AM0"></div>'+"</div>"+"</div>",h=a("#dvGuideMask");h&&h.remove(),a(document.body).append(g),a("#dvGuideMask").click(function(){a.Event.cancelBubble()}),d&&d()},n=function(){var b=a("#dvGuideMask");b&&b.remove()};e=627,f=401,d=(l-f)/2+k,c=(j-e)/2,d=Math.max(d,0),c=Math.max(c,0);var o=function(c){var d=a("#"+g),e=5,f=1/e,h=1,i=a("#dvGuideMask");d&&(d._bgTimer=b.setInterval(function(){e-=1,0===e?(b.clearInterval(d._bgTimer),d.remove(),n(),c&&c()):(h-=f,d.css({opacity:h}),i&&d.css({opacity:h}))},60))},p='<div class="AH0" id="'+g+'" style="top:'+d+"px;left:"+c+'px;">'+'<div class="sH1"></div>'+a.Link.html({extcls:"tP1",click:function(){o()}})+a.Link.html({text:pb.t("立即体验"),extcls:"wq0",click:function(){o()}})+"</div>";m(null,null,function(){var b=a("#"+g);b&&b.remove(),a(document.body).append(p)})}function I(){a.Array.each(sb._guideDots,function(a,c){c&&(c._bgTimer&&b.clearInterval(c._bgTimer),c._flyTimer&&b.clearInterval(c._flyTimer),c.destroy())}),sb._guideDots=[]}function J(){b.setTimeout(function(){a.Frame.resetLayout()},500),a.Ext.pluginPopupTips&&"standard"===$G.mailPattern.currentPattern&&b.setTimeout(function(){sb.pluginPopupTips()},1e4),a.Ext.pluginMasterMailPopup&&"standard"===$G.mailPattern.currentPattern&&b.setTimeout(function(){sb.pluginMasterMailPopup()},5e3),b.setTimeout(function(){sb.pluginNewPlus()},1e3),b.setTimeout(function(){sb.pluginMusicInit()},4e3),$S("isVip")&&setTimeout(function(){sb.pluginVipMsgCenterInit()},4e3),sb.autoNotification(),setTimeout(function(){sb.checkEU()},4e3),$S("isFree")&&a.Cookie.remove("language",{path:"/",expires:-1,domain:$S("fullDomain")})}function K(c){if($S("isFree")&&(!$S("ad")||"ud"!==$S("ad").userType)){var d=function(){b.gSupportMailboxPromote&&gSupportMailboxPromote.destroy()};if(c)return d(),void 0;var e=a.Misc.getTime(),f="//you.163.com/act/pub/ICudP6XejY.html?from=web_gg_mail_shoujianxiang_0",g=1,h="__inter_mb_pr__",i="__inter_mb_pr_close__",j="https://mimg.127.net/ggimg/all/img20/180329_inbox.gif";if(new Date(2018,3,9,0)<e&&new Date(2018,3,12,0)>e);else if(new Date(2017,10,5,0)<e&&new Date(2017,10,7,0)>e)j="https://mimg.127.net/ggimg/all/img20/171031_you_115_116.gif";else{if(!(new Date(2017,10,7,0)<e&&new Date(2017,10,12,0)>e))return;j="https://mimg.127.net/ggimg/all/img20/171031_you_117_1111.gif"}try{var k=!0,l=a.Cookie.get(h)-0,m=a.Cookie.get(i)-0;if(m>0)return;if(l>0){var n=new Date(l),o=n.getDate(),p=e.getDate();if(p==o)return}if(!k)return}catch(q){}try{if(b.gSupportMailboxPromote)return;var r=a.Misc.getTime();r.setTime(r.getTime()+864e5*g),a.Cookie.set(h,e.valueOf(),{path:"/",domain:$S("fullDomain"),expires:r});var s=f,t=a.Component.html({html:'<a class="APP-ads-fixed-close"  style="display:block;width:30px;height:30px;white-space:nowrap;text-indent:1000px;overflow:hidden;background-color:#f0f;position:absolute;right:10px;top:0px;background:url(https://mimg.127.net/ggimg/all/img19/170329_close.png) no-repeat center;" href="javascript:void(0);" title="'+pb.t("关闭广告")+'">'+pb.t("关闭广告")+"</a>",listeners:{click:{handler:function(){var b=a.Misc.getTime();b.setTime(b.getTime()+2592e6),a.Cookie.set(i,e.valueOf(),{path:"/",domain:$S("fullDomain"),expires:b}),d(),a.Log.cache({FrameMailboxPromoteClose:1})}}}}),u=a.Component.html({html:'<a class="APP-ads-fixed-target" href="javascript:void(0);" target="_blank"><img src="'+j+'" alt=""></a>',listeners:[{name:"click",type:"dom",handler:function(){b.open(s,"_blank"),d(),a.Log.cache({FrameMailboxPromoteClick:1})}}]});b.gSupportMailboxPromote=new a.Component({html:'<div class="APP-ads-fixed" style="position:absolute;right:45px;top:330px;z-index:10000">'+t+u+"</div>"}),a(document.body).append(gSupportMailboxPromote.html()),a.Component.setEvents(),a.Log.cache({FrameMailboxPromoteShow:1})}catch(q){}}}function L(c){if(c)try{if("0"==a.Ud.get({field:"ntes_contact",flag:"StudentMailCenterTips"})){var d=a.Folder.list("pop"),e=a.Array.findObject(d,"name",c);if(!e)return;var f=a.Array.findObject(a.Nav.config.tree,"name","pop");if(!f||!f.cpt)return;f.cpt.rawConfig.isFold&&f.cpt.fire("unfold"),setTimeout(function(){var c=a.Nav.getTreeItem("pop",e.id);c&&(c.rawConfig.hidden||(b.gLefNavMailcenterTips=new a.Layer({width:"200px",content:"<p>"+pb.t("学校邮箱收到的邮件，可以在这里点")+"<br>"+pb.t("击查看啦！")+'<a href="javascript:void(0);" onclick="gLefNavMailcenterTips.fire(\'closeclick\');$.Log.cache({LefNavMailcenterTipsClick:1});">'+pb.t("我知道了")+"</a></p>",params:"hasArr arrLeft hasClose",doNotHide:!0,fixX:-40,fixY:10,pointTo:c.el,listeners:{closeclick:function(){b.gLefNavMailcenterTips.destroy(),a.Log.cache({LefNavMailcenterTipsClose:1})}}}),b.gLefNavMailcenterTips.render(),a.Log.cache({LefNavMailcenterTipsShow:1})))},500)}}catch(g){}}function M(c){if($S("ad")&&"ud"===$S("ad").userType)return!1;try{var d=!0;try{var e=a.Cookie.get("MailMasterPopupTips")-0,f=new Date(e),g=48;(a.Browser.isIE()||a.Browser.chrome()||a.Browser.firefox()||a.Browser.safari())&&(g=72),a.Cookie.get("MailMasterPopupTipsClose")&&(g=144);var h=(new Date-f)/36e5;if(g>h&&!c)return d=!1,void 0}catch(i){}var j=function(){(d||c)&&($S("SupportShowingMsgbox")||b.gSupportMasterMailPopup||gAd.getByCallback("frameBottom",{},function(d){var e=d.frameBottom;if(e||c){$S("SupportShowingMsgbox",!0),a.Cookie.set("MailMasterPopupTips",(new Date).valueOf(),{path:"/",expires:7,domain:$S("fullDomain")}),b.gSupportMasterMailPopup=new a.Popup({content:'<div class="APP-dashi-botBanner" style="height:100px;border: 0;background: none;" onclick="gSupportMasterMailPopup.__click__();">'+e+"</div>",renderTo:document.body,subclass:"commonPopup",pauseTime:c?5e5:5e3,useAnimate:!0});var f=$G.get("mailMasterPromoteConf")||{};b.gSupportMasterMailPopup.__close__=function(c){try{b.gSupportMasterMailPopup.fadeOut(),a.Cookie.set("MailMasterPopupTipsClose",(new Date).valueOf(),{path:"/",expires:365,domain:$S("fullDomain")}),"click"!==c&&(a.Log.cache({FrameMasterMailPopupClose:1}),b.gSupportMasterMailPopup.__click__=function(){})}catch(d){}},b.gSupportMasterMailPopup.__click__=function(){try{a.Log.cache({FrameMasterMailPopupClick:1})}catch(b){}},b.gSupportMasterMailPopup.__clickDownload__=function(){try{b.open(f.iOSLink),a.Log.cache({FrameMasterMailPopupClick2:1})}catch(c){}},b.gSupportMasterMailPopup.__clickDownload2__=function(){try{b.open(f.andriodLink),a.Log.cache({FrameMasterMailPopupClick3:1})}catch(c){}},a.Log.cache({FrameMasterMailPopupShow:1})}}))};j()}catch(i){}}function N(c){if($S("ad")&&"ud"===$S("ad").userType)return!1;var d=a.Misc.getTime(),e="//you.163.com/act/entry/4M9p6LhOyg.html",f=1,g="MailPromotePopup2";try{var h=!0,i=a.Cookie.get(g)-0;if(i>0){var j=new Date(i),k=j.getDate(),l=d.getDate();if(l==k)return}if(!h)return}catch(m){}try{if($S("SupportShowingMsgbox"))return;if($S("SupportShowingMsgbox",!0),b.gSupportPopupTips)return;var n=a.Misc.getTime();n.setTime(n.getTime()+864e5*f),a.Cookie.set(g,d.valueOf(),{path:"/",domain:$S("fullDomain"),expires:n});var o=250,p=250,q=e;b.gSupportPopupTips=new a.Popup({content:'<div id="dvRightCornerPopup"><p class="nui-msgbox-hd"><a href="javascript:void(0);" onclick="gSupportPopupTips.__close__();" class="nui-close nui-ico nui-ico-x nui-ico-x-dark"></a></p>'+a.Support.insertIframe({url:q,width:o,height:p,scrolling:"no"})+"</div>",renderTo:document.body,pauseTime:c?5e5:5e3,useAnimate:!0,onRender:function(){var a=this;a.el.css({width:o+"px"})},extcls:"AU0"});var r=setInterval(function(){b.gSupportPopupTips?document.activeElement==a.fly("#dvRightCornerPopup iframe").dom&&(b.gSupportPopupTips.__click__(),clearInterval(r)):clearInterval(r)},100);b.gSupportPopupTips.__close__=function(){try{b.gSupportPopupTips.fadeOut(),b.gSupportPopupTips=null,a.Log.cache({FrameRightCornerPopupClose:1})}catch(c){}},b.gSupportPopupTips.__click__=function(){try{a.Log.cache({FrameRightCornerPopupClick:1})}catch(b){}},a.Log.cache({FrameRightCornerPopupShow:1})}catch(m){}}function O(){if(a.Ext.plugin_vipMsgCenter){var b=$S("topNavAccountLink");if(!b)return;!function(){var c="ifrmVipMsgCenter",d=function(){var b=location.protocol+"//vip.163.com/xm/newMessage/frame.html",d=a.Uri.getUrl(b);if($S("topNavAccountLink")&&$S("topNavAccountLink").el){var e=$S("topNavAccountLink").el.css("color");d=a.Location.addParam({textColor:e},d)}var f="dvPlugin_VipMsgCenter_Wrapper",g='style="position:relative;line-height:0;font-size:0;z-index:1;width:30px;height:30px;top:-4px"',h='style="width:0;height:0;position:absolute;top:0;left:0;"',i='<div id="'+f+'" class="APP-VipMsgCenter" '+g+">"+'<iframe id="'+c+'" src="'+d+'" class="APP-VipMsgCenter-iframe" frameborder="0" scrolling="no" allowtransparency="allowtransparency" '+h+"></iframe>"+"</div>";return i};try{var e='<li class="rZ0">'+d()+"</li>";b.el.findParent("li").after(e),sb.addCrossListener(c,"//vip.163.com/xm/newMessage/proxy.htm")}catch(f){}}()}}function P(b){a.Ext.plugin_cloudmusic&&$G.environment.isCh&&function(){var c=function(){var a="//music.163.com/mailplayer?host="+$S("host")+"#https://"+$S("host")+"/app/cloudmusic/proxy.html",b="dvPlugin_Music_Wrapper",c="ifrmMusic",d="",e='style="width:0px;height:0px;"',f='<div id="'+b+'" class="APP-musicBox" '+d+">"+'<iframe id="'+c+'" src="'+a+'" class="APP-musicBox-iframe" frameborder="0" scrolling="no" allowtransparency="allowtransparency" '+e+"></iframe>"+"</div>";return f};b||(b=a("#dvMultiTabWrapper")),b.append(c()),sb.addCrossListener("ifrmMusic","//music.163.com/mail/proxy.htm")}()}function Q(c,d){var e=function(){var a=b.netease.mail.api.Cross;a.registXMessage(d),a.addMsgListener(c)};try{var f=function h(){"start"===$S("loadingCross")?b.gTimerLoadCross=b.setTimeout(function(){h()},200):"end"===$S("loadingCross")&&(b.gTimerLoadCross&&b.clearTimeout(b.gTimerLoadCross),e())};"start"===$S("loadingCross")?f():"end"===$S("loadingCross")?e():b.netease.mail.api&&b.netease.mail.api.Cross?e():($S("loadingCross","start"),a.Ajax.request({requestType:a.Ajax.SCRIPT,url:$G.environment.mimgUrl+"mailapi/src/2.0/cross_js5_v2.js",call:function(){$S("loadingCross","end"),e()}}))}catch(g){}}function R(b){function c(c){var e=a.Element.getIframeDoc(c),f=e.getElementsByTagName("PRE")[0],g=(f||e.body).innerHTML.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"'),h={};try{try{h=a.Eval.get(g.toString())}catch(i){h=a.JSON.parse(g.toString())}}catch(i){h={}}if(200!==h.code)return b();try{var j=h.data||{},k=[];a.Array.each(j.contacts,function(a,b){b=d(b),b.emails.length>0&&k.push(b)}),a.Array.each(j.groups,function(a,b){k.push({cid:b.CID,marked:+b.MARKED,name:b.N||pb.t("未命名"),ctype:"group",contacts:[]})}),k.sort(function(a,b){return a.marked-b.marked}),b({contact:k,recommend:[],contactCount:0})}catch(i){b()}}function d(a){var b=e(a)||[],c=b[0]||null,d=a.CID||null,g=d?f(a)||pb.t("未命名"):c?c.substring(0,c.indexOf("@")):pb.t("未命名");return{cid:d,marked:+a.MARKED||null,email:c,emails:1!==b.length||c?b:[],name:g}}function e(b){var c,d,e,f=[];for(var g in b)e=b[g],e&&g.indexOf("EMAIL")>=0&&("string"==typeof e?d||g!==a.EMAIL_ADDRESS?f.push(e):d=e:Object.isArray(e)&&(e=Object.clone(e),d||g!==a.EMAIL_ADDRESS||(d=e.shift()),f=f.concat(e)));return d&&f.unshift(d),c=f.join("@@").toLowerCase(),c.split("@@")}function f(b){var c=b.FN||"",d=b.N,e=d?d.split(";"):null;return e?g(e)||c:a.String.trim(c)}function g(b){var c,d=b,e="",f="";return a.Object.isString(d)&&(d=d.split(";")),5===d.length&&(e=d.join(";"),c=/[a-zA-Z]+/.test(e),f=c?a.String.trim([d[3],d[1],d[2],d[0],d[4]].join(" ")):a.String.trim([d[3],d[0],d[2],d[1],d[4]].join(""))),a.String.trim(f)}var h=document.getElementById("getMarkedContacts");return h?("loaded"===h.getAttribute("loaded")?c(h):a.Event.one(h,"load",function(){c(h)}),void 0):b()}function S(a){var b=sb.notary;if(a||(a=function(){}),b=!1,"undefined"==typeof b){var c=new mb;c.wmsvr({func:"mbox:prepareNtesArch",body:{sync:!0},call:function(c){var d;try{d=c["var"].checksum}catch(e){}b=sb.notary="undefined"!=typeof d,a(b)},error:function(){return a(!1),!0}})}else a(b);return b}function T(){var a=arguments,b=a[0];return b!==c?b.replace(/{(\d+)}/g,function(b,c){var d=+c+1;return"undefined"!=typeof a[d]?a[d]:b}):void 0}function U(a,b,c){var d=a.concat();setTimeout(function e(){b(d.shift()),d.length>0?setTimeout(e,25):c(a)},25)}function V(a,b,c){var d=a.concat();setTimeout(function e(){var a=d.shift();a.apply(null,b||[]),d.length>0?setTimeout(e,25):c()},25)}function W(a){a=a||{url:"",cls:"",width:0,height:0};var b=a.wmode||"transparent",c='<embed src="'+a.url+'" class="'+a.cls+'" quality="high" wmode="'+b+'" allowscriptaccess="always" scale="noscale" width="'+a.width+'" height="'+a.height+'" type="application/x-shockwave-flash">';return c}function X(a){if(-1==a){var b=$S("ad").show===!1&&"ud"==$S("ad").userType;if(b){try{var c=$L("support.Theme",this)}catch(d){return d}c.changeSkin(88)}else{try{var e=$L("product.Privileges",this)}catch(d){return d}e.showDialog("plus","","upgrade")}}}function Y(){sb._isIE6=6===sb._ieVersion,sb._isIE7=7===sb._ieVersion,sb._isIE8=8===sb._ieVersion}function Z(){var c=$G.attrs.user||{},d="0000000000000000",e=d+d,f=e+e,g={afterdel:1,replyf:0,addo:0,displaysender:0,maxlist:20,refuselist:"",safelist:"",op_readreceipt:0,ntes_compose:d,ntes_global:d,ntes_contact:d,ntes_letter:d,ntes_option:d,helptips:d,ntes_inbox:d,ntes_buzz:d,ntes_rd_config:f};for(var h in g)("number"==typeof g[h]&&isNaN(c[h])||null===c[h])&&(c[h]=g[h]);c.true_name=a.String.decodeHTML(c.true_name||""),c.nick_name=a.String.decodeHTML(c.nick_name||"");var i=$G.attrs.alias;if(i){var j=$G.attrs.domainAliasUsers;if(j&&j.length>0){0===i.length&&i.push({aliases:[]});for(var k=0,l=j.length;l>k;k++)i[0].aliases.push({id:j[k]})}}var m={attrs:$G.attrs,isUnlimit:$G.user.isUnlimit,uid:$G.user.uid,orgUid:$G.user.uid,user:$G.user.uid.split("@")[0],sid:$G.user.sid,timeS:$G.environment.now-0,timeC:new Date,cos:$G.attrs.cos,ursCookie:$G.user.ursCookie,alias:$G.attrs.alias};a.Object.extend(m,$G.attrs.common);var n=Math.round(3*($G.attrs.cos.pref_smtp_max_send_mail_size-0)/4/1024);a.Array.each([15,20,30,40,50,100],function(a,b){Math.abs(n-b)<b/10&&(m.attachSize=b)}),m.attachSize||(m.attachSize=100);var o=location.hostname;a.Array.each([["mail.163.com","163.com","163"],["mail.126.com","126.com","126"],["mail.yeah.net","yeah.net","yeah"],["vip.163.com","vip.163.com","vip"],["vip.126.com","vip.126.com","126vip"],["vip.188.com","188.com","188"]],function(b,c){var d=c[0],e=c[1],f=c[2];o.indexOf(d)>-1&&(a.Object.extend(m,{domain:e,product:f,fullDomain:d,host:o}),m["is"+f]=!0),m.isFree=m.is163||m.is126||m.isyeah,m.isVip=m.isvip||m.is126vip||m.is188}),m.isFree||m.isVip||(a.Object.extend(m,{domain:"qiye.163.com",product:"corp",fullDomain:"qiye.163.com",host:o}),m.isCorp=!0);var p;m.isFree?p="free":m.isVip?p="vip":m.isCorp&&(p="corp"),m.domainType=p;var q={};m.is188&&(q.is188vip=!0),q.is188vip&&(0===m.attrs.user.ntes_defaultaccount-0?(m.uid=m.user+"@188.com",m.subaccount=m.user+"@vip.188.com"):(m.uid=m.user+"@vip.188.com",m.subaccount=m.user+"@188.com"),qb.fire("global:uidChanged",m.uid)),m.member=q,a.Object.extend(m,b.gCustom),m.skin={name:$G.user.css,color:$G.user.color};var r=a.Cookie.get("Coremail",!0);r&&(m.orgHost=r.split("%")[2]||r.split("%")[1]||o),/^(d\.)|(o\.)|(t\.).+/.test(m.host)&&(m.orgHost=m.host),m.isFree||/^(g1a56\.)|(g1a4\.)|(g1a3\.).+/.test(m.host)&&(m.orgHost=m.host);var s=a.Cookie.get("P_INFO").split("|");if(!m.isCorp&&s.length>6){var t=/^m1[345678]\d{9}(?:_\d+)?$/.test($G.user.uid.split("@")[0]);if(1===s[6].split("&")[1]-0){var u=(a.SenderList.getMobile()||{}).address;u&&(m.mobile_sender=u,m.uid=u,$G.user.uid=u,t&&(m.showMobileAccountOnly=!0)),kb.checkReserveAccount(m.orgUid)}}a.Listener.fire("global:uidChanged",m.uid);
for(var v in m)$S(v,m[v]);$S("checkViewType",a.Ud.get({field:"ntes_inbox",flag:"layout"})?!0:!1)}function $(){var b=a.Browser,c={show:!0,showClose:!0};$S("isVip")&&(c.show=!1,c.showClose=!1,c.userType="vip"),$S("isyeah")&&(c.show=!1,c.showClose=!1,c.userType="yeah"),"1"==a.Ud.get({field:"ntes_option",flag:"globalAd"})?(c.show=!1,c.showClose=!1,c.userType="ud"):((b.firefox()||b.chrome()&&b.getVersion()[0]>26||b.safari()||b.opera())&&(c.show=!1,c.showClose=!1,c.userType="browser"),kb.getTime(0)-$S("attrs").user.user_creation_date<2592e6&&(c.show=!1,c.showClose=!1,c.userType="newuser")),$S("ad")||$S("ad",c)}function _(){if($S("isFree")){var b=a.Misc.getTime();if(new Date(2017,10,1,0)<b&&new Date(2017,10,12,0)>b){var c="https://you.163.com/act/pub/ICudP6XejY.html",d="https://mimg.127.net/ggimg/all/img20/171026_you11_39x28.gif";$S("is126")||$S("isyeah");var e='<a href="'+c+'" target="_blank" style="position:absolute;right:-40px;top:2px;"><img src="'+d+'"></a>';a("#h1Logo").append(e)}}}function ab(){function c(){var c=$S("searchMenu");return c&&"none"!==c.getDom().style.display?(c.hide(),void 0):(a.Event.getTarget(),b.setTimeout(function(){var a=sb.getSearchMenu(k.getValue());a.getDom().style.top="43px",a.getDom().style.right="12px"},0),void 0)}function d(){if(!k.prepareSearch){var a=new mb;a.wmsvr({func:"mbox:prepareSearch",body:{sync:!0},call:function(a){try{var b=a["var"].ext.cnt;$S("searchIndexed",b)}catch(c){}},error:function(){return k.prepareSearch=!1,!0}})}k.prepareSearch=!0,k.focus()}function e(b,c){var d=a.String.trim(k.getValue());if(0===d.indexOf("$harry>")||0===d.indexOf("$seven>")||0===d.indexOf("$scott>"))return a.JS.go({module:d.substr(7)}),void 0;if(""===d)return a.Msgbox.show({title:pb.t("请输入搜索关键字！")}),void 0;if(b=b||"mail",c=c,"mail"===b){var e="true"===$G.user.searchid;c&&(e="fulltext"===c);try{var f=$L("interface.MboxInterface",this)}catch(g){return g}f.find({keyword:d,isFullSearch:e,isForceFullSearch:!1})}else if("file"===b){try{var h=$L("product.FileCenter",this)}catch(g){return g}h.entry(c,{search:{key:d,fid:-2}})}a.Log.cache({action:"global",click:"search",range:b})}function f(b){var c=a.String.trim(k.getValue());if(k.menu&&(k.menu.destroy(),delete k.menu),c){var d=g(c);k.menu=d,d.relatedObj=k.getDom(),d.render(document.body),d.getEl().floatTo(k.getDom(),!0),d.getDom().style.left="auto",d.getDom().style.top="41px",b&&d.onKeyUp(b),$S("searchInputMenu",d)}}function g(b){var d='<span class="nui-txt-suc">'+a.String.escapeHTML(b)+"</span>",e={xtype:"menu",autoFocus:!1,right:"10px",left:"auto",groups:[{items:[{text:pb.t("包含 ")+d+pb.t(" 的邮件")+'<span class="nui-txt-tips">'+pb.t("(全文搜索)")+"</span>",click:function(){try{var c=$L("interface.MboxInterface",this)}catch(d){return d}c.find({keyword:b,isFullSearch:!0,isForceFullSearch:!0}),a.Log.cache({action:"global",click:"search",range:"mail"})}},{text:pb.t("包含 ")+d+pb.t(" 的邮件")+'<span class="nui-txt-tips">'+pb.t("(标题+收发件人)")+"</span>",click:function(){try{var c=$L("interface.MboxInterface",this)}catch(d){return d}c.find({keyword:b,isFullSearch:!1}),a.Log.cache({action:"global",click:"search",range:"mail"})}},{text:pb.t("包含 ")+d+pb.t(" 的附件"),click:function(){try{var c=$L("product.FileCenter",this)}catch(d){return d}c.entry("fj_center",{search:{key:b,fid:-2}}),a.Log.cache({action:"global",click:"search",range:"file"})}},{text:pb.t("包含 ")+d+pb.t(" 的联系人"),click:function(){try{var a=$L("interface.AddressInterface",this)}catch(c){return c}a.search(b)}},{text:pb.t("包含 ")+d+pb.t(" 的网盘文件"),click:function(){try{var c=$L("product.FileCenter",this)}catch(d){return d}c.entry("nf_center",{search:{key:b,fid:-2}}),a.Log.cache({action:"global",click:"search",range:"file"})}}]},{items:[{text:pb.t("高级搜索..."),click:function(){c()}}]}]};"true"!==$G.user.searchid&&e.groups[0].items.splice(0,1);var f=new a.Menu(e);return f}var h=$S("topNav"),i="true"===$G.user.searchid?pb.t("支持邮件全文搜索"):pb.t("搜索邮件"),j=new a.Component({html:'<div class="sU0" role="search"><b class="ru0"></b><b class="kk0 fn-bg nui-ico"></b></div>',items:[{xtype:"input",placeholder:i,iconbtnclick:function(){c(),a.Log.cache({TopNavSearchArrIconClick:1})},voiceInput:!0,listeners:{focus:function(){$S("searchDv")&&$S("searchDv").getEl().addClass("rh1"),d(this)},click:{target:function(){return this.getEl().find("INPUT")},handler:function(){b.setTimeout(function(){f()},0),a.Log.cache({TopNavSearchClick:1})}},blur:function(){$S("searchDv")&&$S("searchDv").getEl().removeClass("rh1"),b.setTimeout(function(){var a=$S("searchInputMenu");a&&a.hide()},100)},keyup:{handler:function(a){var b=$S("searchInputMenu");return b&&b.hideMenu?(b.hideMenu=!1,void 0):(a&&27==a.keyCode?b&&b.hide():f(a),void 0)}},keydown:{handler:function(){}},enter:function(){e(),setTimeout(function(){var a=$S("searchInputMenu");a&&a.hide()},100)}}},{xtype:"link",extcls:"md0",title:pb.t("回车(enter)"),icon:{extcls:"fn-bg"},listeners:{click:{handler:function(){e()}}}}]});j.render(h,"after");var k=j.find("input")[0];$S("searchInput",k),$S("searchDv",j),a.Component.setEvents()}function bb(){function a(){var a=$S("isVip")?pb.t("VIP邮箱极致6.0版"):pb.t("网易邮箱6.0版");return $G.appTitle=""+a,$S("title",$G.appTitle),$G.appTitle}var b=nb.getTotal("unread"),c=rb.document,d=a();b=Math.max(0,b),0===b?c.title=d:(d="("+b+pb.t("封未读")+") "+d,c.title=d),document.attachEvent&&!sb._titleChangeEvent&&(sb._titleChangeEvent=!0,document.attachEvent("onpropertychange",function(a){"title"===a.propertyName&&document.title.indexOf("#")>-1&&setTimeout(function(){sb.displayTitle()},1)}))}function cb(){try{var c=sb._getHash(b.location);if(a.Ext.notification&&"options.BaseSetModule"!=c.module){try{var d=$L("util.Notification",this)}catch(e){return e}var f=d.checkPermission();f==d.PERMISSION_NOT_ALLOWED&&Math.random()<.3&&d.requestPermission(function(){d.checkPermission()==d.PERMISSION_ALLOWED?(a.Tips.show({text:pb.t("成功开启桌面提醒"),succ:!0}),a.Ud.set({field:"ntes_option",flag:"notification",value:0}),a.Log.cache({auto_notification:"1"},a.EMPTYFUNC)):a.Tips.show({text:pb.t("桌面提醒未开启")})})}}catch(g){}}function db(){function b(b){var c=b["product.plus.newbie"];c&&(a("body").append('<div class="EP0"><div class="xW1"></div><div class="Aq0"><img src="//mimg.127.net/ggimg/all/img21/190613_newplus.png"><div class="xV2"><img src="//mimg.127.net/ggimg/all/img21/190613_newplus_close.png"></div></div></div>'),a(".xV2").click(function(){a(".EP0").remove()}),a.Ud.setProxy({field:"product.plus.newbie",value:0}))}$S("isFree")&&a.Ud.getProxy({field:["product.plus.newbie"],call:b})}function eb(b){var c=b.split("?")[1];if(!c)return{};var d=c.split("&"),e={};return a.Array.each(d,function(a,b){var c=b.split("="),d=c[0],b=c[1];d&&b&&(e[decodeURIComponent(d)]=decodeURIComponent(b))}),e}function fb(b,c){function d(){for(var b=[],c=0;c<g.length;c++){var d=g[c];b.push({html:'<div class="BJ0'+(c===e?" wI1":"")+'"><div class="BH0" style="background-position: '+d.backgroundPosition+'"></div><div class="BG1">'+d.text+"</div></div>",listeners:[{name:"click",type:"dom",handler:function(b,c){return function(){e=b,f=c,a.fly("#dv-gConversion .BJ0").each(function(b,c){b===e?a(c).addClass("wI1"):a(c).removeClass("wI1")})}}(c,d.type)}]})}var h=new a.Component({html:'<div class="BF0"></div>',items:b});h.render(a.fly("#dv-gConversion"))}if(a.Log.cache({PdfConversionClick:c}),b.filesize>209715200)return a.Msgbox.show({contentType:"normal",content:pb.t("目前仅支持 200M 以内的文件转换。")}),void 0;var e=0,f="pdf-to-word",g=[{text:pb.t("PDF转Word"),icon:"//mimg.127.net/ggimg/all/img20/rcmd_default_250x280_1.png",type:"pdf-to-word",backgroundPosition:"0 0"},{text:pb.t("PDF转Excel"),icon:"//mimg.127.net/ggimg/all/img20/rcmd_default_250x280_1.png",type:"pdf-to-excel",backgroundPosition:"-80px 0"},{text:pb.t("PDF转PPT"),icon:"//mimg.127.net/ggimg/all/img20/rcmd_default_250x280_1.png",type:"pdf-to-ppt",backgroundPosition:"-160px 0"},{text:pb.t("PDF转JPG"),icon:"//mimg.127.net/ggimg/all/img20/rcmd_default_250x280_1.png",type:"pdf-to-jpg",backgroundPosition:"0 -80px"},{text:pb.t("PDF转PNG"),icon:"//mimg.127.net/ggimg/all/img20/rcmd_default_250x280_1.png",type:"pdf-to-png",backgroundPosition:"-80px -80px"},{text:pb.t("PDF转TXT"),icon:"//mimg.127.net/ggimg/all/img20/rcmd_default_250x280_1.png",type:"pdf-to-text",backgroundPosition:"-160px -80px"}];try{var h=$L("interface.OutlinkInterface",this)}catch(i){return i}var j=[];for(var k in b)b.hasOwnProperty(k)&&j.push(k+"="+b[k]);a.Msgbox.show({type:"confirm",contentType:"normal",title:"",content:'<div class="GR0" id="dv-gConversion" style="height: 280px; overflow:hidden;"></div>',ok:function(){h.goOutlink({title:pb.t("PDF转换"),group:"pdf_conversion",fullScreen:!0,url:"https://"+$S("fullDomain")+"/html/pdf/?utm_source=from"+c+"&type="+f+"&"+j.join("&")}),a.Log.cache({PdfConversionClickType:f.replace("pdf-to-","")})}}),d()}try{var gb=$L("util.ShortCut")}catch(hb){return hb}try{var ib=$L("init.Sync")}catch(hb){return hb}try{var jb=$L("init.Tag")}catch(hb){return hb}try{var kb=$L("util.Misc")}catch(hb){return hb}try{var lb=$L("util.Condition")}catch(hb){return hb}try{var mb=$L("core.DataAction")}catch(hb){return hb}try{var nb=$L("init.Folder")}catch(hb){return hb}try{var ob=$L("init.CustomAppManager")}catch(hb){return hb}var pb=new $I18N("init.Support"),qb=a.Listener,rb=b.gUseInIframe?b:top,sb=a.createClass($N("init.Support"));a.Object.extend(sb,{currentAccount:"",splitHeight:250,splitWidth:400,_ieVersion:a.Browser.ie()-0,_isIE6:!1,_isIE7:!1,_isIE8:!1,_isIe:a.Browser.isIE(),baseInit:d,init:e,trimAccount:f,displayTitle:bb,loadHomePage:j,loadMsgbox:m,loadPopup:o,getOuterAccount:n,setGlobalEvent:g,setGlobeTimer:h,getTagMenu:i,relogin:q,newRelogin:p,checkNetWork:r,checkEU:s,lightenPhone:t,gotoAppCenter:u,getAppIconUrl:v,getSearchMenu:w,monitorZoom:x,insertStyle:y,insertIframe:z,loadScript:A,loadStyleSheet:B,setCookie:C,getLoginInfo:D,addContactMail:E,showMsg:F,showNewGuide:G,hideNewGuide:I,showVipNewGuide:H,afterMailLoaded:J,pluginLeftNavMailcenterTips:L,pluginMasterMailPopup:M,pluginPopupTips:N,pluginNewPlus:db,pluginMusicInit:P,pluginMailboxPromote:K,pluginVipMsgCenterInit:O,addCrossListener:Q,getMarkedContacts:R,getNotaryStatus:S,autoNotification:cb,format:T,decomposeArray:U,decomposeFunction:V,getFlashHtml:W,changeTheme:X,pdfConversion:fb,_styleSheets:[],_guideDots:[],_initialize:Y,_initUserData:Z,_initAd:$,_addExtraLogo:_,_initSearch:ab,_getHash:k,_getHashCode:l,parseQuery:eb})}($,window),function(a,b){function c(){var a=this,b={uid:a.getUid(),vip:a.getVip(),getMobileVip:a.getMobileVip(),pop3:a.getPop3(),defined:a.getDefined(),mobile:a.getMobile(),chinese:a.getChinese(),corpAlias:a.getCorpAlias(),"default":a.getDefault(!0)};return b}function d(){var b=this,c=[];b.getName(),c.push(b.getUid());var d=b.getVip();d&&c.push(d);var e=b.getMobile();e&&c.push(e);var f=b.getChinese();if(f&&c.push(f),d&&e){var g=b.getMobileVip();g&&c.push(g)}var h=b.getPop3();h&&(c=c.concat(h));var i=b.getDefined();i&&(c=c.concat(i));for(var j={},k=[],l=0,m=c.length;m>l;l++){var n=c[l];if(n&&n.address){var o=n.address.toLowerCase();j[o]||(j[o]=!0,n.name=a.String.escapeHTML(n.name),k.push(n))}}return k}function e(){var a=$S("showMobileAccountOnly")?$S("uid"):$S("orgUid");return new r(a,this.getName())}function f(){if($S("is188")&&$S("member").is188vip){var a=$S("user")+"@vip.188.com",b=this.getName();return new r(a,b)}return null}function g(){if($S("is188")&&$S("member").is188vip){var a=this.getMobile();if(a){var b=a.address.split("@")[0]+"@vip.188.com",c=a.name;return new r(b,c)}}return null}function h(){var b,c=$S("attrs").popAccounts,d=[];return a.Array.each(c,function(a,c){c.authenticated&&c.delegatedSend&&(b=new r(c.username,c.name),c.smtpHost&&(b.smtp=!0,b.smtpHost=c.smtpHost,b.smtpPort=c.smtpPort,b.smtpUseSSL=c.smtpUseSSL,b.smtpAuth=c.smtpAuth,b.smtpPassword=c.smtpPassword,b.popId=c.id),d.push(b))}),d.length>0?d:null}function i(a){function b(a){if(a&&a.length>0){for(var b=[],c=0;c<a.length;c++){var d=s.getEmails(a[c],"Email").match[0];d?b.push(d):b.push({address:a[c],name:""})}return b}return null}var c=$S("attrs").senders;if(c){var d=b(c.audited);if(a){var e={};return e.audited=d,e.unaudited=b(c.unaudited),e}return d}return null}function j(){var a=null,c=$G.attrs.alias;if(c&&c[0]&&c[0].aliases)for(var d=c[0].aliases,e=0;e<d.length;e++){var f=d[e].id;r.checkMobile(f)&&(a=f)}return!a&&b.$S&&$S("reserveMobile")&&(a=$S("reserveMobile")),a?new r(a,$S("uid")?this.getName():null):null}function k(){var a=null,b=$G.attrs.alias;if(b&&b[0]&&b[0].aliases)for(var c=b[0].aliases,d=0;d<c.length;d++){var e=c[d].id;if(!r.checkMobile(e)){a=e;break}}return a?new r(a,this.getName()):null}function l(){return null}function m(){var b=$S("attrs").user.ntes_defaultsender;if(b){b=b.toLowerCase();for(var c=this.getList(),d=0,e=c.length;e>d;d++)if(c[d].address.toLowerCase()==b)return c[d]}if(b=$S("mobile_sender")||$S("uid"),$S("is188")&&$S("member").is188vip){var f=a.Ud.get({field:"ntes_defaultaccount"});f&&"0"!=f&&(b=$S("user")+"@vip.188.com")}return new r(b,this.getName())}function n(b){var c=this;b=b.toLowerCase();var d=null,e=c.getList();return a.Array.each(e,function(a,c){b==c.address.toLowerCase()&&(d=c)}),d}function o(){return new r($S("uid"),this.getName())}function p(){var a,b=$G.attrs.user,c=b.displaysender,d=b.true_name,e=b.nick_name;a=1==c&&e?e:d||$S("uid").split("@")[0];var f=[String.fromCharCode(92)+String.fromCharCode(92)];return a=a.replace(new RegExp('["/'+f[0]+"]","g"),"")}var q=a.createClass($N("init.SenderList")),r=a.Email,s=a.Uri;a.Object.extend(q,{getAll:c,getList:d,getUid:e,getVip:f,getMobileVip:g,getPop3:h,getDefined:i,getMobile:j,getChinese:k,getCorpAlias:l,getDefault:m,isSender:n,getAccount:o,getName:p})}($,window),function(a,b){function c(){this.fixInterface(),this.fixName()}function d(){top.Interface=b.Interface={},b.Interface.compose=function(a){try{var b=$L("interface.ComposeInterface",this)}catch(c){return c}b.entry(a)},b.Interface.syncUdConfig=function(b,c,d){a.Ud.set({field:b,flag:c,value:d,notPost:!0})},b.Interface.addressRefresh=function(a,b){try{var c=$L("interface.AddressInterface",this)}catch(d){return d}c.contactRefresh(a,b)}}function e(){b.Nav=b.Nav||{},b.Nav.entry=a.Nav.entry,b.Ud=b.Ud||a.Ud;var c=a.createClass($N("util.CustomAppManager"));a.Object.extend(c,f)}try{var f=$L("init.CustomAppManager")}catch(g){return g}var h=a.createClass($N("init.Nut"));a.Object.extend(h,{modules:{pop3:{"interface":"MailCenterInterface"},address:{"interface":"AddressInterface"},pop3_create:{"interface":"MailCenterInterface",param:{type:"create"}},related:{"interface":"MailCenterInterface",method:"related"},related_add:{"interface":"MailCenterInterface",method:"related",param:{type:"add"}},personal:{"interface":"OptionInterface",param:"options.PersonalModule"},folderMain:{"interface":"OptionInterface",param:"options.FolderTagModule"},compose:{"interface":"ComposeInterface"}},init:c,fixInterface:d,fixName:e})}($,window),function(a,b){function c(){return""}function d(){function c(a,b){var c=this;return a?"rcmd"==a?c._getDftRcmdHtml(a,b):c._getDftCommonHtml(a,b):!1}function d(a){var b=this,c=b._dftData,d=c[a];if(!d)return!1;var e,f=d.div,g=d.ads;return!f&&g&&g.length>0&&(e=Math.floor(g.length*Math.random()),f=g[e].div||""),f}function f(b,c){var d=this,e=d._dftData,f=e[b],g="6.0"==a.Browser.ie();return c&&"getDft"==c.func?0:g?f.ie6_ads:f.ads}function g(a){var b=this;return a?"readFlash"==a||"close"==a?!1:b.get(a):!1}function h(b,c,d){var f=this;if(!b)return!1;if("rcmd"==b){var g={rcmd:f._getDftRcmdHtml(b)};"getDft"===c.func&&(g.rcmdDft=f._getDftRcmdHtml(b,c)),d(g)}else{var g={};e(b)||(b=[b]),a.Array.each(b,function(a,b){g[b]=f._getDftCommonHtml(b,c)}),d(g)}}var i;"undefined"==typeof gAd&&(i=$G.get("promote")||{},b.gAd={bizReady:!1,ready:{},_dftData:i,get:c,getBiz:g,getByCallback:h,_getDftCommonHtml:d,_getDftRcmdHtml:f})}function e(a){return"[object Array]"==Object.prototype.toString.call(a)}function f(){var b=$G.environment.promote,c=b.innerAdScript;c&&setTimeout(function(){var b=(new Date).getTime();a.Support.loadScript(c,function(){var c=(new Date).getTime();a.Log.cache({Js6PromoteScriptLoadTime:c-b})})},200)}var g=a.createClass($N("init.Promote"));a.Object.extend(g,{init:d,loadAd:f,getLetter:c})}($,window),function(a,b,c){function d(){var c=this;x.listen("msgcenter:init",function(){if(a.Ext.msgCenterPush){var d=a("#dvDock .sb0"),e={text:'<b class="nui-ico Bk0"></b><span class="xM1">'+t.t("你收到")+(c.isShowUnread?c.unreadCount:0)+t.t("条通知")+"</span>",icon:{extcls:"sb1"},extcls:"rd1",click:function(){var b=w.module&&"outlink.OutlinkModule"===w.module.mtype&&"msgcenter"===w.module.key;if(!b){try{var d=$L("interface.AppCenterInterface",this)}catch(e){return e}d.goMsgCenter(),c.makeAllPushed()}c.isDockJump=!1,a.Dock.show()}};a.Array.each(d.doms,function(b,c){var d=a(c);if(d){var f=a.Link.html(e);f='<div class="tQ1">'+f+"</div>",d.find(".nB1").prepend(f),d.hasClass("jX0")?a(c).addClass("ew1"):d.hasClass("nM0")?a(c).addClass("hu1"):a(c).addClass("dZ1")}}),d.doms&&(a.Dock.hasNewsNotify=!0)}!c.hasPushed&&$S("useAppCenter")&&(b.setTimeout(function(){a.MsgCenter.pushMsg()},1e4),c.hasPushed=!0)})}function e(b,c){function d(d){a.Ext.msgCenterPush&&(e.messages=d.messages,e.unreadCount=d.totalUnRead||0,e.updateUnreadCont(),c||e.notify(),e.dockNotify(),b&&b(d))}var e=this,f="pullMessages",g={event:"mc_Notify",limit:0};e._request(f,g,d)}function f(b,c){var d=this,e="markAsPulled";b&&(a.Object.isArray(b)||(b=[b]));var f={msgids:JSON.stringify(b)};d._request(e,f,c)}function g(){var b=this,c=[];b.messages&&b.messages.length>0&&a.Array.each(b.messages,function(a,b){c.push(b.msgId)}),b.messages=[],b.makePushed(c)}function h(b){var d=this;b!==c&&(d.unreadCount=b),b=b||d.unreadCount;var e=a.Component.find("$extcls$rd1");e&&a.Array.each(e,function(a,c){var e=c.getEl(),f=e.find(".unreadCount");f&&f.html(d.isShowUnread?b:0)});var f=a("#spnDockNew");d.isShowUnread&&b>0?f.show():f.hide()}function i(b){var c=this,d=b[0],e=w.module&&"outlink.OutlinkModule"===w.module.mtype&&w.module.appId==d.appId;if(e){var f=u.getApp(d.appId);if(f){var g=JSON.parse(d.msgData)||{},h='<div class="APP-gMsgCenter-msgbox-header"><img class="APP-gMsgCenter-msgbox-header-logo" src="'+a.Support.getAppIconUrl(f.icon+"_75")+'" alt="'+f.text+'">'+'<h2 class="APP-gMsgCenter-msgbox-header-name">'+f.text+"</h2>"+'<ul class="APP-gMsgCenter-msgbox-header-intro">'+'<li class="APP-gMsgCenter-msgbox-header-intro-item">'+(d.title||"")+"</li>"+'<li class="APP-gMsgCenter-msgbox-header-intro-item">'+t.t("更新日期：")+"<span>"+a.Date.format(new Date(d.recieveTime),t.t("yyyy年MM月dd日"))+"</span></li>"+"</ul>"+"</div>"+'<div class="APP-gMsgCenter-msgbox-content nui-scroll">'+(g.brief||"")+"<br><br>"+(g.desc||"")+"</div>",i={header:t.t("新消息"),extcls:"APP-gMsgCenter-msgbox",content:h,okText:t.t("立即体验"),contentType:"custom",cancelText:t.t("查看更多消息通知"),ok:function(){},close:function(){},cancel:function(){try{var a=$L("interface.AppCenterInterface",this)}catch(b){return b}a.goMsgCenter()}};a.Msgbox.show(i),c.readMsg({msgIds:d.msgId});try{c.frameActions.readOneAppMsg()}catch(j){}}}}function j(b,c){function d(b){var d=b.messages,f=[];a.Array.each(d,function(a,b){b.read||f.push(b)}),f.length>0&&e.showMsg(f),c&&c(b)}if(a.Ext.msgCenterPush){var e=this,f="pickMessagesByApp",g={appid:+b};e._request(f,g,d)}}function k(b,c){var d=this,e="readMessage",f=b.appIds,g=b.msgIds,h={};f&&(a.Object.isArray(f)||(f=[f]),a.Array.each(f,function(a,b){f[a]=+b}),h.appids=JSON.stringify(f)),g&&(a.Object.isArray(g)||(g=[g]),a.Array.each(g,function(a,b){g[a]=b+""}),h.msgids=JSON.stringify(g)),d._request(e,h,function(a){c&&c(a)})}function l(c){function d(){f.showMsgTimer=i=b.setTimeout(function(){f.hideMsgTips()},f.msgShowingDuration)}function e(){i&&b.clearTimeout(i)}var f=this,g="dockMsgTips",h=$C(g),i=f.showMsgTimer;if(h&&(e(),h.destroy()),1!==y.get({field:"huodong_option",flag:"dockEnable"})-0){var j=c.appId,k=u.getApp(j),l=!1;(-100===j||-1e3===j)&&(l=!0,k.text=t.t("系统消息"),k.icon="system_tips");var m=a.Support.getAppIconUrl(k.icon+"_75"),n=JSON.parse(c.msgData)||{},o=c.title,p=n.brief||n.desc,q=a.Link.html({text:t.t("立即查看")+"&gt;&gt;",cls:"nui-txt-link",click:function(){var a=w.module&&"outlink.OutlinkModule"===w.module.mtype&&w.module.appId==j;if(l)if(n.linkUrl&&0===n.linkUrl.indexOf("appcenter")){var b=n.linkUrl.split("|");try{var c=$L("interface.AppCenterInterface",this)}catch(d){return d}var e={};b[1]&&(e.showinfo=b[1]),c.entry(e)}else{try{var c=$L("interface.AppCenterInterface",this)}catch(d){return d}c.goMsgCenter({sysMsg:!0})}else a||u.startApp(j);f.hideMsgTips()}}),r='<div class="APP-dock-tips"><div class="APP-dock-tips-ico"><img src="'+m+'" alt="'+k.text+'"></div>'+'<div class="APP-dock-tips-appname">'+a.String.left(o,18,!0)+"</div>"+'<div class="APP-dock-tips-appdesc">'+a.String.left(p,40,!0)+"</div>"+'<div class="APP-dock-tips-enter">'+q+"</div>"+"</div>";f.msgTips=new a.Layer({content:r,params:"hasArr arrDown hasClose",doNotHide:!0,arrFixX:16,fixY:-145,type:"noPadding",pointTo:a("#dvDock"),listeners:{closeclick:function(){f.hideMsgTips()},mouseover:{handler:function(){e()}},mouseout:{handler:function(){d()}}}}),f.msgTips.render(),d()}}function m(){var a=this;a.msgTips&&a.msgTips.destroy()}function n(){var a=this,c=a.messages;if(a.timer&&b.clearTimeout(a.timer),c.length>0&&a.unreadCount>0){var d=a.getNotifyMsg();if(!d)return;a.showMsgTips(d),a.pushedMsg+=1,a.makePushed(d.msgId);var e=Math.min(a.pushedMsg,a.msgShowingIntervals.length),f=6e4;a.timer=b.setTimeout(function(){a.notify()},a.msgShowingIntervals[e-1]*f)}}function o(){var a=this;a.msgSorted||(a.messages.sort(function(a,b){return a.appId===b.appId?0:-100===a.appId||-1e3===a.appId?-1:-100===b.appId||-1e3===b.appId?1:0}),a.msgSorted=!0);for(var b=a.messages.shift();b&&b.read;)b=a.messages.shift();return b}function p(){var b=this,c=6e4;b.isDockJump&&b.unreadCount>0?(a.Dock.jump(),b.dockTimer=setTimeout(function(){b.dockNotify()},3*c)):b.dockTimer&&clearTimeout(b.dockTimer)}function q(b,c,d){var e=this,f="//{0}/pushmessager/cmdsvr?cmd={1}&sid={2}&uid={3}",g=c&&c.appcenter;g&&(f="//{0}/{4}ftentry.do?func={1}&sid={2}&uid={3}",delete c.appcenter);var h=$S("host"),i="appcenter/";if($S("isyeah"))return h=(g?"appcenter":"pushmessager")+".mail."+$S("domain"),i="",void 0;f=a.Support.format(f,h,b,$S("sid"),$S("uid"),i);var j={url:f,postOriginalData:!g,body:c,error:function(){return!0},call:function(a){d&&(a["var"]?d(a["var"]):d(a))}};$S("isyeah")&&(j.type=v.FLASH),e._msgAction.wmsvr(j)}try{var r=$L("init.CustomAppManager")}catch(s){return s}var t=new $I18N("init.MsgCenter"),u=r,v=a.DataAction,w=a.Context,x=a.Listener,y=a.Ud,z=a.createClass($N("init.MsgCenter"));a.MsgCenter=z,a.Object.extend(z,{msgTimeout:1,msgShowingDuration:1e4,msgShowingIntervals:[5,7,11,13,17],pushedMsg:0,messages:[],unreadCount:0,isShowUnread:!0,isDockJump:!0,frameActions:{},init:d,pushMsg:e,makePushed:f,makeAllPushed:g,updateUnreadCont:h,showMsg:i,getUnreadMsg:j,readMsg:k,notify:n,getNotifyMsg:o,dockNotify:p,showMsgTips:l,hideMsgTips:m,_msgAction:new v,_request:q})}($,window),function(a,b){function c(){function a(){setTimeout(function(){e.uaInit(),e.typeInit(),e.baseInit(),e.sourceInit()},4e3)}var c,d,e=this;"undefined"!=typeof document.hidden?(d="visibilitychange",c="hidden"):"undefined"!=typeof document.mozHidden?(d="mozvisibilitychange",c="mozHidden"):"undefined"!=typeof document.msHidden?(d="msvisibilitychange",c="msHidden"):"undefined"!=typeof document.webkitHidden&&(d="webkitvisibilitychange",c="webkitHidden"),"undefined"!=typeof document.addEventListener&&"undefined"!=typeof document[c]&&document.addEventListener(d,function(){e._stayHandle(document[c]?"start":"end",+new Date)},!1),$S("isyeah")&&(b.attachEvent?b.attachEvent("onload",a):b.onload=a)}function d(){var b=a.Browser.getInfo(),c=this._getValue(b.os),d=this._getValue(b.system),e=this._getValue(b.appName),f=this._getValue(b.version),g=this._getValue(b.screenWidth),h=this._getValue(b.screenHeight),i=this._getValue(b.hasFlash),j=[c,d,e,f,g,h,i].join("|");a.Log.cache({perf_ua:j})}function e(){var c=b.performance;if("object"==typeof c&&c.navigation){var d=this._getValue(performance.navigation.type);a.Log.cache({perf_type:d})}}function f(){var c=this,d=b.performance;if("object"==typeof d&&d.timing){var e=d.timing,f=c._getValue(e.redirectEnd-e.redirectStart),g=c._getValue(e.domainLookupEnd-e.domainLookupStart),h=c._getValue(e.connectEnd-e.connectStart),i=c._getValue(e.responseEnd-e.responseStart),j=c._getValue(e.domComplete-e.domInteractive),k=c._getValue(e.domContentLoadedEventEnd-Math.min(e.navigationStart,e.domContentLoadedEventStart)),l=c._getValue(e.loadEventEnd-Math.min(e.navigationStart,e.loadEventStart)),m="",n="";if(d.getEntriesByType)for(var o=d.getEntriesByType("paint")||[],p=0;p<o.length;p++){var q=o[p];"first-paint"===q.name&&(m=c._getValue(parseInt(q.startTime))),"first-contentful-paint"===q.name&&(n=c._getValue(parseInt(q.startTime)))}var r=[f,g,h,i,j,k,l,m,n].join("|");a.Log.cache({perf_base:r})}}function g(){var c=this,d=b.performance;if("object"==typeof d&&d.getEntries){for(var e=d.getEntries()||[],f="",g="",h="",i=0;i<e.length;i++){var j=e[i];/\/p0.js$/.exec(j.name)&&(f=c._getValue(parseInt(j.duration))),/\/p1.js$/.exec(j.name)&&(g=c._getValue(parseInt(j.duration))),/\/p1_1.js$/.exec(j.name)&&(h=c._getValue(parseInt(j.duration)))}var k=[f,g,h].join("|");a.Log.cache({perf_source:k})}}function h(b,c,d){if(this._stayHandle(b,c,d),$S("isyeah")){var e=this,f=d["var"];if(f.module){var g=f.module;if(e._cacheModuleName[g]&&e._cacheModuleName[g].isRecord)return;"start"===b&&(e._cacheModuleName[g]={start:c}),"end"===b&&e._cacheModuleName[g]&&(e._cacheModuleName[g].isRecord=!0,a.Log.cache({perf_module:[g,c-e._cacheModuleName[g].start].join("|")}))}}}function i(b,c,d){var e;if(d){if("start"===b){var f=d["var"],g=d.oFrom;if(f){var h=this._getModuleName(f.module,(f.param||{}).key);h&&(this._curModule=h,this._curModuleTimer[h]=c),this._curModuleReal=this._getModuleName(f.module,(f.param||{}).key)}if(g){var h=this._getModuleName(g.mtype,g.key);h&&h!==this._curModuleReal&&(e=[h,this._curModuleTimer[h],c,c-this._curModuleTimer[h]],a.Log.cache({stay_module:e.join(",")},"|"))}}}else"start"===b&&this._curModule&&(this._curModuleTimer[this._curModule]=c),"end"===b&&this._curModule&&(e=[this._curModule,this._curModuleTimer[this._curModule],c,c-this._curModuleTimer[this._curModule]],a.Log.cache({stay_module:e.join(",")},"|"))}function j(b,c){var d=b.split(".")[0],e=["welcome","mbox","compose","read","options","contact"];if(a.Array.has(e,d))return d;var f=["file_center","recommend_app"];return"outlink"===d&&a.Array.has(f,c)?c:void 0}function k(a){var b="";return"number"!=typeof a||isNaN(a)||(b=a+""),"string"==typeof a&&(b=a),"boolean"==typeof a&&(b=Number(a)+""),b}var l=a.Object,m=a.createClass($N("support.Performance"));l.extend(m,{_cacheModuleName:{},_curModule:null,_curModuleReal:null,_curModuleTimer:{},init:c,uaInit:d,typeInit:e,baseInit:f,sourceInit:g,measure:h,_getValue:k,_stayHandle:i,_getModuleName:j})}($,window),function(a,b){try{var c=$L("init.Topnav")}catch(d){return d}var e=new $I18N("free.config.Topnav"),f=[{name:"account",onRender:function(){c.genAccountBox()},click:function(){c.toggleBox(this,function(a){a&&c.showAccountBox()}),a.Log.cache({Topnav20AccountClick:1})}},{name:"setting",text:e.t("设置"),split:!0,onRender:function(){c.genSettingBox()},click:function(){c.toggleBox(this),a.Log.cache({Topnav20SettingClick:1})}},{name:"download",text:e.t("官方App"),onRender:function(){c.genDownloadBox()},click:function(){c.toggleBox(this),a.Log.cache({Topnav20MasterClick:1})}},{name:"upgrade",onRender:function(){function b(b){var d=b["product.vipMember"],f=new a.Link({text:d?e.t("续费"):e.t("开通邮箱会员"),click:function(){try{var b=$L("product.Privileges",this)}catch(c){return c}b.showDialog("plus","","navigation"),a.Log.cache({Topnav20UpgradeVipClick:1})},extcls:"sh0 nui-txt-link"+(d?"":" tK2")});c.setText(f.html())}var c=this;a.Ud.getProxy({field:["product.vipMember"],call:b})}}];$G.set("topNavConf",f);var g=[{text:e.t("邮箱帮助"),split:!0,click:function(){b.open(a.Uri.getUrl("help")),a.Log.cache({Topnav20SettingHelpClick:1})}},{text:"",onRender:function(){function c(c){var f=c["product.vipMember"],g=f?e.t("专属在线管家"):e.t("呼叫小易");d.setText(g),$S("feedBackVipMember",f),f&&a.Ajax.request({requestType:a.Ajax.SCRIPT,url:"https://qiyukf.com/script/53e2302d70bda67997c5ffc8056f7c3b.js",call:function(){b.ysf.config({groupid:399009617,robotShuntSwitch:1,level:3,data:'[{"index":0, "key":"account", "label":"当前邮箱", "value": "'+$S("uid")+'"}]'})}})}var d=this;a.Ud.getProxy({field:["product.vipMember"],call:c})},click:function(){$S("feedBackVipMember")?b.ysf&&b.ysf.open():b.open("https://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac26a9fce45e613cae8"),a.Log.cache({Topnav20SettingServiceClick:1})}},{text:e.t("意见反馈"),click:function(){b.open("https://help.mail.163.com/newfeedback.do?m=add"),a.Log.cache({Topnav20SettingFeedbackClick:1})}},{text:e.t("自助查询"),click:function(){b.open("//"+$G.environment.host+"/app/service/index.jsp?sid="+$G.user.sid),a.Log.cache({Topnav20SettingQueryClick:1})}},{text:e.t("常见问题解答"),split:!0,click:function(){b.open(" https://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac24ebe7a3165848018"),a.Log.cache({Topnav20SettingFaqClick:1})}},{text:e.t("官方微博"),click:function(){b.open("http://weibo.com/163email"),a.Log.cache({Topnav20SettingWeiboClick:1})}},{mode:"wechat",modeConfig:{title:e.t("官方微信公众号"),desc:e.t("关注公众号领取福利"),qrcode:"//mimg.127.net/ggimg/all/img20/qrcode_webmail_344.jpg"}}];$G.set("topNavHelpConf",g);var h=[{text:e.t("广告特权"),click:function(){try{var b=$L("product.Privileges",this)}catch(c){return c}b.showDialog("noAd","","mailtop_noAd"),a.Log.cache({Topnav20NoAdClick:1})}},{text:e.t("网易公正邮"),click:function(){function b(){if($S("isVip")){try{var a=$L("interface.OutlinkInterface",this)}catch(b){return b}a.goOutlink({key:"notary",title:e.t("网易公正邮"),cross:!1,group:"notary",fullScreen:!0})}else{try{var a=$L("interface.OutlinkInterface",this)}catch(b){return b}a.goOutlink({key:"notary_free_v2",title:e.t("网易公正邮"),cross:!1,group:"notary_free_v2",fullScreen:!0})}}if(a.Ext.notary){var c=a.Uri.getUrl("noatry_status",!0);a.Ajax.jsonp(c,function(a){if("404"!=a.code&&"402"!=a.code)b();else{try{var c=$L("product.Privileges",this)}catch(d){return d}c.showDialog("gzy","","mailtop_gzy")}})}a.Log.cache({Topnav20AccountJudgeMailClick:1})}},{text:e.t("误删恢复特权"),click:function(){try{var b=$L("product.Privileges",this)}catch(c){return c}b.showDialog("deleteRecovery","","mailtop_del"),a.Log.cache({Topnav20AccountRecoverClick:1})}},{text:e.t("超大附件存放期延长"),click:function(){try{var b=$L("product.Privileges",this)}catch(c){return c}b.showDialog("cloudFile","","mailtop_annex"),a.Log.cache({Topnav20AccountDiskClick:1})}}];$G.set("topNavPrivilegeConf",h);var i={skin:{title:e.t("升级邮箱会员，尊享专属皮肤"),titleVip:e.t("邮箱会员专属皮肤"),img:"https://mimg.127.net/ggimg/all/img20/190625_js6_plus_201x72.png",value:-1},entries:[{text:e.t("常规设置"),click:function(){try{var b=$L("interface.OptionInterface",this)}catch(c){return c}b.entry(),a.Log.cache({Topnav20SettingBaseClick:1})}},{text:e.t("邮箱密码修改"),click:function(){b.open("https://reg.163.com/setinfo/ChangePwd_1.jsp","_blank"),a.Log.cache({Topnav20SettingPwdClick:1})}},{text:"English",onRender:function(){function b(a){var b=a["product.vipMember"];
b?c():d.hide()}function c(){var b=$G.environment.isCh?"English":"中文",c=location.pathname+"?sid="+$S("sid")+($G.environment.isCh?"&hl=en_US":"&hl=zh_CN");d.setText(b),d.getEl().listen("click",function(){location.href=c}),a.Log.cache({Topnav20SettingI18nView:$G.environment.hl})}var d=this;$S("isVip")&&c(),$S("isFree")&&a.Ud.getProxy({field:["product.vipMember"],call:b})}},{text:e.t("帐号与邮箱中心"),click:function(){try{var b=$L("interface.OptionInterface",this)}catch(c){return c}b.entry({module:"options.AccountCenterModule"}),a.Log.cache({Topnav20SettingAccountClick:1})}},{text:e.t("邮箱安全设置"),click:function(){try{var b=$L("interface.OptionInterface",this)}catch(c){return c}b.entry({module:"options.MailSecurityModule"}),a.Log.cache({Topnav20SettingSecurityClick:1})}},{text:e.t("手机服务"),click:function(){try{var b=$L("interface.OptionInterface",this)}catch(c){return c}b.entry({module:"mobile_browser",link:"opt_mobileBrowser"}),a.Log.cache({Topnav20SettingMobileClick:1})}},{text:e.t("POP3/SMTP/IMAP"),click:function(){try{var b=$L("interface.OptionInterface",this)}catch(c){return c}b.entry({subModName:"smtp",link:"option_pop3"}),a.Log.cache({Topnav20SettingPOP3Click:1})}}]};$G.set("topNavSettingConf",i)}($,window),function(a,b){try{var c=$L("init.Folder")}catch(d){return d}var e=new $I18N("config.Contextmenu");$G.set("contextMenu",{operate:{openFolder:{text:e.t("打开"),click:function(a){try{var b=$L("interface.MboxInterface",this)}catch(c){return c}b.entry({fid:a-0})}},openDefer:{text:e.t("打开"),click:function(){try{var a=$L("interface.MboxInterface",this)}catch(b){return b}a.defer()}},checkUnread:{text:e.t("查看未读"),click:function(a){try{var b=$L("interface.MboxInterface",this)}catch(c){return c}b.entry({fids:[a],filter:{flags:{read:!1}}},{type:"list",subtype:"read"})}},setUnread:{text:e.t("全部标为已读"),click:function(a){try{var b=$L("interface.MboxInterface",this)}catch(c){return c}b.setAllRead({fid:a})}},checkSentStatus:{text:e.t("查询投递状态"),click:function(){var a=$S("sid"),c=$S("host"),d="https://"+c+"/app/service/sendCheck"+($S("isFree")?"":"_vip")+".jsp?sid="+a;b.open(d)}},empty:{text:e.t("清空"),click:function(a){try{var b=$L("support.Folder",this)}catch(c){return c}b.empty({fid:a})}},setFilter:{text:e.t("分类设置"),click:function(a){try{var b=$L("interface.OptionInterface",this)}catch(c){return c}b.goFilter({folder:a})}},receive:{text:e.t("收取"),click:function(a){try{var b=$L("support.MailCenter",this)}catch(c){return c}b.receive({fid:a})}},openContact:{text:e.t("打开通讯录"),click:function(){try{var a=$L("interface.AddressInterface",this)}catch(b){return b}a.entry({action:"Welcome"})}},addContact:{text:e.t("快速添加"),click:function(){try{var a=$L("support.AddressSupport",this)}catch(b){return b}a.fastContact({type:"add"})}},openMailList:{text:e.t("打开邮件列表"),click:function(){try{var b=$L("interface.OutlinkInterface",this)}catch(c){return c}b.goOutlink({url:a.Uri.getUrl("groups"),key:"groups",title:e.t("邮件列表")})}},openSchedule:{text:e.t("打开"),click:function(){try{var a=$L("interface.OutlinkInterface",this)}catch(b){return b}a.goOutlink({key:"schedule",title:e.t("日程管理")})}},quickSchedule:{text:e.t("快速写日程"),click:function(){}},openMailCenter:{text:e.t("打开"),click:function(){a.Nav.entry("OptionInterface",{module:"options.AccountCenterModule"})}},receiveAll:{text:e.t("收取所有"),click:function(){try{var a=$L("support.MailCenter",this)}catch(b){return b}a.receiveAll()}},compose:{text:e.t("写信"),click:function(a){function b(a){try{var b=$L("init.SenderList",this)}catch(c){return c}var e=b.isSender(d.username),f=null;e&&(f={info:{account:e.toString()}}),a.compose(f)}var d=c.getPopInfo(a);try{var e=$L("interface.ComposeInterface",this)}catch(f){return f}b(e)}},createPop:{text:e.t("迁移其他邮箱"),click:function(){try{var a=$L("interface.OptionInterface",this)}catch(b){return b}a.entry({module:"AccountCenterModule",extra:{type:"create",section:"mailcenter"}})}},openFileCenter:{text:e.t("打开"),click:function(){try{var a=$L("product.FileCenter",this)}catch(b){return b}a.entry()}},openFujian:{text:e.t("打开"),click:function(){try{var a=$L("product.FileCenter",this)}catch(b){return b}a.entry("fj_center")}},openNf:{text:e.t("打开"),click:function(){try{var a=$L("product.FileCenter",this)}catch(b){return b}a.entry("nf_center")}},uploadNf:{text:e.t("上传文件"),click:function(){try{var a=$L("product.FileCenter",this)}catch(b){return b}a.entry("nf_center",{param:{upload:!0}})}},openMega:{text:e.t("打开"),click:function(){try{var a=$L("product.FileCenter",this)}catch(b){return b}a.entry("bj_center")}},uploadMega:{text:e.t("上传文件"),click:function(){try{var a=$L("product.FileCenter",this)}catch(b){return b}a.entry("bj_center",{param:{upload:!0}})}},openPhoto:{text:e.t("打开"),click:function(){try{var a=$L("product.FileCenter",this)}catch(b){return b}a.entry("photo_center")}},uploadPhoto:{text:e.t("上传文件"),click:function(){var a=$S("uid"),c=a.split("@")[0],d=$S("domain");"126.com"==d?c+="@126":"yeah.net"==d?c+="@yeah":"188.com"==d?c+="@188":"vip.163.com"==d?c+=".vip":"vip.126.com"==d&&(c=a),b.open("http://photo.163.com/"+c+"/upload/#p=0")}},configPhoto:{text:e.t("管理"),click:function(){var a=$S("uid"),c=a.split("@")[0],d=$S("domain");"126.com"==d?c+="@126":"yeah.net"==d?c+="@yeah":"188.com"==d?c+="@188":"vip.163.com"==d?c+=".vip":"vip.126.com"==d&&(c=a),b.open("http://photo.163.com/"+c+"/?u="+c+"#p=0&m=0&page=1")}},openSevice:{text:e.t("打开"),click:function(b){var c=a.Array.findObject(a.AppManager.getAppsList(),"id",b);try{var d=$L("interface.OutlinkInterface",this)}catch(e){return e}d.goOutlink({key:c.name,title:c.text,lockid:c.lockid})}},configService:{text:e.t("设置"),click:function(){a.Nav.entry("CustomInterface")}},hideService:{text:e.t("隐藏"),click:function(b){a.Nav.setServiceEnable({key:b,group:"service",disabled:!0})}},setCustom:{text:e.t("自定义显示项"),click:function(){a.Nav.entry("CustomInterface")}},configFolder:{text:e.t("管理文件夹"),click:function(){try{var a=$L("interface.OptionInterface",this)}catch(b){return b}a.entry("options.FolderTagModule")}},createFolder:{text:e.t("新建文件夹"),click:function(){try{var a=$L("support.Folder",this)}catch(b){return b}a.add()}},hideFolder:{text:e.t("折叠"),click:function(b){a.Nav.setServiceEnable({key:b,group:"folders",disabled:!0})}},showFolder:{text:e.t("显示"),click:function(b){a.Nav.setServiceEnable({key:b,group:"folders"})}},hide:{text:e.t("折叠"),click:function(b,c){a.Nav.setServiceEnable({key:b,group:c,disabled:!0})}},show:{text:e.t("显示"),click:function(b,c){"cusfolder"==c&&(c="folder"),a.Nav.setServiceEnable({key:b,group:c})}},openRed:{text:e.t("打开"),click:function(){try{var a=$L("interface.MboxInterface",this)}catch(b){return b}a.entry({filter:{label0:1}})}},rename:{text:e.t("重命名"),click:function(a){try{var b=$L("support.Folder",this)}catch(c){return c}b.rename({fid:a-0})}},moreFlag:{text:e.t("其他旗帜"),getItems:function(){for(var b=[],c=0;c<a.LETTERFLAG.length;c++){var d=a.LETTERFLAG[c];d&&b.push({extcls:"nui-txt-flag"+c,icon:{type:"flag",subtype:c},text:d,click:a.Function.bind(function(a){try{var b=$L("interface.MboxInterface",this)}catch(c){return c}b.entry({filter:{label0:a}})},this,c)})}return b}},openTag:{text:e.t("打开"),click:function(b){try{var c=$L("interface.MboxInterface",this)}catch(d){return d}var e=a.Array.findObject(a.Nav.getItem("name","tag").items,"id",b);c.entry({fid:0,showTag:!0,tag:[e.name]}),a.Log.cache({from:"nav"})}},createTag:{text:e.t("添加标签"),click:function(){try{var b=$L("support.Tag",this)}catch(c){return c}a.Log.cache({from:"nav"}),b.add()}},manageTag:{text:e.t("管理标签"),click:function(){try{var a=$L("interface.OptionInterface",this)}catch(b){return b}a.entry({module:"FolderTagModule"})}},editTag:{text:e.t("修改标签"),click:function(b){try{var c=$L("support.Tag",this)}catch(d){return d}c.modify({name:b,callback:function(){a.Nav.show()}})}}},folder:{1:["openFolder","checkUnread","setUnread"],2:["openFolder","checkUnread","setUnread"],3:/@(188\.com)|(vip\.188\.com)|(vip\.126\.com)/.test($G.user.uid)?["openFolder"]:["openFolder","checkSentStatus"],4:["openFolder"],5:["openFolder","checkUnread","setUnread","setFilter"],7:["openFolder","checkUnread","setUnread","setFilter"],15:["openFolder","checkUnread","setUnread","setFilter"],18:["openFolder","checkUnread","setUnread","setFilter"],"-2":["openRed","moreFlag"],defer:["openDefer"],"default":["openFolder","checkUnread","setUnread","setFilter","rename"]},pop:{"default":["openFolder","checkUnread","compose"]},tag:{"default":["openTag","editTag"]},address:{contact:["openContact","addContact","openMailList"],schedule:["openSchedule"]},filecenter:{fj_center:["openFujian"],nf_center:["openNf","uploadNf"],bj_center:["openMega","uploadMega"],photo_center:["openPhoto","uploadPhoto","configPhoto"]},title:{folder:["setCustom","configFolder","createFolder"],cusfolder:["configFolder","createFolder"],tag:["createTag","manageTag"],pop:["openMailCenter","receiveAll","createPop"],filecenter:["openFileCenter"]}})}($,window),function(a){try{var b=$L("init.Thread")}catch(c){return c}try{var d=$L("util.Notification")}catch(c){return c}try{var e=$L("init.Folder")}catch(c){return c}try{var f=$L("init.Tag")}catch(c){return c}var g=new $I18N("config.Ext"),h=a.Ud;$G.set("extConf",{letterPaper:{domain:["free"],resource:[$G.environment.mimgUrl+"external/letter.js"],autoLoad:!1},letterPaperVip:{domain:["vip"],resource:[$G.environment.mimgUrl+"vip/letter/vipmail/js/letter.js"],autoLoad:!1},letterTop:{autoLoad:!0},letterRecall:{autoLoad:$G.attrs.cos.perm_recall_mail},readTran_enable:{domain:["free","vip","corp"],autoLoad:!0},readTran_atta:{domain:["free","vip"],autoLoad:!0},pdfConver_atta:{domain:["free","vip"],autoLoad:!0,condition:function(){return!a.Browser.isIE("<9")}},readNewPic:{domain:["yeah.net"],condition:function(){return Math.random()<.25},autoLoad:!0},read_noSsidRead:{domain:["free"],autoLoad:!0},read_mailService:{domain:["free"],autoLoad:!0},mobileAccount:{domain:["free","vip"],autoLoad:!0},photo:{domain:["vip.163.com","163.com","126.com"],autoLoad:!0},stamp:{domain:["free"],autoLoad:!0},smspack:{domain:["free"],condition:function(){return"1"==h.get({field:"ntes_global",flag:"sendSms"})},autoLoad:!0},smspack_vip:{domain:["vip"],autoLoad:!0},lab:{domain:["free"],autoLoad:!0},pass2:{autoLoad:!0},music:{domain:["free","vip"],condition:function(){var a=navigator.appVersion.toLowerCase();return a.indexOf("iphone")>-1||a.indexOf("ipad")>-1||a.indexOf("ipod")>-1?!1:!0},autoLoad:!0},thread:{autoLoad:!0,condition:function(){return b.check(null,!0)}},prev:{autoLoad:!0},localStorage:{domain:["free"],labid:28,autoLoad:!0},memo:{autoLoad:!0},pushmail:{domain:["free"],condition:function(){return!1},timeout:5e3,autoLoad:!0},useNewAd:{domain:["163.com","126.com"],autoLoad:!0},useTab:{condition:function(){return!0},autoLoad:!0},deliver:{autoLoad:!0},recovery:{domain:["free","vip.163.com"],autoLoad:!0,condition:function(){return $G.attrs.cos.pref_mail_preserving_days>0}},accountRelate:{autoLoad:!0},accountRelateHttps:{domain:["free"],autoLoad:!0},scheduleMbox:{domain:["free","vip.163.com","corp"],autoLoad:!0,condition:function(){var a=$G.attrs.user.ntes_rd_config;return a&&"1"==a.substring(0,1)}},scheduleRead:{domain:["free","corp"],autoLoad:!0},notification:{autoLoad:!0,condition:function(){var a=d,b=a.checkPermission();return b==a.PERMISSION_ALLOWED||b==a.PERMISSION_NOT_ALLOWED}},tag:{autoLoad:!0},summary:{autoLoad:!0,domain:["free","vip"],condition:function(){return!a.Browser.isIE("<9")&&$S("attrs").cos.perm_mail_threading===!0}},domainstat:{domain:["163.com"],autoLoad:$G.environment.now>new Date(2011,11,2,12,59)?!0:!1},guide:{domain:["free"],condition:function(){try{var b=e.getTotal();if(b>1)return}catch(c){}return 1!=a.Ud.get({field:"ntes_contact",flag:"js6Welcome"})?(a.Ud.set({field:"ntes_contact",flag:"js6Welcome",value:1}),a.Ud.setProxy({field:"webmail.js.topnavGuide2020",value:1}),!0):void 0},autoLoad:!0},contact_record:{domain:["free","vip"],autoLoad:!0},undo_send:{autoLoad:!0},ynote:{domain:["free","vip"],autoLoad:!0},signFilter:{autoLoad:!0,condition:function(){return!0}},linkedin:{domain:["free"],autoLoad:!0},selectFolder:{autoLoad:!0},rollback:{autoLoad:!0},shortcut:{condition:function(){return"0"==h.get({field:"ntes_option",flag:"shortcut_enable"})},autoLoad:!0},contactCorrect:{domain:["free","vip"],condition:function(){return"0"==h.get({field:"ntes_letter",flag:"remindShow"})},autoLoad:!0},optimizer:{domain:["free"],autoLoad:!0},mailFilterHistory:{domain:["free","vip","corp"],autoLoad:!0},mailFilterLock:{domain:["free"],autoLoad:!0},newAttach:{autoLoad:!0},appCenter:{domain:["free"],autoLoad:!0},msgCenter:{domain:["free"],autoLoad:!0},msgCenterPush:{domain:["free"],condition:function(){var b=["hsb001_mobile@163.com","snoopy424@163.com","capacabana@163.com","chenjl_1204@163.com","jayyouth@163.com","lianglong2000@163.com","4002@163.com","5767@163.com","rabbler@163.com","rabbler@yeah.net","huaxinjiayou@126.com","huaxinjiayou@163.com","lemoncn@163.com","xyz1234556789@163.com ","7372@163.com","dccd@163.com","dongua81@163.com","dongua81@126.com","dongua81@yeah.net","chiyulin8@163.com","jocelyntest@163.com","iris-yuan0608@163.com","symbolnice@126.com","suizi@yeah.net","thekai@163.com","wortherm@163.com","scsf1989@163.com","kekedqf@163.com","echo96092@163.com","junex99@126.com","mwl_test1@163.com","mwl_test2@163.com","mwl_test3@163.com","flower_12301@163.com","guolitest1@163.com","guolitest2@163.com","guolitest3@163.com","yu_test01@163.com","yu_test01@126.com","yu_test01@yeah.net","luckytest1@163.com","dleo@126.com","innayyx@163.com","jftan83@163.com","sanlly@163.com","echo96092@126.com","jiajia_snoopy@163.com","ntes10@163.com","ntes1010@163.com","ntes2012@163.com","benwei@163.com","benwei76@126.com","dbtest01@163.com"];return a.Array.has(b,$S("uid"))},autoLoad:!0},brand:{domain:["free"],autoLoad:!0},defer:{autoLoad:!0},archive:{autoLoad:!0,condition:function(){return $G.attrs.cos.pref_mail_archive_lite_quota>0&&$G.user.archiveMessageCount>0&&$G.user.archiveMessageSize>0}},read_smart_tag:{domain:["free"],autoLoad:!1},plugin_cloudmusic:{domain:["free","vip"],condition:function(){if("standard"===$G.mailPattern.currentPattern){if(a.Browser.isIE("<9")||(bOpen=!0),$S("isFree")||$S("isVip"))if(a.Uri.urls.music_outlink)a.Uri.urls.music_outlink=new a.Uri({key:"music_outlink",url:"//music.163.com/musicbox?ref=mail&host=$host$&sid=$sid$&uid=$uid$#https://$host$/app/cloudmusic/proxy.html",title:g.t("网易云音乐")},a.Uri.type.URL);else{var b=$G.get("uriConf").all;b.music_outlink=["//music.163.com/musicbox?ref=mail&host=$host$&sid=$sid$&uid=$uid$#https://$host$/app/cloudmusic/proxy.html",g.t("网易云音乐")],$G.set("uriConf",{all:b})}return bOpen}},autoLoad:!0},compose_card:{condition:function(){return!1},autoLoad:!0},human_trans:{domain:["free"],autoLoad:!0},avatar_show:{domain:["free","vip","corp"],autoLoad:!0},limit_max:{domain:["free","vip"],autoLoad:!0,condition:function(){return a.Browser.isIE("<9")}},mobile_upload:{domain:["free"],autoLoad:!0},plugin_vipMsgCenter:{domain:["vip"],autoLoad:!0},newYearCard:{domain:["free"],condition:function(){var a=new Date,b=a.getFullYear(),c=a.getMonth(),d=a.getDate();return 2018==b&&1==c&&d>=12&&22>=d?!0:!1},autoLoad:!0},smart:{domain:["free"],autoLoad:!0,condition:function(){var a=f;a.init();var b=!1;for(var c in a.smarts){var d=a.get(c,"smart",!0);if(d){b=!0;break}}return b}},notary:{domain:["free","vip"],autoLoad:!0},attach_online_modify:{domain:["corp"],autoLoad:!0,condition:function(){return 1==$G.user.accountRight.qiye_fed&&1==$G.user.accountRight.serviceme?!0:!1}},netfolder_enable:{autoLoad:!0,condition:function(){return!0}},bigattach_enable:{autoLoad:!0,condition:function(){return!0}},chromeCapture:{autoLoad:!1},secondauthPromote:{domain:["free"],condition:function(){var b=new Date,c=b.getFullYear(),d=b.getMonth(),e=b.getDate();return 2018==c&&10==d&&e>=8&&15>=e&&0===a.Number.random(10)?!0:!1},autoLoad:!0},pluginPopupTips:{domain:["free"],condition:function(){if($S("ad")&&"ud"===$S("ad").userType)return!1;var b=a.Misc.getTime();return new Date(2018,11,13,0)>b},autoLoad:!0},pluginMasterMailPopup:{domain:["free"],condition:function(){if($S("ad")&&"ud"===$S("ad").userType)return!1;var b=a.Misc.getTime();return new Date(2018,11,16,0)>b},autoLoad:!0},composeAt:{domain:["free"],autoLoad:!0},ics2:{autoLoad:!0,condition:function(){return!a.Browser.isIE("<10")}},ics2schedule:{domain:["corp"],autoLoad:!0},privilegeOverflow:{domain:["free"],autoLoad:!0,condition:function(){return!0}},plusBrand:{autoLoad:!0,condition:function(){return!0}},editorNewTypo:{autoLoad:!0}})}($,window),function(a,b,c){try{var d=$L("init.Defer")}catch(e){return e}try{var f=$L("init.Nav")}catch(e){return e}try{var g=$L("support.AddressSupport")}catch(e){return e}try{var h=$L("init.Contacts")}catch(e){return e}try{var i=$L("init.Tag")}catch(e){return e}try{var j=$L("init.Folder")}catch(e){return e}var k=new $I18N("config.Nav");$G.set("navConf",{top:{html:'<ul class="tJ0"></ul>',items:[{html:'<li class="ra0 nb0" tabindex="0" role="button" hidefocus="hidefocus"><span class="om0"><b class="nui-ico fn-bg hC0"></b></span><span class="oz0">'+k.t("收 信")+"</span></li>",listeners:{mouseover:{handler:function(){a(this).addClass("gr0")}},mouseout:{handler:function(){a(this).removeClass("gr0")}},mousedown:{handler:function(){var b=a(this);b&&(b.removeClass("gr0"),b.addClass("gd0"))}},mouseup:{handler:function(){var b=a(this);b&&(b.removeClass("gd0 gu0"),b.addClass("gr0")),a.Nav.focus(!0)}},click:{handler:function(){try{var b=$L("interface.MboxInterface",this)}catch(c){return c}b.entry({fid:1},{receive:!0}),a.Log.cache({LeftNavRecieveMailClick:1})}},keyup:{handler:function(b){if(13===b.keyCode){try{var c=$L("interface.MboxInterface",this)}catch(d){return d}c.entry({fid:1},{receive:!0}),a.Event.fire(this,"mouseup")}}},keydown:{handler:function(b){13===b.keyCode&&a.Event.fire(this,"mousedown")}},focus:{handler:function(){var b=a(this);b&&b.addClass("gu0")}},blur:{handler:function(){var b=a(this);b&&b.removeClass("gu0 gr0 gd0")}}},baseBtnCls:"nb0"},{html:'<li class="ra0 mD0" tabindex="0" role="button" hidefocus="hidefocus"><span class="om0"><b class="nui-ico fn-bg ga0"></b></span><span class="oz0">'+k.t("写 信")+"</span></li>",listeners:{mouseover:{handler:function(){a(this).addClass("gc0")}},mouseout:{handler:function(){a(this).removeClass("gc0")}},mousedown:{handler:function(){var b=a(this);b.removeClass("gc0"),b.addClass("fe0")}},mouseup:{handler:function(){var b=a(this);b.removeClass("fe0"),b.addClass("gc0")}},click:{handler:function(){try{var b=$L("interface.ComposeInterface",this)}catch(c){return c}b.entry(),a.Log.cache({LeftNavGotoComposeClick:1})}},keyup:{handler:function(b){if(13===b.keyCode){try{var c=$L("interface.ComposeInterface",this)}catch(d){return d}c.entry(),a.Event.fire(a(this).dom,"mouseup")}}},keydown:{handler:function(b){13===b.keyCode&&a.Event.fire(a(this).dom,"mousedown")}},focus:{handler:function(){var b=a(this);b&&b.addClass("gb0")}},blur:{handler:function(){var b=a(this);b&&b.removeClass("gb0 gc0 fe0")}}},baseBtnCls:"mD0"}]},tree:[{name:"folder",text:k.t("文件夹"),showInRoot:!0,getData:function(){var b=a.Folder.list("system").concat(a.Folder.list("custom")),d={id:a.Nav.redFolderId,name:a.Nav.redFolderText},e={id:"defer",name:k.t("待办邮件")},f={id:"smartTag",name:k.t("智能标签")};return a.Ext.smart||(f=c),b.splice(1,0,d,e,f),b},displayTitle:function(a){var b;if("defer"===a){var c=d.getInfo("expire");b=k.t("您有")+c+k.t("封待办邮件需要处理")}return b},getCustom:function(a){return this.customed=a.folder?!0:!1,a?a.folder:""},getCount:function(b){if(a.Array.has($G.common.nounreadids,b))return 0;var e=0;return b==a.Nav.redFolderId||(e="defer"===b?d.getInfo("expire"):a.Folder.getInfo(b,2==b?c:"unread","count")),e>0?e:void 0},getItemExtLnk:function(){},getExtIcon:function(a){var b;if("-2"==a)return{xtype:"icon",type:"flag",subtype:"1",extcls:"nv1"};if("defer"===a){b={xtype:"icon",type:"todo",subtype:"transparent",extcls:"nw1"};var c=d.getInfo("expire");return c>0&&(b.subtype="selected"),b}return"smartTag"===a?b={xtype:"icon",type:"category",extcls:"mQ1"}:void 0},getExtIcon2:function(a){return"3"==a?{xtype:"icon",type:"mailLv",subtype:"1",hidden:!0,extcls:"pH1"}:void 0},getContextMenu:function(a){var b=a.id;return b-0>-3||"defer"===b?$G.get("contextMenu").folder[b]||$G.get("contextMenu").folder["default"]:$G.get("contextMenu").title.folder},defaultDisplay:function(a,b){if(b)return 1;var c=a-0;return c>3?17===c||18===c||19===c?1:0:1},enableSetDisplay:function(a){return 1!==a-0&&-3!==a-0&&"defer"!==a},focus:function(b){var c;if(b&&b.extend&&"function"==typeof b.extend){var d=b.extend("subtype");switch(d){case"folder":c=b.param("fid");break;case"flag":c=a.Nav.redFolderId;break;case"defer":c="defer";break;case"contacts":var e=b.extend("contact");c=e&&e.id;break;case"tag":if(b.extend("smart"))c="smartTag";else{var f=b.param("tag");c=f&&f.length&&f[0]}}}return c},onRender:function(a,b){"defer"===b&&$S("LeftNavDeferItem",a)},onclick:function(b){try{var c=$L("interface.MboxInterface",this)}catch(d){return d}b-0>a.Nav.redFolderId-0?c.entry({fid:b-0}):"defer"===b?c.defer():"smartTag"===b?c.smarts():c.entry({filter:{label0:1}})}},{name:"cusfolder",text:'<span id="spnHideFolders">'+k.t("其他文件夹")+"</span>",getData:function(){var c=this,d=a.Folder.list("system").concat(a.Folder.list("custom"));return d.splice(1,0,{id:a.Nav.redFolderId,name:a.Nav.redFolderText}),b.setTimeout(function(){var b=c.displayCount;try{a.Nav.tree.getEl().find("#spnHideFolders").html(k.t("其他")+(b?b+k.t("个"):"")+k.t("文件夹"))}catch(d){}},500),d},fixDisplay:function(a,b){var c=!b;return c},getCustom:function(a){return this.customed=a.folder?!0:!1,a?a.folder:""},getCount:function(b){if(a.Array.has($G.common.nounreadids,b))return 0;var d=a.Folder.getInfo(b,2==b?c:"unread");return d>0?d:void 0},getItemExtLnk:function(){},getTitleExtLnk:function(){return[{xtype:"icon",extcls:"rS0",title:k.t("新建文件夹"),ariaLabel:"",tabindex:"0",role:"link",listeners:{keyup:{handler:function(b){13===b.keyCode&&(a.Event.fire(this,"click"),a.Event.cancelBubble(),a.Event.fire(document.body,"click"))}},click:{handler:function(){try{var b=$L("support.Folder",this)}catch(c){return c}b.add(),a.Event.cancelBubble(),a.Event.fire(document.body,"click"),a.Log.cache({LeftNavFolderAddClick:1})}}}},{xtype:"icon",extcls:"qE0",title:k.t("管理文件夹"),ariaLabel:"",tabindex:"0",role:"link",listeners:{keyup:{handler:function(b){13===b.keyCode&&(a.Event.fire(this,"click"),a.Event.cancelBubble(),a.Event.fire(document.body,"click"))}},click:{handler:function(){try{var b=$L("interface.OptionInterface",this)}catch(c){return c}b.entry("options.FolderTagModule"),a.Log.cache({LeftNavFolderManageClick:1}),a.Event.cancelBubble()}}}}]},getExtIcon:function(a){return"-2"==a?{xtype:"icon",type:"flag",subtype:"1",extcls:"nv1"}:void 0},getContextMenu:function(a){var b=a.id;return $G.get("contextMenu").folder[b]||$G.get("contextMenu").folder["default"]},getTitleContextMenu:function(){return $G.get("contextMenu").title.cusfolder},clickTitleCaseEmpty:function(){},defaultDisplay:function(a,b){return $G.get("navConf").tree[0].defaultDisplay(a,b)},enableSetDisplay:function(a){return 1!=a-0&&-3!=a-0},focus:function(a){return a._var&&a._var.param&&a._var.param.fid&&"mbox.ListModule"==a._var.module?a._var.param.fid:void 0},onclick:function(a){try{var b=$L("interface.MboxInterface",this)}catch(c){return c}a-0>f.redFolderId-0?b.entry({fid:a-0}):b.entry({filter:{label0:1}})}},{name:"contactMail",text:k.t("星标联系人邮件"),titleUd:{field:"ntes_contact",flag:"navContactMail"},extcls:"xH0",insertAfter:function(){return a.Ext.smart?"smartTag":"defer"},limitWidth:105,groupExtIcon:function(){var a={xtype:"icon",type:"star",subtype:"selected",extcls:"lt1"};return a},useGroupIcon:!0,getData:function(){function b(b){a.Array.each(b,function(a,b){b.cid&&(b.id=b.cid)})}var c=$S("contactInit")?g.getMarkData():$S("firstMarkedContacts")?$S("firstMarkedContacts"):{},d=a.Object.clone(c.contact)||[];b(d);var e=d;return $S("navContactMailData",e),e},getCustom:function(){},displayTitle:function(a,b){return b.email||b.name},onRender:function(){},clickTitleCaseEmpty:function(){try{var a=$L("interface.MboxInterface",this)}catch(b){return b}a.emails()},getCount:function(b){var c=$S("contactInit")?g.getMarkData():{},d=c.contact||[],e=a.Array.findObject(d,"cid",b);return e?h.getInfo(e,"unread"):0},getTitleExtLnk:function(){return[{xtype:"icon",extcls:"rS0",title:k.t("添加星标联系人"),ariaLabel:"",tabindex:"0",role:"link",listeners:{keyup:{handler:function(b){13==b.keyCode&&(a.Event.fire(this.getEl().dom,"click"),a.Event.cancelBubble(),a.Event.fire(document.body,"click"))}},click:{handler:function(){a.Support.addContactMail(),a.Event.stop(),a.Log.cache({LeftNavContactMailAddClick:1})}}}},{xtype:"icon",extcls:"qE0",title:k.t("管理星标联系人邮件"),ariaLabel:"",tabindex:"0",role:"link",listeners:{keyup:{handler:function(b){13==b.keyCode&&(a.Event.fire(this.getEl().dom,"click"),a.Event.cancelBubble(),a.Event.fire(document.body,"click"))}},click:{handler:function(){try{var b=$L("interface.AddressInterface",this)}catch(c){return c}b.entry({action:"marked"}),a.Event.stop(),a.Log.cache({LeftNavContactMailManageClick:1})}}}}]},getIcon:function(a){return[{xtype:"icon",type:"group"===a.ctype?"stars":"starSml",subtype:"selected"}]},getItemExtLnk:function(){return[]},getExtIcon:function(){},getContextMenu:function(){},defaultDisplay:function(){return 1},enableSetDisplay:function(){},focus:function(){},onclick:function(){var a=this;try{var b=$L("interface.MboxInterface",this)}catch(c){return c}b.contacts(a)}},{name:"tag",extcls:"vm0",text:k.t("邮件标签"),getData:function(){try{var a=i.list()}catch(b){}var c=[];if(a)for(var d in a){var e=a[d];e.text=e.alias,e.color=a[d].color,e.id=e.name,c.push(e)}return c},getEmptyContent:function(){return{id:"sysDefault",html:'<li class="nui-tree-item sd0" role="treeitem" tabindex="0"><div class="qq0"></div><div class="nh0">'+k.t("为邮件标记不同颜色的标签，更好的管理各类邮件。")+"<br />"+a.Link.html({text:k.t("添加标签"),extcls:"nui-txt-link",icon:{extcls:"ku0 fn-bg"},click:function(){try{var b=$L("support.Tag",this)}catch(c){return c}b.add({from:"nav"}),a.Event.cancelBubble(),a.Event.fire(document.body,"click"),a.Log.cache({LeftNavTagTipsAddClick:1})}})+"</div></li>"}},getCount:function(b){var c=a.Array.findObject(a.Array.findObject($G.get("navConf").tree,"name","tag").items,"id",b),d=i.getInfo(c.name,"unread");return d>0?d:void 0},clickTitleCaseEmpty:function(){try{var a=$L("interface.OptionInterface",this)}catch(b){return b}a.entry("options.FolderTagModule")},getTitleExtLnk:function(){return[{xtype:"icon",extcls:"rS0",title:k.t("添加标签"),ariaLabel:"",tabindex:"0",role:"link",listeners:{keyup:{handler:function(b){13==b.keyCode&&(a.Event.fire(this.getEl().dom,"click"),a.Event.cancelBubble(),a.Event.fire(document.body,"click"))}},click:{handler:function(){try{var b=$L("support.Tag",this)}catch(c){return c}b.add({from:"nav"}),a.Event.cancelBubble(),a.Event.fire(document.body,"click"),a.Log.cache({LeftNavTagAddClick:1})}}}},{xtype:"icon",extcls:"qE0",title:k.t("管理标签"),ariaLabel:"",tabindex:"0",role:"link",listeners:{keyup:{handler:function(b){13==b.keyCode&&(a.Event.fire(this.getEl().dom,"click"),a.Event.cancelBubble(),a.Event.fire(document.body,"click"))}},click:{handler:function(){try{var b=$L("interface.OptionInterface",this)}catch(c){return c}b.entry({module:"FolderTagModule"}),a.Event.cancelBubble(),a.Event.fire(document.body,"click"),a.Log.cache({LeftNavTagManageClick:1})}}}}]},getExtIcon:function(){},getIcon:function(b){return[{xtype:"icon",type:"tag",subtype:b.color,onRender:function(){a.Support.getTagMenu(b.id,b.text).attachTo({clickFrom:this.getEl()}),a.Log.cache({from:"nav",action:"showTagMenu"})}}]},defaultDisplay:function(a){var b=i.list(),c=b[a],d=c&&c.show||0;return d},enableSetDisplay:function(){},getContextMenu:function(){return $G.get("contextMenu").tag["default"]},getTitleContextMenu:function(){return $G.get("contextMenu").title.tag},focus:function(){},onclick:function(b){var c=a.Event.getTarget();if(!c||!c.tagName||"B"!=c.tagName.toUpperCase()){try{var d=$L("interface.MboxInterface",this)}catch(e){return e}var f=a.Array.findObject(a.Array.findObject($G.get("navConf").tree,"name","tag").items,"id",b);d.entry({tag:[f.name]})}}},{name:"pop",extcls:"pQ0",text:k.t("邮箱中心"),revTitleFold:!0,getData:function(){var b=a.Folder.list("pop");return b},getEmptyContent:function(){return{id:"sysDefault",html:'<li class="nui-tree-item sd0" role="treeitem" tabindex="0"><div class="qq0"></div><div class="nh0">'+k.t("通过POP3自动收取，管理其他邮箱的邮件。")+"<br />"+a.Link.html({text:k.t("添加其他邮箱"),extcls:"nui-txt-link",icon:{extcls:"ku0 fn-bg"},click:function(){try{var b=$L("interface.OptionInterface",this)}catch(c){return c}b.entry({module:"AccountCenterModule",extra:{type:"create",section:"mailcenter"}}),a.Event.cancelBubble(),a.Event.fire(document.body,"click"),a.Log.cache({LeftNavMailCenterTipsAddClick:1})}})+"</div></li>"}},getCustom:function(a){return a?a.folder:""},getCount:function(a){var b=j.getInfo(a,"unread","count");return b>0?b:void 0},clickTitleCaseEmpty:function(){try{var a=$L("interface.OptionInterface",this)}catch(b){return b}a.entry({module:"AccountCenterModule",extra:{type:"create",section:"mailcenter"}})},getTitleExtLnk:function(){return[{xtype:"icon",extcls:"qp0",title:k.t("收取全部邮箱的邮件"),ariaLabel:"",tabindex:"0",role:"link",listeners:{keyup:{handler:function(b){13==b.keyCode&&(a.Event.fire(this.getEl().dom,"click"),a.Event.cancelBubble(),a.Event.fire(document.body,"click"))}},click:{handler:function(){try{var b=$L("support.MailCenter",this)}catch(c){return c}b.receiveAll(),a.Event.cancelBubble(),a.Event.fire(document.body,"click"),a.Log.cache({LeftNavMailCenterReceiveAllClick:1})}}}},{xtype:"icon",extcls:"rS0",title:k.t("迁移其他邮箱"),ariaLabel:"",tabindex:"0",role:"link",listeners:{keyup:{handler:function(b){13==b.keyCode&&(a.Event.fire(this.getEl().dom,"click"),a.Event.cancelBubble(),a.Event.fire(document.body,"click"))}},click:{handler:function(){try{var b=$L("interface.OptionInterface",this)}catch(c){return c}b.entry({module:"AccountCenterModule",extra:{type:"create",section:"mailcenter"}}),a.Event.cancelBubble(),a.Event.fire(document.body,"click"),a.Log.cache({LeftNavMailCenterAddClick:1})}}}},{xtype:"icon",extcls:"qE0",title:k.t("管理邮箱中心"),ariaLabel:"",tabindex:"0",role:"link",listeners:{keyup:{handler:function(b){13==b.keyCode&&(a.Event.fire(this.getEl().dom,"click"),a.Event.cancelBubble(),a.Event.fire(document.body,"click"))}},click:{handler:function(){a.Nav.entry("OptionInterface",{module:"options.AccountCenterModule"}),a.Event.cancelBubble(),a.Event.fire(document.body,"click"),a.Log.cache({LeftNavMailCenterManageClick:1})}}}}]},getItemExtLnk:function(b){return[{xtype:"icon",extcls:"qp0",title:k.t("收取")+b.flags.username+k.t("邮箱的邮件"),ariaLabel:"",tabindex:"0",role:"link",listeners:{keyup:{handler:function(b){13==b.keyCode&&(a.Event.fire(this.getEl().dom,"click"),a.Event.cancelBubble(),a.Event.fire(document.body,"click"))
}},click:{handler:function(){try{var c=$L("support.MailCenter",this)}catch(d){return d}c.receive({fid:b.id}),a.Event.cancelBubble(),a.Event.fire(document.body,"click"),a.Log.cache({LeftNavMailCenterReceive20Click:1})}}}}]},getIcon:function(a){return[{xtype:"icon",type:"folder",subtype:a.flags.iconSubtype||"other"}]},defaultDisplay:function(){return 1},enableSetDisplay:function(){return!0},getContextMenu:function(){return $G.get("contextMenu").pop["default"]},getTitleContextMenu:function(){return $G.get("contextMenu").title.pop},focus:function(a){return a._var&&a._var.param&&a._var.param.fid&&"mbox.ListModule"==a._var.module?a._var.param.fid:void 0},onclick:function(a){try{var b=$L("interface.MboxInterface",this)}catch(c){return c}a-0>f.redFolderId-0?b.entry({fid:a-0}):b.entry({filter:{label0:1}})}},{name:"filecenter",text:k.t("文件中心"),showInRoot:!0,getData:function(){return[{id:"0",name:"file_center",text:k.t("文件中心")}]},getExtIcon:function(){},getCustom:function(a){return a?a.filecenter:""},getTitleExtLnk:function(){},getTitleContextMenu:function(){},getContextMenu:function(){},defaultDisplay:function(){return 1},enableSetDisplay:function(){return!0},focus:function(){},onclick:function(b){var c={0:"file_center",1:"qiye_grwp",2:"qiye_qywp",3:"qiye_yfj",4:"qiye_fj",5:"qiye_office"},d=c[b];try{var e=$L("product.FileCenter",this)}catch(f){return f}e.entry(d),a.Log.cache({LeftNavFileCenterClick:1})}},{name:"filecenter",text:k.t("邮箱附件"),isFold:!1,showInRoot:!0,disabled:!1,getData:function(){return[{id:"7",name:"mail_attach",text:k.t("邮箱附件")}]},defaultDisplay:function(){return 1},enableSetDisplay:function(){return!0},focus:function(){},onclick:function(){try{var b=$L("product.FileCenter",this)}catch(c){return c}b.entry("mail_attach"),a.Log.cache({LeftNavFileCenterMailAttachClick:1})}},{name:"mkt-tools",text:k.t("网易群邮"),isFold:!1,showInRoot:!0,disabled:!1,getData:function(){return[{id:"901",name:"mkt-tools",text:k.t("网易群邮")}]},defaultDisplay:function(){return 1},enableSetDisplay:function(){return!0},onRender:function(b){b.el.css({display:"none"}),a.LocalStorage.get("nav_mkt_tools_new"+$S("uid"))||b.el.children("div").append('<span id="nav_mkt_tools_new" style="font-size: 12px;color: #fff;background: #CC0000;border-radius: 4px;margin-left: 4px;padding: 0 4px;line-height: 18px;font-family: Arial;display: inline-block;">NEW</span>'),a.Support.insertStyle("#"+b.id+" .nui-tree-item-label-focus{background:none !important;}","nav_mkt_tools_style"),$S("nav_mkt_tools",b),a.Ud.getProxy({field:["exten.mktToolSendNickname"],call:function(a){a["exten.mktToolSendNickname"]&&b.el.css({display:"block"})}})},focus:function(){},onclick:function(){b.open("//mail.163.com/html/mkt-tools/index.html?utm_source=fromwelcome"),a.LocalStorage.set("nav_mkt_tools_new"+$S("uid"),!0),a.fly("#nav_mkt_tools_new")&&a.fly("#nav_mkt_tools_new").remove(),a.Event.fire(document,"click"),a.Event.fire(document.body,"click"),setTimeout(function(){$S("nav_mkt_tools").el.children("div").removeClass("nui-tree-item-label-selected")},200)}}]})}($,window),function(a,b,c){function d(){function d(){var c=a.DataAction;c.show=function(){try{a.Tips.loading(y.t("加载中.."))}catch(b){}},c.hide=function(){try{a.Tips.loading()}catch(b){}},c.lock=function(c,d){var e=this;a.AdvLock.show(function(){b.setTimeout(function(){e.request(d)},500)},"FA_NEED_AUTH2"!=c)},c.mailUnlock=function(a,b){var c=this;try{var d=$L("product.MailUnlock",this)}catch(e){return e}d.unlockMail(function(){c.request(b)},function(){var a=b.data.error;a&&a(b)})},c.reload=function(){a.Support.relogin()},c.check=function(b){a.Listener.fire("global:network",b),a.Support.checkNetWork(b)},c.error=function(b,c){try{var d={title:y.t("请求错误"),content:b};c&&(d.ok=function(){location.reload()}),a.Msgbox.show(d)}catch(e){}}}function e(){a.Loader.delay(!0),a.Loader.showLoading=function(b){try{a.Tips.loading(b?y.t("加载中.."):null)}catch(c){}},a.Loader.fix=function(a){try{if($Fix.fix&&-1===a.indexOf("p/common")){var b=a.split("/js/")[1].split(".")[0];$Fix.fix(b)}}catch(c){}}}a.Listener=f,a.Frame=h,a.Support=i,a.Folder=j,a.Ext=k,a.AppManager=l,a.Topnav=m,a.Nav=n,a.MultiTab=o,a.Dock=p,a.AdvLock=q,a.Notification=r,a.SenderList=s,e(),d(),a.JS=new t({container:"dvContainer"}),a.SM=new t({container:"dvSubContainer"}),a.Listener.init($G.get("customEvents")),a.Object.extend(a,a.getClass($N("component"))),a.Uri.init($G.get("uriConf"));var g=a.Thread._heartbeat,z=a.Thread._threadSleep;a.Thread._heartbeat=25,a.Thread._threadSleep=0,u.init(),a.Support.baseInit(),$S("clientHeight",document.documentElement.clientHeight),$S("clientWidth",document.documentElement.clientWidth),a.Support._initAd(),a.Ext.init(),a.Topnav.init(),a.Support.init(),v.init(),a.AppManager.init(),a.AdvLock.init(),"standard"===$G.mailPattern.currentPattern&&(a.Support.loadHomePage(),a.MultiTab.init(!0)),a.Nav.init();try{a.Support.getMarkedContacts(function(b){$S("contactInit")||b&&b.contact&&b.contact.length>0&&($S("firstMarkedContacts",b),a.Nav.addItem("contactMail"))})}catch(A){}l.getDockDisplayStatus(function(b){b&&a.Dock.init()}),a.Thread.run(function(){a.Support.loadMsgbox()}),a.Thread.run(function(){a.Log.configure($G.get("logConf")),w.init(),x.init()}),a.Thread._heartbeat=g,a.Thread._threadSleep=z;var B=!1;a(document.body).click(function(){$G.appStarted||B||(B=!0,b.setTimeout(function(){B=!1,$G.appStarted||($G.p1LoadedError===c&&($G.p1LoadedError=!0),a.Event.fire(b,"error"))},6e3))})}function e(){var b=a.Thread._heartbeat,c=a.Thread._threadSleep;a.Thread._heartbeat=25,a.Thread._threadSleep=0,a.Loader.delay(!1),a.Loader.flush(),"standard"!==$G.mailPattern.currentPattern&&(a.Support.loadHomePage(),a.MultiTab.init(!0)),a.Object.extend(a,a.getClass($N("component"))),u.loadAd();try{try{var d=$L("support.AddressSupport",this)}catch(e){return e}d.init()}catch(e){}a.Thread.run(function(){a.AppManager.getAppsList()}),a.Thread.run(function(){try{var a=$L("product.AccountRelate",this)}catch(b){return b}a.init(!0,function(){$S("multiAccount:changed",!0)})}),a.Thread.run(function(){if(a.Ext.scheduleMbox){try{var b=$L("product.Schedule",this)}catch(c){return c}b.init()}}),$G.appStarted=!0,$G.cacheClick&&($G.cacheClick(),$G.cacheClick=null),a.Thread.delay(function(){a.Support.monitorZoom()}),a.Thread._heartbeat=b,a.Thread._threadSleep=c;try{var f=$L("support.Theme",this)}catch(e){return e}f.init();try{var g=$L("support.Performance",this)}catch(e){return e}g.init(),a.Thread.delay(function(){a.SM.get("address.AddressModule")||a.SM.go({module:"address.AddressModule",noDragbar:!0,reset:!1,parent:"module.ComposeModule",hidden:!0})});try{a.Support.afterMailLoaded()}catch(e){}}try{var f=$L("core.Listener")}catch(g){return g}try{var h=$L("init.Frame")}catch(g){return g}try{var i=$L("init.Support")}catch(g){return g}try{var j=$L("init.Folder")}catch(g){return g}try{var k=$L("init.Ext")}catch(g){return g}try{var l=$L("init.CustomAppManager")}catch(g){return g}try{var m=$L("init.Topnav")}catch(g){return g}try{var n=$L("init.Nav")}catch(g){return g}try{var o=$L("init.MultiTab")}catch(g){return g}try{var p=$L("init.Dock")}catch(g){return g}try{var q=$L("init.AdvLock")}catch(g){return g}try{var r=$L("util.Notification")}catch(g){return g}try{var s=$L("init.SenderList")}catch(g){return g}try{var t=$L("framease.Js6")}catch(g){return g}try{var u=$L("init.Promote")}catch(g){return g}try{var v=$L("init.Sync")}catch(g){return g}try{var w=$L("init.MsgCenter")}catch(g){return g}try{var x=$L("init.Nut")}catch(g){return g}var y=new $I18N("App"),z=a.Object,A=a.getPackage($G.environment.packageName);z.extend(A,{appInit:d,appStart:e})}($,window),function(a){function b(){var b=this,c=b.module,d=$S("attrs").user,e=d.true_name||d.nick_name||a.Uri.getDefaultName($S("uid"));c.getEl("dvGreetName").html(a.String.encodeHTML(e))}function c(a){function b(a){return a&&a>99&&(a="99+"),a}var c,d,e,f=this,g=f.module,h=g.action;a&&(a.Folder&&a.Folder.changed&&(c=h.getUnread(),d=g.getEl("dvUnreadMailInfo"),e=d.findParent(".gWel-mailInfo-item"),c?(e.attr({title:i.t("有")+c+i.t("封未读邮件")}),c=b(c),d.html(i.t("未读邮件")+'<span class="gWel-mailInfo-status">'+c+"</span>")):(e.attr({title:i.t("无未读邮件")}),d.html(i.t("未读邮件")))),a.Contacts&&a.Contacts.changed&&(c=h.getContactEmail(),d=g.getEl("dvCntaMailInfo"),e=d.findParent(".gWel-mailInfo-item"),c?(e.attr({title:i.t("有")+c+i.t("封未读联系人邮件")}),c=b(c),d.html(i.t("联系人邮件")+'<span class="gWel-mailInfo-status">'+c+"</span>")):(e.attr({title:i.t("没有未读联系人邮件")}),d.html(i.t("联系人邮件")))),a.Defer&&a.Defer.changed&&(c=h.getTodo(),d=g.getEl("dvTodoMailInfo"),e=d.findParent(".gWel-mailInfo-item"),c?(e.attr({title:i.t("有")+c+i.t("封待办邮件需要处理")}),c=b(c),d.html(i.t("待办邮件")+'<span class="gWel-mailInfo-status">'+c+"</span>")):(e.attr({title:i.t("没有需要处理的联系人邮件")}),d.html(i.t("待办邮件")))))}function d(){var a=this,b=a.module,c=b.view,d=b.action;d.getHealth(k.bind(c.renderHealth,c))}function e(){var b=this,c=b.module,d=c.view,e=c.action;a.Ext.avatar_show&&e.getAvatar(k.bind(d.renderAvatar,d))}function f(a){var b=this,c=b.module,d=(c.view,c.action);d.getWarn(function(b){a?c.getEl("warnTips_bar_spam")&&c.getEl("warnTips_bar_spam").dom&&c.hideWarnTips():(b.warnSpam=!a,c.handleWarnTips(b))})}try{var g=$L("module.BaseListener")}catch(h){return h}var i=new $I18N("module.welcome.WelcomeListener"),j=a.Object,k=a.Function,l=a.createClass($N("module.welcome.WelcomeListener"));j.mix(l,g,null,{_listeners:{"sync:request":{handler:c},"sync:cache":{handler:c},"sync:health":{handler:d},"user:avatarChanged":{handler:e},"options:displayNameModify":{handler:b},"options:autoPostModify":{handler:f}}})}($,window),function(a,b){function c(a){a()}function d(){return gAd.get("greet")+(!gAd.getGreetImg||$S("ad")&&"ud"===$S("ad").userType?"":gAd.getGreetImg())}function e(b,c,d){function e(a){var b=a.cnPm25Aqi;return b&&(a.aqi=a.aqi||{},b.pmUs?(a.aqi.from=S.t("来源:美使馆"),a.aqi.pm=b.pmUs,a.aqi.aqi=b.aqiUs):(a.aqi.from=S.t("来源:环保部"),a.aqi.pm=b.pm,a.aqi.aqi=b.aqi),a.aqi.extUrl=b.extUrl),a}var f=this,g=!1;f.module,d=d||1;var h=a.Uri.getUrl("weather");h=a.String.uriAddParam(h,"city="+b),a.Ajax.jsonp(h,function(b){b.code==a.S_OK&&(g=!0,c(e(b.data)))}),2>=d&&setTimeout(function(){g||(b=80110100,d++,f.getWeather(b,c,d))},3e3)}function f(a){W.set({field:"app_city",value:a})}function g(b){function c(a){var b={},c={};return V.each(a,function(a,d){var e=d.c,f=d.pr;d.ct||(c[e]||(c[e]={}),c[e][d.a]=d,b[f]||(b[f]={}),b[f][e]||(b[f][e]=c[e]))}),T.each(b,function(a,c){var d=0;for(var e in c)d++;1==d&&e==a&&(b[a]=c[e])}),b}$G.CITYLIST?b&&b(c($G.CITYLIST)):a.Ajax.request({requestType:a.Ajax.SCRIPT,url:a.Uri.getUrl("cityMap"),call:function(){b&&b(c($G.CITYLIST))}})}function h(b){a.Ajax.request({url:a.Uri.getUrl("optimizer_getdetail"),requestType:a.Ajax.SCRIPT,paddingFunc:function(a){b(a.data)}})}function i(){return O.getTotal("unread")}function j(){return P.getUnread()}function k(){return Q.getInfo("expire")}function l(){}function m(c){function d(){e.hasYxRecData||c(e._getDefaultYxRecData())}var e=this,f=!($S("ad").show===!1&&"ud"==$S("ad").userType),g=e._getDefaultYxRecData();if(!e.hasRequestData){e.hasYxRecData=!1;try{if(f){var h=a.Uri.getUrl("yxRecomList");e.hasRequestData=!0,a.Ajax.jsonp(h,function(a){e.hasYxRecData=!0,200==a.code?c(a.content):c(g)}),b.setTimeout(U.bind(d,this),3e3)}else c()}catch(i){}}}function n(a){var b=this,c=b.module,d=!($S("ad").show===!1&&"ud"==$S("ad").userType),e=0;d&&(e=a),c._recommendDft=e}function o(){var a=this,b=a.module,c=!($S("ad").show===!1&&"ud"==$S("ad").userType),d=0;try{c&&b._recommendDft&&(d=b._recommendDft)}catch(e){}return d}function p(a,b){var c=this,d=c.module,e=!($S("ad").show===!1&&"ud"==$S("ad").userType),f=d._recommendAdData||[];if(e){if(!d._recommendBig&&"big"==b&&a.length>0){for(var g=0;g<Math.min(a.length,1);g++)f[g]||(f[g]=[]),f[g].splice(0,0,a[g]);d._recommendBig=!0}if(!d._recommendSmall&&"small"==b&&a.length>0){for(var g=0;g<Math.min(a.length,4);g++){var h=0;f[h]||(f[h]=[]),f[h].push(a[g])}d._recommendSmall=!0}}d._recommendAdData=f}function q(){var a=this,b=a.module,c=!($S("ad").show===!1&&"ud"==$S("ad").userType),d=[];try{c&&b._recommendAdData&&(d=b._recommendAdData)}catch(e){}return d}function r(){var a=!($S("ad").show===!1&&"ud"==$S("ad").userType);return a&&gAd.ready.welBanner?{html:$S("ad").show?gAd.getBiz("welBanner"):gAd.get("welBanner")}:null}function s(){return{html:gAd.get("welWeather")}}function t(){var a=[];return a[a.length]='<div class="item">'+gAd.get("welBottom1")+"</div>",a[a.length]='<div class="item">'+gAd.get("welBottom2")+"</div>",a[a.length]='<div class="item">'+gAd.get("welBottom5")+"</div>",a[a.length]='<div class="item">'+gAd.get("welBottom3")+"</div>",a[a.length]='<div class="item">'+gAd.get("welBottom4")+"</div>",{html:a.join("")}}function u(b){var c=this,d=a.Uri.getUrl("yxNewUsers"),e=!1,f=!1;return c.newYxUserInfo?(b&&b(c.newYxUserInfo),void 0):(a.Ajax.jsonp(d,function(d){var g=d.code;200==g&&(e=0!==parseInt(d.content,10));var h=a.Cookie.get("P_INFO",!0);if(h){var i=h.split("|");i[0]!==$S("orgUid")&&(e=!1,f=!0)}f||a.Log.cache({welcome_yx_red:e?"1":"0"}),c.newYxUserInfo={id:"yxNew",isShow:e},b&&b({id:"yxNew",isShow:e})}),void 0)}function v(){var a,b=this,c=!($S("ad").show===!1&&"ud"==$S("ad").userType);try{var d=function(){var a=[{key:"xsh",value:20},{key:"yfl",value:20},{key:"tgs",value:20},{key:"world",value:40}];return a},e=[{type:"iframe",isNew:!1,icon:"limited",iconText:S.t("限时"),data:b._getIframeUrl("xsg")},{type:"iframe",icon:"gift",iconText:S.t("新人礼"),isNew:!1,data:b._getIframeUrl("xrl")}];a=[{tabid:"mailrecom",text:c?S.t("邮推荐"):"",show:!0,img:"https://mimg.127.net/ggimg/all/img17/131119_js6_wel1.jpg",type:"panel",extCls:c?"gWel-recommend-contYX":"",data:b.getRecommend(),udflag:"tab0",mode:"fixed",defflag:"0"},{tabid:"yfl",text:S.t("邮福利"),extCls:"gWel-recommend-contFull",show:c,img:"https://mimg.127.net/ggimg/all/img19/150506_js6_wel.jpg",type:"iframe",info:b._getIframeUrl("yfl")},{tabid:"xsh",text:S.t("限时惠"),extCls:"gWel-recommend-contHasSider",show:c,img:"https://mimg.127.net/ggimg/all/img19/170328_js6_wel.jpg",type:"panel",info:Math.random()>.5?e:e.reverse()},{tabid:"world",text:S.t("看世界"),extCls:"gWel-recommend-contFull",show:c,img:"https://mimg.127.net/ggimg/all/img17/131119_js6_wel2.jpg",type:"iframe",info:X.IFRAME_URL.world}],b.fixConfigTab(a,d())}catch(f){}return{all:a,show:a}}function w(a,b){for(var c,d=b,e=100*Math.random(),f=0,g=0;g<d.length;g++){var h=d[g];if(f+=h.value,f>e){c=d[g].key;break}}var i=!1;for(g=0;g<a.length;g++)if(a[g].tabid==c){a[g].def=!0,i=!0;break}i||(a[0].def=!0)}function x(b){a.Ud.getProxy({field:["exten.ursLoginExcp"],call:function(a){try{b(JSON.parse(a["exten.ursLoginExcp"]))}catch(c){b(null)}}})}function y(b){var c=a.Uri.getUrl("countRiskCheck");a.Ajax.jsonp(c,function(a){a&&200==a.code&&a.data?b({login:a.data.accountRisk,isBindMobile:a.data.isBindMobile}):b(0)})}function z(){var b=!1,c=a.Browser.ie()-0;if(a.Browser.isIE()&&9>c){6>=c&&(b=!0);var d=10,e=100*Math.random();7>=c&&d>e&&(b=!0)}return b}function A(){var a=0,b=!1;try{a=O.getTotal()}catch(c){}return a>=4e4&&(b=!0),b}function B(a){try{var b=$L("support.OptionSupport",this)}catch(c){return c}b.getAntiSpamData(function(b){(b.spamautopost||b.adautopost||b.subautopost)&&a(!0),a(!1)})}function C(a){function b(){c._getWarnLogin(function(b){b&&(d.warnLogin=0!==b.login,d.warnMobile="false"==b.isBindMobile),e&&(d.warnBrowser=e),f&&(d.warn4WLetter=f),a(d)})}var c=this,d={};$S("showingUserGuide")&&a(d);var e=c._getWarnBrowser(),f=c._getWarn4WLetter();c._getWarnLoginDetail(function(e){e?(d.warnLoginDetail=e,a(d)):c._getWarnSpam(function(a){a&&(d.warnSpam=a),b()})})}function D(){for(var a=[{pinkage:!0,maker:"",itemId:1025005,primarySkuCounterPrice:"268",primarySkuRetailPrice:"268",simpleDesc:S.t("仅售供应商建议价的1/10"),primaryPicUrl:"http://yanxuan.nosdn.127.net/3861e6db1e399ca5453270fcabaf3383.png",name:S.t("100年传世珐琅锅"),inActivity:!1},{pinkage:!0,maker:"",itemId:1221001,primarySkuCounterPrice:"499",primarySkuRetailPrice:"499",simpleDesc:S.t("除螨吸尘 深层清洁"),primaryPicUrl:"http://yanxuan.nosdn.127.net/2c5067ddcbee2c399375ca93b7c6a8fc.png",name:S.t("网易智造N520除螨吸尘器"),inActivity:!1},{pinkage:!0,maker:"",itemId:1334005,primarySkuCounterPrice:"249",primarySkuRetailPrice:"249",simpleDesc:S.t("专为亚洲年轻女孩设计的自我愉悦产品"),primaryPicUrl:"http://yanxuan.nosdn.127.net/c2b51a8e0f1b145c9f7a98e7859951de.png",name:S.t("春风TryFun天然系列在云端女用按摩器"),inActivity:!1},{pinkage:!0,maker:"",itemId:1110003,primarySkuCounterPrice:"299",primarySkuRetailPrice:"299",simpleDesc:S.t("超柔针织棉，亲肤可裸睡"),primaryPicUrl:"https://yanxuan.nosdn.127.net/15247152812494186.png",name:S.t("全棉针织条纹四件套 新款"),inActivity:!1}],b=[],c=0;32>c;c++)b.push(a[c-4*Math.floor(c/4)]);return b}function E(b){return a.Uri.getUrl(X.IFRAME_URL[b])||""}function F(b){$G.CITYLIST?b&&b($G.CITYLIST):a.Ajax.request({requestType:a.Ajax.SCRIPT,url:a.Uri.getUrl("cityMap"),call:function(){b&&b($G.CITYLIST)}})}function G(b){function c(){var b=a.Cookie.get("P_INFO",!0);try{return b?b.split("|")[5].split("#")[1].split("&")[1]:""}catch(c){return""}}var d=this,e=$G.attrs.user,f=e.app_city,g=f,h=80110100;if(f){if(a.Array.has(X.NOCITYCODE,f))return f=h,b(f),void 0;d.getCityList(function(c){var e=f.toString().length,i=!1;V.each(c,function(b,c){return 9===e&&Number(c.oc)===f?(f=Number(c.nc),i=!0,a.BREAK):8===e&&Number(c.nc)===f?(i=!0,a.BREAK):Number(c.oc2)===f?(f=Number(c.nc),i=!0,a.BREAK):void 0}),f===h||i||(f=h),g!==f&&d.setPos(f),b(f)})}else{var i=c();null!==i&&""!==i?this.wmsvr({url:a.Uri.getUrl("urs2city")+"&ursPos="+i,type:a.Ajax.XMLHTTP,call:function(c){c.code==a.S_OK?(f=c["var"].citycode,b(f)):(f=h,b(f))},error:function(){return f=h,b(f),!0}}):(f=h,b(f))}}function H(a){var b=R;b.get($S("orgUid"),100,function(b){a(b)})}function I(b,c){var d=this;d._tips?c&&c(d._tips["webmail.js."+b]):this.wmsvr({func:"ntes:udproxy:getAttrs",body:{attrIds:["webmail.js.weltips_constell","webmail.js.weltips_mob"]},call:function(e){e.code==a.S_OK?(d._tips=e["var"],c&&c(d._tips["webmail.js."+b])):d._tips={"webmail.js.weltips_constell":!0,"webmail.js.weltips_mob":!0}},error:function(){return d._tips={"webmail.js.weltips_constell":!0,"webmail.js.weltips_mob":!0},!0}})}function J(b,c){var d=this,e={};e["webmail.js."+b]=c,this.wmsvr({func:"ntes:udproxy:setAttrs",body:{attrs:e},call:function(e){e.code==a.S_OK&&d._tips&&(d._tips["webmail.js."+b]=c)}})}function K(b){var c=a.Uri.getUrl("mailarchive_get");a.Ajax.jsonp(c,function(a){"200"==a.code?b(a.data):b({enable:!1})})}function L(b,c,d){var e=a.Uri.getUrl("mailarchive_set");e+="&mailarchive="+b,a.Ajax.jsonp(e,function(a){"200"==a.code?c():d(a.error)})}try{var M=$L("module.BaseAction")}catch(N){return N}try{var O=$L("init.Folder")}catch(N){return N}try{var P=$L("init.Contacts")}catch(N){return N}try{var Q=$L("init.Defer")}catch(N){return N}try{var R=$L("init.Avatar")}catch(N){return N}var S=new $I18N("module.welcome.WelcomeAction"),T=a.Object,U=a.Function,V=a.Array,W=a.Ud,X=a.createClass($N("module.welcome.WelcomeAction"));T.mix(X,M,{IFRAME_URL:{world:"https://news.163.com/special/163mail_6/?color=003399",yfl:"https://you.163.com/act/pub/RojZyGtpsf.html?from=web_gg_mail_youfli",pinle:"https://pin.mail.163.com/html/welcomeTabNew.html",jzl:"https://qian.163.com/act/static/AdSsBiU2xm.html",xsg:"https://you.163.com/act/pub/RGXLnDozKb.html?from=web_gg_mail_xsg",shiwu:"https://u.163.com/shiwu",xrl:"https://you.163.com/act/pub/oXDnP7qRRX.html?from=web_rk_mail_xrl"},NOCITYCODE:[101073,102269,102281,102315,101364,101517,101811,102287,100306,102241,101111,102225,101537,101239,100474,101071,56080,100029,102226,101749,102285,101952,101645,102219,100129,54292,102290,100121,102291,100208,102137,102314,102282,100860,102136,102286,96315,100794,101283,102283,57278,101494,100128,101933,100601,59997,102047,101563,101910,47108,101908,101361]},{init:c,getGreet:d,getAvatar:H,getWeather:e,setPos:f,getCityMap:g,getCityList:F,getHealth:h,getUnread:i,getNotification:l,getTodo:k,getContactEmail:j,setRecommendDft:n,getRecommendDft:o,setRecommend:p,getRecommend:q,getRecommendRight:m,getRightAd:r,getRightWeatherAd:s,getWelBottom:t,getConfigTabs:v,fixConfigTab:w,getYxNewUserInfo:u,_getIframeUrl:E,_getDefaultYxRecData:D,_getWarnLoginDetail:x,_getWarnLogin:y,_getWarnBrowser:z,_getWarn4WLetter:A,_getWarnSpam:B,getWarn:C,getTips:I,setTips:J,getCityCode:G,getMailArchive:K,setMailArchive:L})}($,window),function(a,b,c){function d(){}function e(){var b=this,c=b.module,d=[];if(c.vipMember){var e=a.Uri.getUrl("welcome_plus");d[d.length]='<iframe id="welcomeIfr" allowtransparency="allowtransparency" frameborder="0" scrolling="no" style="width: 100%; height: 100%; overflow: hidden; zoom: 1;"  src="'+e+'"></iframe>'}else if(c.welcomeBeta){var e=a.Uri.getUrl("welcome_beta");d[d.length]='<iframe id="welcomeIfr"  frameborder="0" scrolling="no" style="width: 100%; height: 100%; overflow: hidden; zoom: 1; background-color:white;"  src="'+e+'"></iframe>'}else d[d.length]='<div class="gWel-warning" style="display:none" id="'+c.createId("dvWarnTips")+'"></div>',d[d.length]='<div class="gWel-inner">',d[d.length]=b._getTopHtml(),d[d.length]='<div class="gWel-bottom" id="'+c.createId("dvWelBottom")+'">',d[d.length]='<div class="gWel-recommend '+($S("ad").show===!1&&"ud"==$S("ad").userType?"gWel-tabs-panel-clean":"")+' nui-closeable" id="'+c.createId("dvTabs")+'"></div>',d[d.length]='<div class="gWel-promt En0 nui-closeable" id="'+c.createId("dvPrmot")+'"></div>',d[d.length]="</div></div>",c.log("welcome","show","1");return b.addHeader(!1,d.join(""),"frame-main-cont-body-noToolbar")}function f(){function b(b,c,d){c&&c>99&&(c="99+");var e='<li class="gWel-mailInfo-item '+(d.extcls||"")+'" title="'+(d.title||"")+'" tabindex="0" >'+'<div class="gWel-mailInfo-ico">'+(d.iconHtml||"")+"</div>"+'<div class="gWel-mailInfo-txt" id="'+h.createId("dv"+d.type+"MailInfo")+'">'+b+(c?'<span class="gWel-mailInfo-status">'+c+"</span>":"")+"</div>"+"</li>";return a.Component.html({html:e,listeners:{click:{handler:d.click},focus:{handler:function(){a(this).addClass("gWel-mailInfo-item-hover")}},blur:{handler:function(){a(this).removeClass("gWel-mailInfo-item-hover")}},mouseover:{handler:function(){a(this).addClass("gWel-mailInfo-item-hover")}},mouseout:{handler:function(){a(this).removeClass("gWel-mailInfo-item-hover")}}}})}function c(){var a='<li class="gWel-mailInfo-item gWel-mailInfo-health-err" id="'+h.createId("dvHealth")+'">'+'<div><div class="gWel-mailInfo-ico">'+'<b class="nui-ico nui-ico nui-ico-safety-red"></b>'+"</div>"+'<div class="gWel-mailInfo-txt">'+M.t("安全度")+"</div></div>"+"</li>";return a}function d(){var b=a.Component.find("#"+h.createId("compTrueName")),c=b.getValue();""!==c?a.Ud.set({field:"true_name",value:c,call:function(){a.Listener.fire("options:personalModify",[{field:"true_name",value:c}]),h.getEl("dvGreetName").html(a.String.encodeHTML(c))}}):(c=k,b.setValue(a.String.encodeHTML(k))),h.getEl("dvGreet").removeClass("gWel-greet-edit")}function e(){var b=a.Component.find("#"+h.createId("compTrueName"));h.getEl("dvGreet").removeClass("gWel-greet-edit"),b.setValue(a.String.encodeHTML(k))}var f,g=this,h=g.module,i=h.action,j=$G.attrs.user,k=j.true_name||j.nick_name||a.Uri.getDefaultName($S("uid")),l=!($S("ad").show===!1&&"ud"==$S("ad").userType),m=['<span id="'+h.createId("dvGreetName")+'">'+a.String.encodeHTML(k)+"</span>",'<span class="gWel-greet-split"><span class="gWel-greet-split-dot">，</span><b class="gWel-greet-split-icon nui-ico nui-ico-edit"></b></span>'];"en"==$G.environment.lang&&m.reverse();var n='<span class="gWel-greet-trueName" title="'+M.t("点击编辑")+'">'+m.join("")+"</span>",o=[a.Component.html({html:n,listeners:{click:{handler:function(){h.log("name","edit",1),h.getEl("dvGreet").addClass("gWel-greet-edit")}},keyup:{handler:function(){var b=a.Event.getEvent();13==b.keyCode&&(h.log("name","edit",1),h.getEl("dvGreet").addClass("gWel-greet-edit"),a.Component.find(h.createId("compTrueName"))&&a.Component.find(h.createId("compTrueName")).select())}},focus:{handler:function(){a(this).addClass("gWel-greet-trueName-hover")}},blur:{handler:function(){a(this).removeClass("gWel-greet-trueName-hover")}},mouseover:{handler:function(){a(this).addClass("gWel-greet-trueName-hover")}},mouseout:{handler:function(){a(this).removeClass("gWel-greet-trueName-hover")}}}}),'<div class="wg0">'+a.Input.html({value:k,id:h.createId("compTrueName"),maxLength:30,keyup:function(){var b=a.Event.getEvent();13==b.keyCode?d():27==b.keyCode&&e()}})+a.Button.html({extcls:"vN0",icon:"done",title:M.t("确认修改"),click:d})+a.Button.html({extcls:"uY1",icon:"cancel",title:M.t("取消修改"),click:e})+"</div>"+'<span class="gWel-greet-text" id="'+h.createId("dvGreetText")+'">'+M.t("你好")+"</span>"];return"en"==$G.environment.lang&&o.reverse(),f='<div class="gWel-top '+(a.Ext.avatar_show?"gWel-top-hasAvatar":"")+'">'+'<div class="gWel-avatar" id="'+h.createId("dvAvatar")+'">'+"</div>"+'<div class="gWel-greet" tabindex="0" id="'+h.createId("dvGreet")+'">'+o.join("")+"</div>"+'<div class="gWel-mailInfo" id="'+h.createId("dvMailInfo")+'">'+'<ul class="gWel-mailInfo-list">'+b(M.t("未读邮件"),i.getUnread(),{click:function(){try{var a=$L("interface.MboxInterface",this)}catch(b){return b}a.entry({filter:{flags:{read:!1}}}),h.log("unread","click",1)},extcls:"gWel-mailInfo-unread",iconHtml:'<b class="nui-ico gWel-ico gWel-ico-unread-top"></b><b class="nui-ico gWel-ico gWel-ico-unread-letter"></b><b class="nui-ico gWel-ico gWel-ico-unread-bottom"></b>',type:"Unread",title:0===i.getUnread()?M.t("无未读邮件"):M.t("有")+i.getUnread()+M.t("封未读邮件")})+b(M.t("待办邮件"),i.getTodo(),{click:function(){try{var a=$L("interface.MboxInterface",this)}catch(b){return b}a.defer(),h.log("todo","click",1)},extcls:"gWel-mailInfo-todo",iconHtml:'<b class="nui-ico gWel-ico gWel-ico-todo"></b><b class="nui-ico gWel-ico gWel-ico-todo-lhand"></b><b class="nui-ico gWel-ico gWel-ico-todo-shand"></b>',type:"Todo",title:0===i.getTodo()?M.t("没有需要处理的待办邮件"):M.t("有")+i.getTodo()+M.t("封待办邮件需要处理")})+b(M.t("联系人邮件"),i.getContactEmail(),{click:function(){try{var a=$L("interface.MboxInterface",this)}catch(b){return b}a.emails(),h.log("cnta","click",1)},extcls:"gWel-mailInfo-cnta",iconHtml:'<b class="nui-ico gWel-ico gWel-ico-cnta"></b><b class="nui-ico gWel-ico gWel-ico-cnta-star"></b>',type:"Cnta",title:0===i.getContactEmail()?M.t("没有未读联系人邮件"):M.t("有")+i.getContactEmail()+M.t("封未读联系人邮件")})+c()+($S("isFree")?b(M.t("登录保护"),0,{click:function(){try{var a=$L("interface.OptionInterface",this)}catch(b){return b}a.entry({module:"MailSecurityModule",linkName:"secondauth"})},extcls:"gWel-mailInfo-pinle gWel-mailInfo-err",iconHtml:'<b class="nui-ico  nui-ico-protect" ></b>',type:"pinle",title:M.t("登录保护")}):"")+(l?b(M.t("每日生活"),0,{click:function(){try{var b=$L("interface.OptionInterface",this)}catch(c){return c}b.goOutlink({url:a.Uri.getUrl("yxRecomIcon"),key:"yxRecomIcon",title:M.t("严选每日推荐")}),h.log("yxRecomIcon","click",1)},extcls:"gWel-mailInfo-pinle gWel-mailInfo-err",iconHtml:'<b class="nui-ico  nui-ico-life" ></b>',type:"yxRecom",title:M.t("每日生活")}):"")+"</ul>"+"</div>"+'<div class="gWel-weather gWel-weather-default" tabindex="0" id="'+h.createId("dvWeather")+'">'+"</div>"+'<div class="gWel-weather-promote"><div class="gWel-weather-promote-inner"  id="'+h.createId("dvWeatherPromote")+'"></div></div>'+"</div>"}function g(a){var b=this,c=b.module;c._yxRecTotalPage=a.length,c._aRecomData=a;var d=[];if(a&&a.length>=1)for(var e=0;e<a.length;e++)d[d.length]=b._renderRecommendItem(a[e],1==e||0===e);return d.join("")}function h(b){var c=this,d=c.module;if(b&&b.isShow){var e=a.Component.find("#"+d.createId("compWelcomeTab")).find("tabitem",!0);e[2].getEl().addClass("gWel-recommend-tabItem-new"),a(".gWel-ico-panel-gift")?a(".gWel-ico-panel-gift").findParent(".item").append('<b class="nui-ico gWel-ico gWel-ico-redot"></b>'):d._isYxNew=!0}}function i(a,b){for(var c=[],d=0;d<a.length;d++){var e=a[d];if(0===d%5&&(c[c.length]='<div class="gWel-recommend-contYX-group">'),e.html)c[c.length]='<div class="gWel-RGC-box gWel-RGC-box-big"><div class="gWel-RGC-box-big-tpl">'+e.html+"</div></div>";else{var f="https://you.163.com/item/detail?id="+e.itemId+"&from=web_gg_mail_youtuijiannew_0";c[c.length]='<div class="gWel-RGC-box gWel-RGC-box-sml"><a class="link" href="'+f+'" target="_blank">'+(e.pinkage?'<span class="discount">'+M.t("包邮")+"</span>":"")+'<img class="pic nui-ani-transition" data-url="'+e.primaryPicUrl+'?imageView&amp;quality=95&amp;thumbnail=145x145" '+(b?'src="'+e.primaryPicUrl+'?imageView&amp;quality=95&amp;thumbnail=145x145"':"")+' alt="'+e.name+'">'+'<p class="name">'+e.name+"</p>"+'<p class="price">¥'+e.primarySkuRetailPrice+"</p>"+'<p class="buy">'+M.t("购买")+"</p>									</a></div>"}4==d%5&&(c[c.length]="</div>")}return c.join("")}function j(){var c,d=this,e=d.module,f=e.action,g=[],h=[],i=f.getConfigTabs().all,j=[],k=[],l=0;if(e.abtest){var m=e.getEl("dvTabs"),n="//mail.163.com/html/190613-welcome-video/?uid="+$S("orgUid");return g[g.length]='<iframe id="welcomeIfr" allowtransparency="allowtransparency" frameborder="0" scrolling="no" style="width: 100%; height: 100%; overflow: hidden; zoom: 1;"  src="'+n+'"></iframe>',g[g.length]=a.Component.html({html:'<a title="'+M.t("去广告")+'" href="javascript:void(0);" class="nui-closeable-x"></a>',listeners:{click:{handler:function(){try{var a=$L("product.Privileges",this)}catch(b){return b}a.showProduct("noAd","noAd_ytj")}}}}),m.addClass("gWel-recommend-video"),m.html(g.join("")),m.listen("mouseover",function(){var a=m.children(".nui-closeable-x");a.css({display:"block","z-index":1})}),m.listen("mouseout",function(){var a=m.children(".nui-closeable-x");a.css({display:"none","z-index":1})}),a.Component.setEvents(),void 0}var o=d._parseToObjConfig(i);e._current={},e._yxRecPage=1;for(var p=0;p<i.length;p++)i[p].show&&(j.push(i[p]),i[p].def&&(c=i[p]));c||(c=o.mailrecom),a.Ud.get({field:"ntes_inbox",flag:"welcome_tab"}),P.each(j,function(c,f){var g="dv"+f.tabid+"panel",i={xtype:"tabitem",text:f.text+'<b class="nui-ico gWel-ico gWel-ico-redot"></b><b class="locate"><span class="locate-inner">●</span></b>',img:f.img,nonClose:!0,active:function(){return f.def&&(e.log(f.tabid,"default_show",1),e.log("autoSwitch",f.tabid,1)),f.def}(),extcls:0===c?"gWel-tabs-list-first":"",border:"",listeners:{click:function(){var c=this.getEl();l++;try{c.removeClass("gWel-recommend-tabItem-new")}catch(h){}var i,j=e.getEl(g);if(j){if(""===j.html()&&(i="iframe"==f.type?d._getIframePanelHtml(f.info):d._getInnerSideBarHtml(f.info,f.tabid,{extcls:"buy"==f.tabid||"life"==f.tabid?"gWel-tabs-panel-hasSidebar":""}),j.html(i),"panel"==f.type&&(d._initPanelEvent(f.tabid),f.info instanceof b.Array&&"iframe"==f.info[0].type))){var k=e.getEl("dv"+f.tabid+"SideBarCont").find('[data-index="0"] iframe');k&&k.attr({src:k.attr("data-url")})}e._currentPanelId&&e.getEl(e._currentPanelId)&&e.getEl(e._currentPanelId).hide(),j.show(),e._currentPanelId=g}e._currentTadid=f.tabid;for(var m in this.ownerCt._items){var n=this.ownerCt._items[m];n.getEl().hasClass("nui-txt-cLink")&&n.getEl().removeClass("nui-txt-cLink")}c.addClass("nui-txt-cLink"),"mailrecom"==f.tabid?e.mailRecomInterval("start"):e.mailRecomInterval("stop"),l>1&&!e._alreadyAutoSwitch&&(e._alreadyAutoSwitch=!0),d._addedWorldPanelEvent||e._alreadyAutoSwitch||(d._addedWorldPanelEvent=!0,a.Event.listen(j,"mouseover",function(){e._noAutoSwitch=!0}),a.Event.listen(j,"mouseout",function(){e._noAutoSwitch=!1,e.autoSwitchMailRecom()})),d._firstShowed?e.log(f.tabid,"click",1):d._firstShowed=!0}}};k.push(i),h[h.length]='<div class="'+(f.extCls||"")+'" id="'+e.createId(g)+'" style="'+(f.def?"":"display:none")+'"></div>'}),($S("ad").show!==!1||"ud"!=$S("ad").userType)&&(g[g.length]=a.Component.html({html:'<a title="'+M.t("去广告")+'" href="javascript:void(0);" class="nui-closeable-x"></a>',listeners:{click:{handler:function(){try{var a=$L("product.Privileges",this)}catch(b){return b}a.showProduct("noAd","noAd_ytj")}}}})),g[g.length]=a.Tab.html({id:e.createId("compWelcomeTab"),type:"common",extcls:"gWel-recommend-title",hasClose:!1,items:k}),g[g.length]=h.join(""),e.getEl("dvTabs").html(g.join("")),a.Component.setEvents()
}function k(c,d){function e(c,d){var e,f,g=R.WEATHER_DICT,h="https://mimg.127.net/p/js6/lib/img/weather/";if(h+="big"==d?"100x100/":"64x64/",g[c])e=c;else for(var i in g){var j=g[i];if(j instanceof b.Array&&a.Array.has(j,c)){e=i;break}}return e||(e="00"),h+=e+".png",f=Q?"background:0;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+h+"');":"background-image: url("+h+");"}function f(a){var b="";return a>300?b=M.t("严重污染"):300>=a&&a>=201?b=M.t("重度污染"):200>=a&&a>=151?b=M.t("中度污染"):150>=a&&a>=101?b=M.t("轻度污染"):100>=a&&a>=51?b=M.t("良"):50>=a&&a>=0&&(b=M.t("优")),b+"/"+a}function g(a){var b={"05":M.t("雨伴冰雹"),11:M.t("大暴雨"),24:M.t("大暴雨"),12:M.t("特大暴雨"),25:M.t("特大暴雨")};return a.code in b?b[a.code]:a.value}function h(a){var b=K.getTime();return b.getFullYear()!=a.getFullYear()?!1:b.getMonth()!=a.getMonth()?!1:b.getDay()!=a.getDay()?!1:!0}var i=this,j=i.module,k=(j.action,[]),l=j.getEl("dvWeather"),m=d.publishTime,n=m.slice(6,8)-0,o=new Date(m.slice(0,4),m.slice(4,6)-1,n),p=d.city,q=d.info;if(h(o)||q.shift(),k[k.length]='<div class="gWel-weather-wrapper">',k[k.length]='<div class="gWel-weather-address">'+a.Link.html({title:M.t("切换城市"),text:p.areaCnName+'<span class="address-edit"><b class=" nui-ico nui-ico-edit"></b></span>',extcls:"address-txt nui-txt-link",click:function(){j.showWeatherConfig(),j.log("weather_config","click",1)}})+'<span class="address-date">'+a.Date.format(o,M.t("M月d日 "))+(d.lunar?M.t("农历")+d.lunar:"")+" </span>"+"</div>",k[k.length]=' <div class="gWel-weather-info">',P.each(q,function(b,c){var d=c.weatherDay?c.weatherDay.code:c.weatherNight.code;if(sWeatherInfo=g(c.weatherDay?c.weatherDay:c.weatherNight),b>2)return a.CONTINUE;var f,h;0===b?(f=M.t("今天"),h="today"):1==b?(f=M.t("明天"),h="tommorow"):2==b&&(f=M.t("后天"),h="tommorow last");var i=new Date(m.slice(0,4),m.slice(4,6)-1,n+b);k[k.length]='<div class="'+h+'">'+'<div class="date">'+f+'<span class="week">'+M.t("(周")+a.Date.getWeek(i)+") </span></div>"+'<div class="icon">'+'<img src="https://mimg.127.net/p/t.gif" style="'+e(d,0===b?"big":"small")+'" />'+" </div>"+'<div class="temp">'+'<span class="desc">'+sWeatherInfo+"&nbsp;</span>"+(c.tempDay?c.tempDay+M.t("℃～")+c.tempNight+M.t("℃"):c.tempNight+M.t("℃"))+"</div>"+'<div class="desc"> '+sWeatherInfo+"</div>"+"</div>"}),k[k.length]="</div>",k[k.length]='<div  class="gWel-weather-footer-old"><div class="quality">'+(d.aqi?'<span class="name">'+M.t("空气质量：")+'</span><span class="cont">'+f(d.aqi.aqi)+"</span>":"")+(d.aqi&&d.aqi.from?a.Link.html({title:d.aqi.from,text:d.aqi.from,cls:"nui-txt-link from",click:function(){var c=a.Uri.getUrl("weatherExtUrl")+"&location="+p.areaCode;b.open(c),j.log("weather","aqi_from",1)}}):"")+"</div>"+"</div>",k[k.length]="</div>",k[k.length]='<div class="gWel-weather-area" id="'+j.createId("dvWeatherConfig")+'" style="display:none;"></div>',l.html(k.join("")),a.Component.setEvents(),c&&(l.addClass("gWel-weather-expand"),l.removeClass("gWel-weather-default")),!i._initWeatherEvent){var r=function(){i.weatherTimeout=b.setTimeout(function(){l.addClass("gWel-weather-expand"),l.removeClass("gWel-weather-default"),j.log("weather","expend_show",1),i.weatherTimeout=null,i._tipLayer&&i._tipLayer.hide()},500)},s=function(){return i.weatherTimeout?(b.clearTimeout(i.weatherTimeout),void 0):(i._showWeatherConfig||(l.removeClass("gWel-weather-expand"),l.addClass("gWel-weather-default")),void 0)};l.mouseenter(r),l.mouseleave(s),i._initWeatherEvent=!0}}function l(b){function c(){var a=$G.attrs.user,c=a.app_city;for(var d in b){var e=b[d];for(var f in e)if(e[f]==c)return{provice:d,city:f,cityCode:c}}return null}function d(){g.hide(),e._showWeatherConfig=!1,f.getEl("dvWeather").removeClass("gWel-weather-expand"),f.getEl("dvWeather").addClass("gWel-weather-default")}var e=this,f=e.module,g=f.getEl("dvWeatherConfig");c(),e._showWeatherConfig=!0;var h=[];h[h.length]='<div class="gWel-weather-area-header">',h[h.length]=a.Tab.html({id:f.createId("compWeatherTab"),type:"common",hasClose:!1,items:[{xtype:"tabitem",text:M.t("请选择")+a.Icon.html({type:"unfold"}),active:!0,skipDbClick:!0,click:function(){var c=f.getEl("dvWeatherProvice"),d=f.getEl("dvWeatherCity"),g=f.getEl("dvWeatherCounty"),h=a.Component.find("#"+f.createId("compWeatherCountyItem")),i=[],j=this;if(""===c.html()){for(var k in b)i[i.length]='<li class="item">'+a.Link.html({text:k,extcls:"nui-txt-cLink",click:function(){var b=a.Component.find("#"+f.createId("compWeatherCityItem")),c=this.getText();e._weatherProvice=c,j.setText(c+a.Icon.html({type:"unfold"})),b.show(),a.Component.find("#"+f.createId("compWeatherTab")).active(1)}})+"</li>";c.html(i.join(""))}h&&h.hide(),d.hide(),g.hide(),c.show()}},{xtype:"tabitem",id:f.createId("compWeatherCityItem"),hidden:!0,skipDbClick:!0,text:M.t("请选择")+a.Icon.html({type:"unfold"}),click:function(){var c=f.getEl("dvWeatherProvice"),d=f.getEl("dvWeatherCity"),h=f.getEl("dvWeatherCounty"),i=[],j=this;e._weatherProvice=e._weatherProvice||M.t("北京");var k=b[e._weatherProvice];for(var l in k)i[i.length]='<li class="item">'+a.Link.html({text:l,extcls:"nui-txt-cLink",click:function(){var b=this.getText();if(e._weatherCity=b,k[l].nc)f.setWeatherPos(k[b].nc),g.hide();else{j.setText(b+a.Icon.html({type:"unfold"}));var c=a.Component.find("#"+f.createId("compWeatherTab"));a.Component.find("#"+f.createId("compWeatherCountyItem")).show(),c.active(2)}}})+"</li>";d.html(i.join("")),a.Component.setEvents(),c.hide(),h.hide(),d.show()}},{xtype:"tabitem",id:f.createId("compWeatherCountyItem"),hidden:!0,skipDbClick:!0,text:M.t("请选择")+a.Icon.html({type:"unfold"}),click:function(){var c=f.getEl("dvWeatherProvice"),d=f.getEl("dvWeatherCity"),h=f.getEl("dvWeatherCounty"),i=[],j=b[e._weatherProvice][e._weatherCity];for(var k in j)i[i.length]='<li class="item">'+a.Link.html({text:k,extcls:"nui-txt-cLink",click:function(){var a=this.getText();e._weatherCounty=a,f.setWeatherPos(j[a].nc),g.hide()}})+"</li>";h.html(i.join("")),a.Component.setEvents(),c.hide(),d.hide(),h.show()}},{xtype:"tabitem",extcls:"ext",skipDbClick:!0,text:a.Link.html({icon:"x",click:function(){g.hide()}})}]}),h[h.length]="</div>",h[h.length]='<div class="gWel-weather-area-main"><ul class="list" id="'+f.createId("dvWeatherProvice")+'"></ul>	'+'<ul class="list" style="display:none;" id="'+f.createId("dvWeatherCity")+'"></ul>'+'<ul class="list" style="display:none;" id="'+f.createId("dvWeatherCounty")+'"></ul>'+"</div>",g.html(h.join("")),a.Component.setEvents(),g.show(),a(document.body).listen("keyup",function(a){27==a.keyCode&&d()}),a(document.body).listen("click",function(b){var c=a.Event.getTarget(b);a(c).findParent("#"+f.createId("dvWeatherConfig"))||d()})}function m(b,c,d){var e=this,f=e.module;try{if(d&&d.sKey&&("loginDetail"==d.sKey||"spam"==d.sKey)&&a.LocalStorage.get("close_"+d.sKey+"_tips")==d.sValue)return;var g=f.getEl("dvWarnTips"),h="";d&&d.sKey&&(h=f.createId("warnTips_bar_"+d.sKey));var i=' <p id="'+h+'"><i class="gWel-warning-ico"></i>'+c+a.Link.html({icon:"close",extcls:"gWel-warning-close nui-ico nui-ico-close",click:function(){g.hide(),d&&d.sKey&&("loginDetail"==d.sKey||"spam"==d.sKey)&&a.LocalStorage.set("close_"+d.sKey+"_tips",d.sValue,{path:"/",expires:9999,domain:$S("fullDomain")})}})+"</p>";g.html(i),g.show(),a.Component.setEvents()}catch(j){}}function n(a,c){var d=this,e=d.module,f=e.action,g=f.getRecommend(),h=[],i=[];if(a instanceof b.Array){var j=a.length;h[h.length]='<ul class="gWel-RC-sideBar" id="'+e.createId("dv"+c+"SideBarCtrl")+'">',i[i.length]='<div id="'+e.createId("dv"+c+"SideBarCont")+'">';for(var k=0;j>k;k++){var l=a[k];"panel"==l.type&&"mailrecom"==c?i[i.length]='<div data-index="'+k+'" >'+d._getInnerRecPanelHtml(l.data)+"</div>":"iframe"==l.type&&(i[i.length]='<div data-index="'+k+'" class="gWel-RC-cont" style=" '+(0===k?"":"display:none")+'">																<iframe allowtransparency="allowTransparency" class="iframe" frameborder="0" scrolling="no" data-url="'+l.data+'" src="'+(a.def===!0&&0===k?l.data:"")+'">'+M.t("正在加载...")+"</iframe>															</div>"),h[h.length]='<li data-index="'+k+'" class="item '+(0===k?" item-on ":"")+(l.isNew?" sItem-hasNew ":"")+(l.extCls||"")+'">							<b class="nui-ico gWel-ico gWel-ico-panel-'+l.icon+'"></b>							'+(e._isYxNew&&"gift"==l.icon?'<b class="nui-ico gWel-ico gWel-ico-redot"></b>':"")+'							<p class="flagTxt">'+l.iconText+"</p>							</li>"}e._current[c]=0,h[h.length]="</ul>",i[i.length]="</div>"}else"mailrecom"==c&&(i[i.length]=d._getInnerRecPanelHtml(g));return"<div>"+h.join("")+i.join("")+"</div>"}function o(a){var b=this,c=b.module;c.action;var d=[];return d[d.length]='<div class="gWel-recommend-contYX-list nui-ani-transition" id="'+c.createId("dvYxRecomList")+'">'+b.renderRecommend(a)+"</div>",d.join("")}function p(b){var c=this,d=c.module,e=d.getEl("dv"+b+"SideBarCont"),f=d.getEl("dv"+b+"SideBarCtrl");e&&f&&a.Event.live({context:f,selector:".item",event:"click",handler:function(d,e){var f=e.currentTarget;c.switchSideBarPanel(f,b),a.Event.stop(d)}})}function q(b){for(var c=this,d=c.module,e=d.getEl("dvYxRecomList"),f=5,g=b*f,h=(b+1)*f,i=e.find(".gWel-RGC-box-sml img"),j=g;h>j;j++)if(j<i.doms.length){var k=a(i.doms[j]);k&&!k.attr("src")&&k.attr({src:k.attr("data-url")})}}function r(a){var b,c=this;return c.module,b='<div><iframe allowtransparency="allowTransparency" class="iframe" frameborder="0" scrolling="no" src="'+a+'" width="740" height="360">'+M.t("正在加载...")+"</iframe>"+"</div>"}function s(){var b=this,c=b.module,d=c.action,e=[],f=d.getConfigTabs();f.all;var g=f.show,h=f.wait,i=[],j=[];if(g.length<6){var k={tabid:"new",text:M.t("新增"),show:!0,img:"",mode:"new"};g.push(k)}c._bIsChangeTab=!1,e[e.length]='<div class="nui-mask gWel-option-mask " id="'+c.createId("dvConfigMask")+'"></div>',e[e.length]='<div class="gWel-option " id="'+c.createId("dvConfigTabs")+'"> <div class="gWel-option-inner">',e[e.length]='<div class="gWel-tips gWel-tips-center gWel-tips-err" id="'+c.createId("dvConfigTips")+'" style="display:none"></div>',e[e.length]='<div class="gWel-option-list">',e[e.length]='<div id="'+c.createId("dvWelcomeConfigShow")+'" >',P.each(g,function(b,c){var d=new a.WelcomeItem(c);i.push(d),e[e.length]=d.html()}),e[e.length]="</div>",e[e.length]=' <div id="'+c.createId("dvWelcomeConfigLine")+'" class="list-title">'+'<div class="line line-left"></div>'+'<div class="text"><span class="w-drag"><b class="w-drag-ln1">&nbsp;</b><b class="w-drag-ln2">&nbsp;</b><b class="w-drag-ln3">&nbsp;</b><b class="w-drag-ln4">&nbsp;</b><b class="w-drag-ln5">&nbsp;</b><b class="w-drag-ln6">&nbsp;</b></span>'+M.t("可拖动下面栏目到常用区")+"</div>"+'<div class="line line-right"></div>'+"</div>",e[e.length]='<div id="'+c.createId("dvWelcomeConfigWait")+'">',P.each(h,function(b,c){var d=new a.WelcomeItem(c);j.push(d),e[e.length]=d.html()}),e[e.length]="</div>",e[e.length]='<div class="item item-proxy" id="'+c.createId("dvItemMoreClose")+'"></div></div>',e[e.length]="</div></div>",a(document.body).append(e.join(""));var l=a("#"+c.createId("dvConfigMask"));l.addClass("gWel-option-mask-show"),setTimeout(function(){var b=a("#"+c.createId("dvConfigTabs"));b.addClass("gWel-option-show")},1),a.Component.setEvents(),b._initConfigTabs()}function t(){function b(){if(a.Browser.chrome()||a.Browser.safari()?(e.removeClass("gWel-option-show"),f.removeClass("gWel-option-mask-show"),setTimeout(function(){e.remove(),f.remove()},200)):(e.remove(),f.remove()),d._bIsChangeTab){var b=!($S("ad").show===!1&&"ud"==$S("ad").userType);c.renderTabHtml(),b||c.renderNoAdRecom(),a.Component.setEvents()}}var c=this,d=c.module,e=a("#"+d.createId("dvConfigTabs")),f=a("#"+d.createId("dvConfigMask")),g=a("#"+d.createId("dvItemMoreClose")),h=a("#"+d.createId("dvConfigTips"));f.listen("click",b),h.listen("click",function(c){h.hasClass("gWel-tips-err")?a.Event.cancelBubble(c):b()}),a(document.body).listen("keyup",function(a){27==a.keyCode&&b()}),e.find(".gWel-option-inner").listen("click",function(b){a.Event.cancelBubble(b)}),g.listen("click",function(){b()}),e.listen("click",function(){b()})}function u(){var b=this,c=b.module,d=a("#"+c.createId("dvConfigTips"));d.hasClass("gWel-tips-err")?(d.html('<span class="gWel-tips-txt"></span>'),d.removeClass("gWel-tips-err")):(d.html('<span class="gWel-tips-icon"><b class="gWel-ico"></b></span><span class="gWel-tips-txt">'+M.t("最多可自定义添加5项")+"</span>"),d.addClass("gWel-tips-err"))}function v(c){var d,e=this,f=e.module,g=(f.action,""),h=!1,i=f.getEl("dvHealth"),j=M.t("您还未体检过，请点击进行体检。"),k=L,l=!1;if(c instanceof b.Object){var m=c.mark,n=K.getTime(),o=new Date(c.lastChkDate),p=Math.round((n.getTime()-o.getTime())/864e5);j=p>30?M.t("您的邮箱已经")+p+M.t("天没有体检，强烈建议您立即体检！"):100==m?M.t("您的邮箱很安全，请继续保持并定期体检。"):100>m&&m>89?M.t("您的邮箱状态良好，请继续保持并定期体检。"):89>=m&&m>59?M.t("您的邮箱存在一些风险，请及时进行体检并修复。"):M.t("您的邮箱存在安全隐患，请立即进行体检并修复！"),89>=m||p>30?(i.removeClass("gWel-mailInfo-health-suc"),i.addClass("gWel-mailInfo-health-err")):(i.removeClass("gWel-mailInfo-health-err"),i.addClass("gWel-mailInfo-health-suc")),g='<div><div class="gWel-mailInfo-ico" ><b class="nui-ico nui-ico '+(m>89&&30>=p?"nui-ico-safety-green":"nui-ico-safety-red")+'"></b>'+"</div>"+'<div class="gWel-mailInfo-txt">'+M.t("安全度:")+(p>30?M.t("过期"):+($G.environment.isCh?m:""))+"</div></div>",c.mobileBinded||(l=!0,k.getMobile()||(h=!0),f.log("health_no_mobile","show",1))}else l=!0,g='<div><div class="gWel-mailInfo-ico"><b class="nui-ico nui-ico nui-ico-safety-red"></b></div><div class="gWel-mailInfo-txt">'+M.t("安全度")+"</div></div>",i.addClass("gWel-mailInfo-health-err"),k.getMobile()||(h=!0);if(l){var q=a.LocalStorage.get("mail_health_check_time",!0),r=0;if(null!==q)try{r=parseInt(q,10)}catch(s){r=0}var t=K.getTime(),u=t.getTime();r>0?2592e5>u-r&&i.addClass("gWel-mailInfo-health-err-flash"):(a.LocalStorage.set("mail_health_check_time",""+u,{domain:$S("fullDomain"),expires:90}),i.addClass("gWel-mailInfo-health-err-flash"))}i.attr({title:j}),i.html(g),i.listen("click",function(){try{var a=$L("interface.OptionInterface",this)}catch(b){return b}a.entry({module:"LinkModule",linkName:"optimizer_check",exit:!0}),c.mobileBinded||f.log("health_no_mobile","click",1),f.log("health","click",1)}),d=a.Component.html({html:g,listeners:{click:{handler:function(){try{var a=$L("interface.OptionInterface",this)}catch(b){return b}a.entry({module:"LinkModule",linkName:"optimizer_check",exit:!0}),c.mobileBinded||f.log("health_no_mobile","click",1),f.log("health","click",1)}},mouseover:{handler:function(){i.addClass("gWel-mailInfo-item-hover")}},mouseout:{handler:function(){i.removeClass("gWel-mailInfo-item-hover")}}}}),i.html(d),a.Component.setEvents(),e._manageTips("mobile",!1)}function w(b,c){var d=this,e=d.module;e.action;var f=e.getEl("dv"+c+"SideBarCont"),g=e.getEl("dv"+c+"SideBarCtrl"),h=b.getAttribute("data-index")-0;if(g.find("[data-index="+e._current[c]+"]").removeClass("item-on"),f.find("[data-index="+e._current[c]+"]div").hide(),f.find("[data-index="+h+"] iframe")){var i=f.find("[data-index="+h+"] iframe").dom;(null===i.getAttribute("src")||""===i.getAttribute("src"))&&(i.src=i.getAttribute("data-url"))}a(b).addClass("item-on"),a(b).find(".gWel-ico-redot")&&a(b).find(".gWel-ico-redot").remove(),f.find("[data-index="+h+"]div").show(),"mailrecom"==c&&0===h&&(f.findParent(".gWel-tabs-panel-hasSidebar").addClass("gWel-tabs-panel-hasSidebar-bgTSP"),document.documentElement.clientWidth>1700&&f.findParent(".gWel-tabs-panel").addClass("gWel-tabs-panel-widescreen")),"mailrecom"==c&&0!==h&&(f.findParent(".gWel-tabs-panel-hasSidebar").removeClass("gWel-tabs-panel-hasSidebar-bgTSP"),document.documentElement.clientWidth>1700&&f.findParent(".gWel-tabs-panel").removeClass("gWel-tabs-panel-widescreen")),e._current[c]=h}function x(b,c){var d=this,e=d.module,f=e.action,g=f.getRecommend(),h=e.getEl("dvRecPanelCont"),i=e.getEl("dvRecPanelCtrl"),j=b.getAttribute("data-index")-0;if(i.find("[data-index="+e._recCurrent+"]").removeClass("gWel-ico-switch-on"),i.find("[data-index="+e._recCurrent+"]").addClass("gWel-ico-switch"),h.find("[data-index="+e._recCurrent+"]").removeClass("item-show"),"mailrecom"==c){if(""===h.find("[data-index="+j+"]").html()&&g[j]){var k=g[j].html;h.find("[data-index="+j+"]").html(k)}var l=e._recCurrent;if(g.length>j+1&&(l=j+1),""===h.find("[data-index="+l+"]").html()&&g[l]){var k=g[l].html;h.find("[data-index="+l+"]").html(k)}}a(b).addClass("gWel-ico-switch-on"),h.find("[data-index="+j+"]").addClass("item-show"),e._recCurrent=j}function y(){var a,b=this,c=b.module,d=c.action,e="dvmailrecompanel",f=c.getEl(e);c.mailRecomInterval("stop"),a=b._getInnerSideBarHtml(d.getConfigTabs().all[0].info,"mailrecom",{extcls:"gWel-tabs-panel-ctrl-high"}),f&&f.html(a),b._initPanelEvent("mailrecom"),c.mailRecomInterval("start")}function z(a){var b=this,c=b.module;$G.environment.isCh&&c.getEl("dvGreetText")&&c.getEl("dvGreetText").html(a)}function A(a){var b=this,c=b.module,d="dvmailrecompanel",e=c.getEl(d);a='<div class="gWel-RGC-big-box">'+a+"</div>",e&&e.html(a)}function B(b){var c=this,d=c.module,e=d.getEl("dvPrmot"),f=a.Component.html({html:'<a title="'+M.t("去广告")+'" href="javascript:void(0);" class="nui-closeable-x"></a>',listeners:{click:{handler:function(){try{var a=$L("product.Privileges",this)}catch(b){return b}a.showProduct("noAd","noAd_hyyyc"),e.hide()}}}}),g=K.getTime();g>new Date(2016,6,20).getTime()&&g<new Date(2016,7,4).getTime()&&(f="");var h=f+b;e&&(e.html(h),a.Event.listen(e,"mouseover",function(){e.addClass("AM1")}),a.Event.listen(e,"mouseout",function(){e.removeClass("AM1")}),a.Component.setEvents(),e.show())}function C(){var b=this,c=b.module;c.action;var d,e="dvmailrecompanel",f=c.getEl(e);if(!c.getEl("noAdFrame")){var g=c.getEl("dvTabs"),h=a.Uri.getUrl("welcome_noAd");d='<div><iframe allowtransparency="allowTransparency" id="'+c.createId("noAdFrame")+'" class="iframe" width="740" height="360" frameborder="0" scrolling="no" src="'+h+'" ></iframe>'+"</div>",f&&(f.css({width:"100%",display:"block",height:"400px"}),f.html(d)),g&&g.find(".gWel-recommend-title").hide()}}function D(a){var b=this,c=b.module,d=c.action,e='<a href="javascript:void(0);" class="gWel-avatar-inner nui-faceEdit nui-faceEdit-96" ><img src="'+a+'" width="100" height="100"><span class="nui-faceEdit-tips">'+M.t("点击编辑头像")+"</span></a>";c.getEl("dvAvatar").html(e),b._initAvatarEvented||(b._initAvatarEvented=!0,c.getEl("dvAvatar").listen("click",function(){c.log("avatar","click",1);try{var a=$L("support.OptionSupport",this)}catch(e){return e}a.avatarUploader({uploader:function(){d.getAvatar(O.bind(b.renderAvatar,b))},cancel:function(){}})}))}function E(c){var d=this,e=d.module;e.action;var f,g,h=e.getEl("dvClub");c&&(g='<div class="gWel-mailInfo-ico"><b class="nui-ico gWel-ico gWel-ico-jifen"></b><b class="nui-ico gWel-ico gWel-ico-jifen-plus gWel-ico-jifen-plus-1"></b><b class="nui-ico gWel-ico gWel-ico-jifen-plus gWel-ico-jifen-plus-2"></b><b class="nui-ico gWel-ico gWel-ico-jifen-plus gWel-ico-jifen-plus-3"></b><b class="nui-ico gWel-ico gWel-ico-jifen-plus gWel-ico-jifen-plus-4"></b><b class="nui-ico gWel-ico gWel-ico-jifen-plus gWel-ico-jifen-plus-5"></b><b class="nui-ico gWel-ico gWel-ico-jifen-plus gWel-ico-jifen-plus-6"></b></div>',"0"===c.jibie&&(h.jibie="1"),g+='<div class="gWel-mailInfo-txt">'+M.t("积分")+($G.environment.isCh?":"+c.jifen:"")+"</div>",f=a.Component.html({html:g,listeners:{click:{handler:function(){b.open("http://club.mail.163.com/jifen/ucenter/how2GetJifen.do?from=webmail"),e.log("club","click",1)}},mouseover:{handler:function(){h.addClass("gWel-mailInfo-item-hover"),h.find(".gWel-mailInfo-txt").html(M.t("签到赚积分"))}},mouseout:{handler:function(){h.removeClass("gWel-mailInfo-item-hover"),h.find(".gWel-mailInfo-txt").html(M.t("积分")+($G.environment.isCh?":"+c.jifen:""))}}}}),h.addClass("gWel-mailInfo-item gWel-mailInfo-jifen gWel-mailInfo-jifen-level"+c.jibie),h.html(f),h.show(),a.Component.setEvents(),d._manageTips("mobile_pre",!0))}function F(b,c,d){var e=this,f=e.module,g=f.action,h=["constell","mobile","mobile_pre"],i={constell:{isShow:!1},mobile:{isShow:!1}},j=!0,k=0;e._preHandleTips||(e._preHandleTips={}),a.Array.has(h,b)&&(e._preHandleTips[b]||(e._preHandleTips[b]={}),e._preHandleTips[b].ready=!0,e._preHandleTips[b].show=c,d&&(e._preHandleTips[b].data=d),a.Object.each(e._preHandleTips,function(b,c){return c.ready?(k++,void 0):(j=!1,a.BREAK)}),j&&k>=h.length&&(i.mobile.data=e._preHandleTips.mobile.data,g.getTips("weltips_mob",function(a){!a&&e._preHandleTips.mobile.show&&(i.mobile.isShow=!0),i.mobile.isShow||g.getTips("weltips_constell",function(a){!a&&e._preHandleTips.constell.show&&(i.constell.isShow=!0)}),e._showTips(i)})))}function G(d){var e,f=this,g=f.module,h=g.action;if(d.constell.isShow&&(f._tipLayer=new a.Layer({uniqueLayer:!0,params:"hasArr arrRight hasClose",renderTo:g.getEl("ScrollDiv"),pointTo:g.getEl("dvConstellation").find("div.simple"),fixX:-5,fixY:5,width:"200px",content:M.t("新增星座运程指数，可查看每日运程情况"),listeners:{closeclick:function(){h.setTips("weltips_constell",!0)}}}),f._tipLayer.render()),d.mobile.isShow){var i,j=d.mobile.data;i="<strong>"+M.t("您的邮箱存在风险，建议尽快改善")+"</strong><br/>"+M.t("您的密码保护不够安全，如密码被他人篡改将无法通知您。强烈建议关联手机，忘记密码也可通过手机短信找回。")+"<br/><div>"+a.Link.html({text:M.t("下次不再出现"),extcls:"nui-txt-cLink",click:function(){g.log("mobileTips","close","1"),e.hide(),h.setTips("weltips_mob",!0)},listeners:{render:function(){var a=document.createElement("div").style,b=a.cssFloat!==c?"cssFloat":a.styleFloat!==c?"styleFloat":"float",d={};d[b]="right",this.getEl().css(d)}}}),j&&j.mibao?(i+=a.Link.html({text:M.t("立即关联手机号码"),extcls:"nui-txt-cLink",click:function(){b.open("https://reg.163.com/mibao/controller/mob/bindsubmit.jsp"),g.log("mobileTips_mibao","click","1"),h.setTips("weltips_mob",!0)}}),g.log("mobileTips_mibao","show","1")):(i+=a.Link.html({click:function(){try{var a=$L("support.OptionSupport",this)}catch(b){return b}a.bindMobile(),g.log("mobileTips_normal","click","1"),h.setTips("weltips_mob",!0)},extcls:"nui-txt-cLink",text:M.t("立即关联手机号码")}),g.log("mobileTips_normal","show","1")),i+="</div>",e=new a.Layer({renderTo:g.getEl("ScrollDiv"),pointTo:g.getEl("dvHealth"),content:i,subclass:"tipsLayer",uniqueLayer:!0,width:"300px",params:"arrUp"}),a.Component.setEvents()}}function H(a){for(var b={},c=0;c<a.length;c++){var d=a[c].tabid;b[d]=a[c]}return b}try{var I=$L("module.BaseView")}catch(J){return J}try{$L("module.welcome.WelcomeAction")}catch(J){return J}try{var K=$L("util.Misc")}catch(J){return J}try{var L=$L("init.SenderList")}catch(J){return J}var M=new $I18N("module.welcome.WelcomeView"),N=a.Object,O=a.Function,P=a.Array;a.String;var Q=6==a.Browser.ie(),R=a.createClass($N("module.welcome.WelcomeView"));N.mix(R,I,{WEATHER_DICT:{"00":!0,"01":!0,"02":!0,"03":!0,"04":!0,"05":!0,"06":["19"],"07":["08","09","10","11","12","21","22","23","24","25"],13:!0,14:["15","16","26","27","28"],17:["18"],20:["29","30","31"],53:!0},COSTELLATION:{"水瓶座":1,"双鱼座":2,"白羊座":3,"金牛座":4,"双子座":5,"巨蟹座":6,"狮子座":7,"处女座":8,"天秤座":9,"天蝎座":10,"射手座":11,"摩羯座":12},CONSTELLATION_ID:8},{init:d,getHtml:e,_fShowYxListImage:q,_getTopHtml:f,renderGreet:z,renderTabHtml:j,renderMailRecom:y,renderMailRecomBig:A,renderRightAd:B,renderNoAdRecom:C,_getInnerRecPanelHtml:o,_getInnerSideBarHtml:n,_initPanelEvent:p,switchPanel:x,switchSideBarPanel:w,_getIframePanelHtml:r,renderWeather:k,renderHealth:v,renderWarnTips:m,renderAvatar:D,renderClub:E,renderRecommend:g,renderYxRedPoint:h,_renderRecommendItem:i,initWeatherConfig:l,configTabs:s,_initConfigTabs:t,_toggleConfigErrorTips:u,_manageTips:F,_showTips:G,_parseToObjConfig:H})}($,window),function(a,b){function c(b){function c(){return!1}var d=this;d.bUdProxyResult=!1,d.bGetDataCallbacked=!1,d.welcomeBeta=c(),a.Ud.getProxy({field:["product.vipMember"],call:function(c){d.vipMember=c["product.vipMember"],a.Browser.isIE()&&a.Browser.isIE("<9")&&(d.vipMember=!1),d.bUdProxyResult=!0,d.bGetDataCallbacked||(b(),d.bGetDataCallbacked=!0)}}),setTimeout(function(){d.bUdProxyResult||d.bGetDataCallbacked||(d.vipMember=!1,b(),d.bGetDataCallbacked=!0)},3e3)}function d(){var a=this,b=a.view;a.action;var c=!($S("ad").show===!1&&"ud"==$S("ad").userType);gAd.getByCallback(["greet","welBanner","rcmd2"],{},function(a){return a.greet&&b.renderGreet(a.greet),c?(a.welBanner&&b.renderRightAd(a.welBanner),a.rcmd2&&b.renderMailRecomBig(a.rcmd2),void 0):(b.renderNoAdRecom(),void 0)})}function e(){var b=this,c=b.view,d=b.action;c.init();var e=!($S("ad").show===!1&&"ud"==$S("ad").userType);e&&(b.recommedCallBack=0),d.init(function(){b.vipMember||b.welcomeBeta||(c.renderTabHtml(),b._gadRender(),a.Ext.avatar_show&&d.getAvatar(w.bind(c.renderAvatar,c)),a.Thread.run(function(){$G.environment.isCh&&d.getCityCode(function(a){d.getWeather(a,w.bind(c.renderWeather,c,!1))}),d.getYxNewUserInfo(w.bind(c.renderYxRedPoint,c))}),a.Thread.run(function(){d.getHealth(w.bind(c.renderHealth,c))}),a.Thread.run(function(){b.warnTips()}),a.Thread.run(function(){b.resize(),b.getEl("ScrollDiv").listen("scroll",w.bind(b.resize,b))}),a.Thread.run(function(){d.getTips()}))}),e&&a.Listener.listen("ad:dataChange",a.Function.bind(b._gadRender,b))}function f(){var a=this,b=a.view,c=a.action;c.getCityMap(function(a){b.initWeatherConfig(a)})}function g(a){var b=this,c=b.view,d=b.action;d.setPos(a),d.getWeather(a,function(a){c.renderWeather(!0,a),c._showWeatherConfig=!1})}function h(c){var d=this,e=d.getEl("dvYxRecomList");if(e){var f=0;try{f=e.find(".gWel-recommend-contYX-group").doms.length}catch(g){}f>0&&("start"==c?d._recominterval||"mailrecom"!=d._currentTadid||(d._recominterval=setInterval(function(){if(a.Context.getModule()==d)try{}catch(b){}},x.MAILRECOM_SWITCH_TIME)):"stop"==c&&d._recominterval&&(b.clearInterval(d._recominterval),d._recominterval=null))}}function i(){var a=this;a.mailRecomInterval("stop")}function j(){var a=this,b=a.action;a.mailRecomInterval("start"),$G.environment.isCh&&a.getEl("dvGreetText")&&a.getEl("dvGreetText").html(b.getGreet()),a.resize(),a._yxRecPage=1,a._gadRender()}function k(b){var c=this,d=c.view,e=c.action,f="";if(b){if(b.warnLoginDetail)try{var g=new Date(b.warnLoginDetail.time);return f=u.t("您的邮箱帐号于")+a.Date.format(g)+u.t("在")+u.t(b.warnLoginDetail.province)+u.t("登录，若非本人操作，可能存在盗号风险，请及时"),f+='<a href="https://reg.163.com/setinfo/ChangePwd_1.jsp?from=webmail_welcometips_mima" class="gWel-warning-link" target="_blank">'+u.t("修改密码")+"</a>",d.renderWarnTips("err",f,{sKey:"loginDetail",sValue:g.getTime()}),a.Log.cache({welcome_tips_logindetail_show:"1"}),void 0}catch(h){}if(b.warnLogin)return f=u.t("您的账号存在被盗风险，为了防止您的账号密码泄露，可能造成的经济损失，建议您尽快"),f+='<a href="https://reg.163.com/setinfo/ChangePwd_1.jsp?from=webmail_welcometips_mima" class="gWel-warning-link" target="_blank">'+u.t("修改密码")+"</a>",f+='<a href="https://reg.163.com/mibao/controller/mob/index.jsp?from=webmail_welcometips_mobile" class="gWel-warning-link" target="_blank">'+u.t("绑定手机")+"</a>",d.renderWarnTips("err",f),a.Log.cache({welcome_tips_login_show:"1"}),void 0;if(b.warn4WLetter){var i;i=$S("isyeah")?a.Link.html({text:u.t("旧邮件归档"),extcls:"nui-txt-link",listeners:{render:function(){this.getEl().dom.style.cssText="color:#fff !important;text-decoration:underline;"}},click:function(){e.setMailArchive("on",function(){a.Msgbox.show({icon:"suc",title:u.t("您已成功开通旧邮件自动存档功能。")})},function(b){a.Msgbox.show({icon:"error",title:u.t("开通失败：")+b})})}}):'<a class="nui-txt-link" style="text-decoration:underline;" target="_blank" href="javascript:void(0)" onclick="$E(\'interface.OutlinkInterface\', function(outlink){outlink.goOutlink({key : \'optimizer_clean\'});$.Log.cache({\'b_welcomeview_warntips_cleanup_click\':1});});">'+u.t("清理邮箱")+"</a>";var j=u.t("温馨提醒：邮件数量过多，会影响您处理邮件的效率，建议您 ")+i;return $S("isyeah")?e.getMailArchive(function(a){a.enable||d.renderWarnTips("err",j)}):d.renderWarnTips("err",j),void 0}if(b.warnMobile)return f=u.t("您的邮箱帐号没有绑定手机号码，处于高危状态容易被盗号，建议您立即验证手机号码。"),f+='<a href="https://reg.163.com/mibao/mob/bindIndex.do" class="gWel-warning-link" target="_blank">'+u.t("马上加强保护")+"</a>",d.renderWarnTips("err",f),a.Log.cache({welcome_tips_mobileBind_show:"1"}),void 0;if(b.warnSpam)return f=u.t("您的邮箱帐号没有开启收信智能分类，可能会导致大量垃圾邮件、广告邮件和订阅邮件进入收件箱，建议您立即开启。"),f+="<a class=\"gWel-warning-link\" href=\"javascript:void(0)\" target=\"_blank\" onclick=\"$E('interface.OptionInterface', function(OptionInterface){OptionInterface.entry({module: 'AntiSpamModule',inputName: 'smartSort'});$.Log.cache({'b_welcomeview_warntips_spam_click':1});});\">"+u.t("前往开启")+"</a>",d.renderWarnTips("err",f,{sKey:"spam",sValue:"1"}),a.Log.cache({welcome_tips_spam_show:"1"}),void 0;if(b.warnBrowser&&6==a.Browser.ie())return f=u.t("您的浏览器为IE6.0, 版本过旧存在严重的安全风险，11月1日后将无法登录网易邮箱，建议您改用谷歌浏览器或火狐浏览器等。"),d.renderWarnTips("err",f),a.Log.cache({welcome_tips_ie6_show:"1"}),void 0}}function l(){var a=this,b=(a.view,a.action);b.getWarn(function(b){a.handleWarnTips(b)})}function m(){var a=this,b=a.getEl("dvWarnTips");b&&b.hide()}function n(){var b=this;b._alreadyAutoSwitch||setTimeout(function(){b._noAutoSwitch||b._alreadyAutoSwitch||(a.Component.find("#"+b.createId("compWelcomeTab")).active(0),b._alreadyAutoSwitch=!0)},7e3)}function o(c){function d(){f.hasClass("gWel-tips-err")?(f.html('<span class="gWel-tips-txt"></span>'),f.removeClass("gWel-tips-err")):(f.html('<span class="gWel-tips-icon"><b class="gWel-ico"></b></span><span class="gWel-tips-txt">'+c+"</span>"),f.addClass("gWel-tips-err"))}var e=this,f=a("#"+e.createId("dvConfigTips"));if(c){f.html('<span class="gWel-tips-icon"><b class="gWel-ico"></b></span><span class="gWel-tips-txt">'+c+"</span>"),f.show();var g=0,h=null;f.addClass("gWel-tips-err"),h=b.setInterval(function(){g++,d(),(g>3||f.hidden)&&b.clearInterval(h)},200)}else f.hide()}try{var p=$L("module.BaseModule")}catch(q){return q}try{var r=$L("module.welcome.WelcomeView")}catch(q){return q}try{var s=$L("module.welcome.WelcomeAction")}catch(q){return q}try{var t=$L("module.welcome.WelcomeListener")}catch(q){return q}var u=new $I18N("module.welcome.WelcomeModule"),v=a.Object,w=a.Function,x=a.createClass($N("module.welcome.WelcomeModule"));v.mix(x,p,{MAILRECOM_SWITCH_TIME:3e3,View:r,Action:s,Listener:t,cls:"gWel",ariaLabel:u.t("欢迎页")},{init:e,getData:c,showWeatherConfig:f,setWeatherPos:g,mailRecomInterval:h,switchOut:i,switchIn:j,_gadRender:d,warnTips:l,handleWarnTips:k,hideWarnTips:m,autoSwitchMailRecom:n,showTips:o})}($,window),function(){var a="standard",b={"module.welcome.WelcomeView":!0,"module.mbox.BrandView":!0,"module.mbox.Field":!0,"module.mbox.Letter":!0,"module.mbox.ListView":!0,"module.mbox.MboxView":!0,"module.mbox.None":!0,"module.mbox.Pager":!0,"module.mbox.Period":!0,"module.mbox.PreviewView":!0,"module.mbox.SearchView":!0,"module.mbox.Tips":!0,"module.mbox.Title":!0,"module.mbox.Toolbar":!0,"module.compose.ComposeView":!0,"module.read.BaseReadView":!0,"module.read.ReadView":!0,"module.read.MailReaderView":!0,"module.thread.ThreadView":!0,"module.contact.ContactView":!0,"module.contact.ContactTpl":!0,"module.contact.NavConf":!0,"module.contact.Toolbar":!0,"module.options.MailSecurityView":!0,"module.options.BaseListSection":!0,"module.options.BaseOptionView":!0,"module.options.BaseSection":!0,"module.options.FolderTagView":!0,"module.options.LinkView":!0,"module.options.MailFilterView":!0,"module.options.NavConf":!0,"module.options.PersonalView":!0,"module.options.SectionAntiSpam":!0,"module.options.SectionAccount":!0,"module.options.SectionAdvanceSet":!0,"module.options.SectionAutoFw":!0,"module.options.SectionCompose":!0,"module.options.SectionBaseSet":!0,"module.options.SectionAfterSending":!0,"module.options.SectionMailRecall":!0,"module.options.SectionMailCenter":!0,"module.options.SectionMailCenterDetail":!0,"module.options.SectionMailCenterListener":!0,"module.options.SectionReadMail":!0,"module.options.SectionRefuseList":!0,"module.options.SectionRelatedAccount":!0,"module.options.SectionRelatedAccountListener":!0,"module.options.SectionSafeList":!0,"module.options.SectionSenderManage":!0,"module.options.SectionSenderManageListener":!0,"module.options.SectionSenderSubject":!0,"module.options.SignView":!0,"module.options.SkinView":!0};
$G.mailPattern[a]=b}($,window);